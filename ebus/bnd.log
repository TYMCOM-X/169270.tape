!;PCOM ND2100.LOG=EBUS ND2100/LOG
!;PCOM ND2107.LOG=EBUS ND2107/LOG
!PCOM ND2333.LOG=EBUS ND2333/LOG
!SYSNO
TYMSHARE F33-P035/E 3-2-89
!DAYTIME
9-NOV-1989 20:02:50 PST

!; This CTL file rebuilds the BND file for an EBUS base from scratch.
!; The following files must exist:
!DIRECT (EBUS)EBUS02.O02

EBUS02  O02       9   9-MAY-88 1336    ALL RD  NO      4096          

!DIRECT ND2333.TYM,ND2333.T01,ND2333.CMD,ND2333.C00,ND2333.C01

ND2333  T01       2   9-NOV-89 1750    ALL RD  NO        53          
ND2333  TYM       3   9-NOV-89 1717    ALL RD  NO       621          
ND2333  C00       2  26-AUG-88 1859    ALL RD  NO        42          
ND2333  CMD       2  26-AUG-88 1856    ALL RD  NO        43          
ND2333  C01       2  24-AUG-88 1719    ALL RD  NO        37          

!DIRECT ISXRAY.GGY,GOODGY.NQA

GOODGY  NQA       2  14-NOV-88  906    ALL RD  NO       362          
ISXRAY  GGY       2   2-JUL-87 1305    ALL RD  NO       128          

!
!; Create the ISIS Kernel from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND2333.CMD

;; ISIS-II Version 7.03 Sample Command File
;@   (SOURCE)I2IS07.I03

End of assembly
;@   ND2333.TYM

End of assembly
;@   (TYMNET)GOODGY.NQA

End of assembly
;@   (SOURCE)I2IS07.R03

SYNC 1BD2 243E
CLOCKS 243E 257E
IPI 257E 27DE
FLASH 27DE 2C7A
KCAREA 2C7A 2EDC
TTY 2EDC 3200
KERNEL 3200 7940
DDT 7940 0A900
   3337d bufferlets allocated to dispatcher
DISPAT 0A900 16400
.............................................



    ***  ISIS-II  ***
      Version 7.3d

TYMNET-II Node 2333, Kernel Host 4459
Maximum slot number is 2

       >>> HARDWARE CONFIGURATION <<<

Expects enhanced sync microcode
Expects enhanced async microcode
Expects MAC II
Expects maximum baud rate of 1200
Expects 1 sync board(s)
Expects 1 IPI processor(s)
   IPI device 0 has device address 88

       >>> SLOT CONFIGURATIONS <<<

SLOT 0, NODE CODE, has 350 K-bytes of core, from 16400 to 6DBFF
   3 logical unit(s)
   L.U. 0 is sync line 0
   L.U. 1 is sync line 1
   L.U. 2 is sync line 2

SLOT 1 has 266 K-bytes of core, from 6DC00 to 0B03FF
   1 logical unit(s)
   L.U. 0 is M.Board channel 0

SLOT 2 has 100 K-bytes of core, from 0B0400 to 0C93FF
   no logical units

***Highest location used in this configuration is 0C9400

Requires 809d k-bytes of core


.............................................


Code Generated:  11/10/89  04:04:46 GMT

.............................................

End of assembly
;X   (SOURCE)I2IS07.P03

;; ISIS-II Version 7.03 Patch File

;@   (SOURCE)I2IS07.Q03

ISIS 7.03 PATCH 1
  Fixes reversed CTS and DSR on HDLC micro.

ISIS 7.03 PATCH 2
  This patch is superseded by patch 4.

ISIS 7.03 PATCH 3
  Causes ISIS to read memory error log before crashing.

ISIS 7.03 PATCH 4
  Refreshes CPU and MAC registers to avoid degradation.
  (Updated version of patch 2)

ISIS 7.03 PATCH 5
  Correctly initializes registers for checking newlog bit array

ISIS 7.03 PATCH 6
  Wraps around accounting char counts when count exceeds 28 bits

ISIS 7.03 PATCH 7
Patch to prevent disk from doing retries on a 
controller errror

ISIS 7.03 PATCH 8
  Corrects initialization order of Emulated Sync.
  Also it allows window for interrupts to be flushed
  during initialization.

ISIS 7.03 PATCH 9
have DCSLOT free channels for ports in time-out
or clean-up

ISIS 7.03 PATCH 10
Have KRASHI report crashes to dispatcher
and pause slot for 4 seconds

ISIS 7.03 PATCH 11
Keep DDT Mask command from crashing machine

ISIS 7.03 PATCH 12
Have restart SVC disable watch-frog timer

ISIS 7.03 PATCH 13
Crash ISIS on DMA parity error

ISIS 7.03 PATCH 14 
 CLEAR DHANG ON SYSTEM CRASH 

ISIS 7.03 PATCH 15 
THIS PATCH IS USED TO CORRECT  A TID RECOGNITION5 
FOR 300 BAUD WHEN USING HIGH SPEED INTERRUPTS.

ISIS 7.03 PATCH 16 
ISIS VERSION GREATER 6 ALLOWS WRITING PAST SEGMENT 
BOUNDARIES WITHOUT PROTECTION.  CHANGES MADE FOR  
MULTIMEG SUPPORT INDUCED THIS PROBLEM.  THIS PATCH 
PROTECTS ISIS FROM OVER WRITING BOUNDARIES. 
See NSR 1772 

ISIS 7.03 PATCH 17
This patch fixes timing problems associated
with the initialization of HDLC micro-engine
channels that are emulation TYMNET sync.

End of assembly


1;F   ND2333.NIB

70;T
0,SUMTBL;P
INTLEN,IEND-INTLEN;P
%P
SEGF,SFSIZE;P
%Q
EXIT

!
!; Create the node code for slot 0 from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND2333.C00

;; UPDATED 88/05/18 ND2333 ISIS-II T-II JOE SMITH
;A   (SOURCE)TII05.I22

End of assembly
;A   ND2333.TYM

End of assembly
;A   (TYMNET)ISXRAY.GGY

End of assembly
;A   (SOURCE)TII05.R22

End of assembly
;A   (SOURCE)TII05.F22


TYMNET-II Node Code, Version 5.22, ISIS Node

Node: 2333  Kernel Host: 4459

Ports:		Lines:		Links:
   128d Pthru	     3d Sync	     3d TIILNK
     3d Xray	     0d SIO	     0d XLNK
		     3d Total	     3d Total
   256d Disp
     3d Krnl

Maximum number of circuits =  433d 


Bufferlet storage space:

  5EB8x bytes (  24d KB) for  433d circuit buffers ( 56d bytes per circuit)
 230B6x bytes ( 141d KB) for  273d history buffers (525d bytes per termination)
 28F6Ex bytes ( 164d KB) for  433d total circuits  (387d bytes per circuit)


Memory used by this configuration = 57800x, 350d KB.

Optimal amount of memory for this configuration =   224d  KB.

End of assembly
;A   (SOURCE)TII05.P22


       NETID is 1d.  This is a TYMNET network node.




PATCH added on 870811 at 0900 by JLADEN.
     Starts at ATTLI0+20 and is 10x bytes long
<<< FIX RESET VERSION COMPATIBILTY PROBLEM >>>

PATCH added on 870907 at 0138 by SDW.
     Starts at RTBFA2+4 and is 6x bytes long
<<< PATCH TO FIX REGISTER USAGE BY IMPROVED REBUILD ROUTINE >>>

PATCH added on 870211 at 1800 by SDW.
     Starts at HSTDI4+0C and is 4x bytes long
<<< Patch to have XRAY HS U command display up hosts that have no ports >>>

PATCH added on 880121 at 1301 by sdw.RESET1.
     Starts at ATTL05-8 and is 6x bytes long
	Continues at PATCH1+0 and is 3Ax bytes long
<<< Make old style reset packet always have old style reset data >>>

PATCH added on 880829 at 1400 by sdw.RESET2.
     Starts at ATTLIN+8 and is 6x bytes long
	Continues at PATCH1+3A and is 54x bytes long
<<< Handle neighbor switching between old and expanded resets >>>

PATCH added on 880126 at 1756 by sdw.RES4M1.
     Starts at G04MIN and is 6x bytes long
	Continues at PATCH0+0 and is 0Ex bytes long
	Continues at PATCH1+74 and is 0D8x bytes long
<<< Send a old style reset every four minutes to help lines to come up >>>

PATCH added on 880126 at 1845 by sdw.RES4M2.
     Starts at G01SE3 and is 6x bytes long
	Continues at PATCH1+12C and is 8Ax bytes long
<<< Part 2 of patch to occasionally send old style resets. >>>

PATCH added on 880306 at 109 by sdw.FIX DB.
     Starts at DBEGIN and is 6x bytes long
	Continues at PATCH1+1B6 and is 1Cx bytes long
<<< Disable DB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 123 by sdw.FIX WB.
     Starts at XWRBUF and is 6x bytes long
	Continues at PATCH1+1D2 and is 30x bytes long
	Continues at xwrbuf+6 and is 12x bytes long
<<< Disable WB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 134 by sdw.REMZAP.
     Starts at REMZA6+2 and is 6x bytes long
	Continues at PATCH1+1F4 and is 10x bytes long
<<< Fix potential crash when Xray user zaps before clearing delay circuits >>>

PATCH added on 880307 at 0934 by sdw.NETIDBG.
     Starts at ATTNID and is 12x bytes long
	Continues at PATCH0+12 and is 8x bytes long
<<< Do not put neighbor with bad NETID on node's bad guy list >>>

PATCH added on 880317 at 1523 by sdw.XRAYIN.
     Starts at XRYIN7 and is 4x bytes long
<<< Fix local XRAY to have a dismiss when waiting for character >>>

PATCH added on 880408 at 1500 by SLN.FNDLNK.
     Starts at CRQZOG+6 and is 0Ex bytes long
	Continues at LEP9V2-20 and is 0Ex bytes long
	Continues at PATCH1+204 and is 4Cx bytes long
<<< Fix crash 0007 from Qexec corruption >>>

PATCH added on 880410 at 1525 by sdw.ATT.R2.
     Starts at ATTLDW and is 6x bytes long
	Continues at PATCH1+250 and is 14x bytes long
<<< Fix crash in line attach logic due to corrupted register >>>

PATCH added on 880405 at 2334 by sdw.WSZDWN.
     Starts at MCHD04+4 and is 6x bytes long
	Continues at TRLINZ and is 6x bytes long
	Continues at PATCH1+264 and is 66x bytes long
	Continues at PATCH0+1A and is 18x bytes long
<<< Fix windowsize matchdown to restore to original when link goes down >>>

PATCH added on 880425 at 1713 by sdw.HSecNS.
     Starts at XSTMS0 and is 4Cx bytes long
<<< Fix NS to show proper time spent in H-SEC process >>>

PATCH added on 880426 at 2214 by sdw.KDCMTS.
     Starts at XNEI7B and is 6x bytes long
	Continues at PATCH1+2CA and is 1Ax bytes long
<<< Fix Xray KD command to correctly count number of command circuits >>>

PATCH added on 880623 at 1330 by sdw.OOPS.
     Starts at SFAIL-0a and is 6x bytes long
	Continues at PATCH1+2E4 and is 10x bytes long
<<< Save R0 and R1 when doing software crashes >>>

PATCH added80706 at 1301 by CMR.XRDBRM.
     Starts at DBEGI8 and is 6x bytes long
	Continues at PATCH1+2F4 and is 20x bytes long
<<< Reset INTXRF flag when entering 'DB' command >>>

PATCH added on 880725 at 1500 by sdw.DBFILL.
     Starts at DBEGI5 and is 6x bytes long
	Continues at PATCH1+304 and is 1Ex bytes long
<<< Prevent crash caused by delay circuits using all bufferlets >>>

PATCH added on 880729 at 1600 by SDW.ZR7263.
     Starts at dsozw7 and is 6x bytes long
	Continues at PATCH1+322 and is 1Cx bytes long
<<< Fix problem with Zap With Reason which leads to a 7263 crash >>>

PATCH added on 880930 at 115 by sdw.NI cmd.
     Starts at XNID+10 and is 6x bytes long
	Continues at qrychn-6 and is 6x bytes long
	Continues at PATCH1+33E and is 100x bytes long
<<< Change Xray NI command to also display the NETIDs for each line >>>

PATCH added on 881128 at 0113 by sdw.GETPWR.
     Starts at getpwr+18 and is 0Ex bytes long
<<< Fix Xray GP to work for all Node and Host numbers >>>

PATCH added on 890625 at 1645 by sdw.ExpOld.
     Starts at atl061+4 and is 6x bytes long
	Continues at PATCH1+438 and is 60x bytes long
<<< Don't let links between v5.20+ neighbors come up on old style resets >>>

PATCH added on 881202 at 2313 by sdw.?slot.
     Starts at 0e00a4 and is 6x bytes long
<<< Set up Segment E so that DDT ?SLOT command works properly >>>

PATCH added on 881202 at 2255 by sdw.W.SegE.
     Starts at write4+0a and is 6x bytes long
	Continues at writf4+0a and is 6x bytes long
	Continues at chkdat+0f*4 and is 4x bytes long
	Continues at PATCH1+48A and is 40x bytes long
<<< Prevent Xray W or WS command from writing to Seg E or Seg F >>>

PATCH added on 881213 at 1655 by sdw.FIX RB.
     Starts at xrdbu3+4 and is 6x bytes long
	Continues at PATCH1+4BA and is 40x bytes long
<<< Put a range check on Xray RB command >>>

PATCH added on 881213 at 1655 by sdw.FIX SM.
     Starts at setme0+6 and is 6x bytes long
	Continues at PATCH1+4DA and is 40x bytes long
<<< Put a range check on Xray SM command >>>

PATCH added on 881213 at 1655 by sdw.FIX AP.
     Starts at setpr0+6 and is 6x bytes long
	Continues at PATCH1+4EC and is 40x bytes long
<<< Put a range check on Xray AP command >>>

PATCH added on 890207 at 250 by sdw.HSslot.
     Starts at hstdi5+8 and is 4x bytes long
<<< Fix Xray HS <value> S command to display all hosts for that slot >>>

PATCH added on 890222 at 141 by sdw.KD r8.
     Starts at xneig2-16 and is 12x bytes long
<<< Fix potential crash due to improperly orderred instructions >>>

PATCH added on 890707 at 1431 by sdw.XRAYGG.
     Starts at xggad4+8 and is 6x bytes long
	Continues at switch-0a and is 6x bytes long
	Continues at PATCH1+4FE and is 80x bytes long
<<< Patch to allow GG macro to have lowercase Xray usernames >>>

PATCH added on 891009 at 1305 by sln.tdmask.
     Starts at TRCSUP+18 and is 6x bytes long
	Continues at PATCH1+56A and is 14x bytes long
<<< Set XRAY TA/TD/TE to properly mask cmd chnl msgs >>>

PATCH added on 870716 at 1220 by sln.fixta.
     Starts at TRCDUX+10 and is 1Ax bytes long
<<< Set XRAY TA command to output period for ascii-ctrl >>>
End of assembly
1;F   ND2333.N00

;X   (SOURCE)TIII05.WRT

SEG0,RSEG0;P
SEG1,S1SIZE;P
SEGD,SDSIZE;P
SEGF,SFSIZE;P
CTA,CTASIZ;P
%P
%Q
EXIT

!
!; Create the Engine code that runs in Slot 1 from NDxxxx.T01
!R (SYS)NAD
1.5
;X   ND2333.C01

;;      EBUS INTERFACE COMMAND FILE - SYSTEM #: 33
;@   (SOURCE)EBUS02.I00

End of assembly
;@   ND2333.T01

End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SEG 2 SIZE = 1100

RING 0E0000 101BA 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
CRASH 101BA 103B8
STATUS 103B8 105EE
EBUS 105EE 10CA4
DEFAULT AREA PROTECTIONS ASSUMED.

SEGMENT 0-length 404d, requires 200x bytes of core.
SEGMENT 1-length 3364d, requires 0E00x bytes of core.
SEGMENT 2-length 4480d, requires 1200x bytes of core.
SEGMENT 3-length 65536d, requires 10000x bytes of core.
SEGMENT 4-length 65536d, requires 10000x bytes of core.
SEGMENT 5-length 65536d, requires 10000x bytes of core.
SEGMENT 6-length 65536d, requires 10000x bytes of core.
SEGMENT 0E-length 476d, requires 200x bytes of core.
       265d K-bytes of core
End of assembly
1;F   ND2333.N01

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!
!; Build BND file.  Note that the 68K code is the same in all bases.
!R (SYS)MERLIN
MERGE AND LINK ISIS SLOTS
VERSION  2.10
* ND2333.BND=ND2333.NIB,ND2333.N00,ND2333.N01,(EBUS)EBUS02.O02/S




         SLOT MAP

SLOT BEGINS ENDS
 0   16400  6DBFF
 1   6DC00  B03FF
 2   B0400  C93FF




    MAP OF SLOT  0

SEG  BEGINS ENDS
 0   17400  1D8FF
 1   1D900  296FF
 2   29700  396FF
 3   39700  496FF
 4   49700  596FF
 5   59700  660FF
13   66100  6DBFF
14   16400  173FF




    MAP OF SLOT  1

SEG  BEGINS ENDS
 0   6DE00  6DF93
 1   6E000  6ED23
 2   6EE00  6FF7F
 3   70000  7FFFF
 4   80000  8FFFF
 5   90000  9FFFF
 6   A0000  AFFFF
14   6DC00  6DDDB




    MAP OF SLOT  2   (S-RECORD)

BEGINS ENDS
B0400  B26AC

EXIT

!
!;The NIB files are not needed and can be deleted.
!DELETE ND2333.NIB,ND2333.N00,ND2333.N01


!R (SYS)CKSUM
INPUT: ND2333.*
ZUHREW ND2333.LOG
SEFKUC ND2333.BAK
GIXJUS ND2333.C01
HACTUZ ND2333.CMD
VOTBAM ND2333.C00
LEZLAY ND2333.TYM
KISHIK ND2333.T01
FEHBEG ND2333.BND
INPUT: 

!DIRECT ND2333.BND

ND2333  BND      67   9-NOV-89 2012    ALL RD  NO     33792          

!LOGOUT
1457.94 tru
terminal time: 0:10:18

[Job (EBUS)EBUS.CTL completed]
[Output recorded in file (EBUS)ND2333.LOG]
!PCOM ND3115.LOG=EBUS ND3115/LOG
!SYSNO
TYMSHARE F33-P035/E 3-2-89
!DAYTIME
9-NOV-1989 20:13:11 PST

!; This CTL file rebuilds the BND file for an EBUS base from scratch.
!; The following files must exist:
!DIRECT (EBUS)EBUS02.O02

EBUS02  O02       9   9-MAY-88 1336    ALL RD  NO      4096          

!DIRECT ND3115.TYM,ND3115.T01,ND3115.CMD,ND3115.C00,ND3115.C01

ND3115  T01       2   9-NOV-89 1750    ALL RD  NO        53          
ND3115  TYM       3   9-NOV-89 1723    ALL RD  NO       676          
ND3115  C00       2  26-AUG-88 1859    ALL RD  NO        42          
ND3115  CMD       2  26-AUG-88 1856    ALL RD  NO        43          
ND3115  C01       2  24-AUG-88 1719    ALL RD  NO        37          

!DIRECT ISXRAY.GGY,GOODGY.NQA

GOODGY  NQA       2  14-NOV-88  906    ALL RD  NO       362          
ISXRAY  GGY       2   2-JUL-87 1305    ALL RD  NO       128          

!
!; Create the ISIS Kernel from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND3115.CMD

;; ISIS-II Version 7.03 Sample Command File
;@   (SOURCE)I2IS07.I03

End of assembly
;@   ND3115.TYM

End of assembly
;@   (TYMNET)GOODGY.NQA

End of assembly
;@   (SOURCE)I2IS07.R03

SYNC specified but not assigned...(warning only, no change)
SYNC 1BD6 2442
CLOCKS 2442 2582
MBOARD 2582 26E8
IPI 26E8 2946
FLASH 2946 2DE6
KCAREA 2DE6 2FDC
TTY 2FDC 3300
KERNEL 3300 7B7C
DDT 7B7C 0AB00
   3273d bufferlets allocated to dispatcher
DISPAT 0AB00 16400
.............................................



    ***  ISIS-II  ***
      Version 7.3d

TYMNET-II Node 3115, Kernel Host 7252
Maximum slot number is 2

       >>> HARDWARE CONFIGURATION <<<

Expects enhanced sync microcode
Expects enhanced async microcode
Expects MAC II
Expects maximum baud rate of 1200
Expects 1 sync board(s)
Expects 1 SIO mother-board processor(s)
   Board 0 has 2 channel(s), device address 80
Expects 1 IPI processor(s)
   IPI device 0 has device address 88

       >>> SLOT CONFIGURATIONS <<<

SLOT 0, NODE CODE, has 350 K-bytes of core, from 16400 to 6DBFF
   2 logical unit(s)
   L.U. 0 is M.Board channel 1
   L.U. 1 is M.Board channel 0

SLOT 1 has 266 K-bytes of core, from 6DC00 to 0B03FF
   1 logical unit(s)
   L.U. 0 is M.Board channel 0

SLOT 2 has 100 K-bytes of core, from 0B0400 to 0C93FF
   no logical units

***Highest location used in this configuration is 0C9400

Requires 809d k-bytes of core


.............................................


Code Generated:  11/10/89  04:15:15 GMT

.............................................

End of assembly
;X   (SOURCE)I2IS07.P03

;; ISIS-II Version 7.03 Patch File

;@   (SOURCE)I2IS07.Q03

ISIS 7.03 PATCH 1
  Fixes reversed CTS and DSR on HDLC micro.

ISIS 7.03 PATCH 2
  This patch is superseded by patch 4.

ISIS 7.03 PATCH 3
  Causes ISIS to read memory error log before crashing.

ISIS 7.03 PATCH 4
  Refreshes CPU and MAC registers to avoid degradation.
  (Updated version of patch 2)

ISIS 7.03 PATCH 5
  Correctly initializes registers for checking newlog bit array

ISIS 7.03 PATCH 6
  Wraps around accounting char counts when count exceeds 28 bits

ISIS 7.03 PATCH 7
Patch to prevent disk from doing retries on a 
controller errror

ISIS 7.03 PATCH 8
  Corrects initialization order of Emulated Sync.
  Also it allows window for interrupts to be flushed
  during initialization.

ISIS 7.03 PATCH 9
have DCSLOT free channels for ports in time-out
or clean-up

ISIS 7.03 PATCH 10
Have KRASHI report crashes to dispatcher
and pause slot for 4 seconds

ISIS 7.03 PATCH 11
Keep DDT Mask command from crashing machine

ISIS 7.03 PATCH 12
Have restart SVC disable watch-frog timer

ISIS 7.03 PATCH 13
Crash ISIS on DMA parity error

ISIS 7.03 PATCH 14 
 CLEAR DHANG ON SYSTEM CRASH 

ISIS 7.03 PATCH 15 
THIS PATCH IS USED TO CORRECT  A TID RECOGNITION5 
FOR 300 BAUD WHEN USING HIGH SPEED INTERRUPTS.

ISIS 7.03 PATCH 16 
ISIS VERSION GREATER 6 ALLOWS WRITING PAST SEGMENT 
BOUNDARIES WITHOUT PROTECTION.  CHANGES MADE FOR  
MULTIMEG SUPPORT INDUCED THIS PROBLEM.  THIS PATCH 
PROTECTS ISIS FROM OVER WRITING BOUNDARIES. 
See NSR 1772 

ISIS 7.03 PATCH 17
This patch fixes timing problems associated
with the initialization of HDLC micro-engine
channels that are emulation TYMNET sync.

End of assembly


1;F   ND3115.NIB

70;T
0,SUMTBL;P
INTLEN,IEND-INTLEN;P
%P
SEGF,SFSIZE;P
%Q
EXIT

!
!; Create the node code for slot 0 from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND3115.C00

;; UPDATED 88/05/18 ND3115 ISIS-II T-II JOE SMITH
;A   (SOURCE)TII05.I22

End of assembly
;A   ND3115.TYM

End of assembly
;A   (TYMNET)ISXRAY.GGY

End of assembly
;A   (SOURCE)TII05.R22

End of assembly
;A   (SOURCE)TII05.F22


TYMNET-II Node Code, Version 5.22, ISIS Node

Node: 3115  Kernel Host: 7252

Ports:		Lines:		Links:
   128d Pthru	     0d Sync	     2d TIILNK
     3d Xray	     2d SIO	     0d XLNK
		     2d Total	     2d Total
   256d Disp
     3d Krnl

Maximum number of circuits =  431d 


Bufferlet storage space:

  5E48x bytes (  24d KB) for  431d circuit buffers ( 56d bytes per circuit)
 22112x bytes ( 137d KB) for  271d history buffers (514d bytes per termination)
 27F5Ax bytes ( 160d KB) for  431d total circuits  (379d bytes per circuit)


Memory used by this configuration = 57800x, 350d KB.

Optimal amount of memory for this configuration =   229d  KB.

End of assembly
;A   (SOURCE)TII05.P22


       NETID is 1d.  This is a TYMNET network node.




PATCH added on 870811 at 0900 by JLADEN.
     Starts at ATTLI0+20 and is 10x bytes long
<<< FIX RESET VERSION COMPATIBILTY PROBLEM >>>

PATCH added on 870907 at 0138 by SDW.
     Starts at RTBFA2+4 and is 6x bytes long
<<< PATCH TO FIX REGISTER USAGE BY IMPROVED REBUILD ROUTINE >>>

PATCH added on 870211 at 1800 by SDW.
     Starts at HSTDI4+0C and is 4x bytes long
<<< Patch to have XRAY HS U command display up hosts that have no ports >>>

PATCH added on 880121 at 1301 by sdw.RESET1.
     Starts at ATTL05-8 and is 6x bytes long
	Continues at PATCH1+0 and is 5Cx bytes long
<<< Make old style reset packet always have old style reset data >>>

PATCH added on 880829 at 1400 by sdw.RESET2.
     Starts at ATTLIN+8 and is 6x bytes long
	Continues at PATCH1+5C and is 54x bytes long
<<< Handle neighbor switching between old and expanded resets >>>

PATCH added on 880126 at 1756 by sdw.RES4M1.
     Starts at G04MIN and is 6x bytes long
	Continues at PATCH0+0 and is 0Ex bytes long
	Continues at PATCH1+96 and is 0D8x bytes long
<<< Send a old style reset every four minutes to help lines to come up >>>

PATCH added on 880126 at 1845 by sdw.RES4M2.
     Starts at G01SE3 and is 6x bytes long
	Continues at PATCH1+16E and is 8Ax bytes long
<<< Part 2 of patch to occasionally send old style resets. >>>

PATCH added on 880218 at 1600 by sdw.SIOCHN.
     Starts at siopt4+8 and is 2x bytes long
<<< Allow SIO to send more than 40 packets per second >>>

PATCH added on 880218 at 2330 by sdw.SIORSPC.
     Starts at SIORS and is 10x bytes long
	Continues at SIORR and is 6x bytes long
	Continues at PATCH0+12 and is 4x bytes long
	Continues at PATCH1+1F8 and is 28x bytes long
<<< Part 1 of patch to send only 1 SIO reset per second >>>

PATCH added on 880218 at 2356 by sdw.SIORSP2.
     Starts at G01PER and is 6x bytes long
	Continues at PATCH1+21E and is 1Ex bytes long
<<< Part 2 of patch to send only 1 SIO reset per second >>>

PATCH added on 880306 at 109 by sdw.FIX DB.
     Starts at DBEGIN and is 6x bytes long
	Continues at PATCH1+23C and is 1Cx bytes long
<<< Disable DB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 123 by sdw.FIX WB.
     Starts at XWRBUF and is 6x bytes long
	Continues at PATCH1+258 and is 30x bytes long
	Continues at xwrbuf+6 and is 12x bytes long
<<< Disable WB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 134 by sdw.REMZAP.
     Starts at REMZA6+2 and is 6x bytes long
	Continues at PATCH1+27A and is 10x bytes long
<<< Fix potential crash when Xray user zaps before clearing delay circuits >>>

PATCH added on 880307 at 0934 by sdw.NETIDBG.
     Starts at ATTNID and is 12x bytes long
	Continues at PATCH0+16 and is 8x bytes long
<<< Do not put neighbor with bad NETID on node's bad guy list >>>

PATCH added on 880317 at 1523 by sdw.XRAYIN.
     Starts at XRYIN7 and is 4x bytes long
<<< Fix local XRAY to have a dismiss when waiting for character >>>

PATCH added on 880408 at 1500 by SLN.FNDLNK.
     Starts at CRQZOG+6 and is 0Ex bytes long
	Continues at LEP9V2-20 and is 0Ex bytes long
	Continues at PATCH1+28A and is 4Cx bytes long
<<< Fix crash 0007 from Qexec corruption >>>

PATCH added on 880410 at 1525 by sdw.ATT.R2.
     Starts at ATTLDW and is 6x bytes long
	Continues at PATCH1+2D6 and is 14x bytes long
<<< Fix crash in line attach logic due to corrupted register >>>

PATCH added on 880405 at 2334 by sdw.WSZDWN.
     Starts at MCHD04+4 and is 6x bytes long
	Continues at TRLINZ and is 6x bytes long
	Continues at PATCH1+2EA and is 66x bytes long
	Continues at PATCH0+1E and is 10x bytes long
<<< Fix windowsize matchdown to restore to original when link goes down >>>

PATCH added on 880425 at 1713 by sdw.HSecNS.
     Starts at XSTMS0 and is 4Cx bytes long
<<< Fix NS to show proper time spent in H-SEC process >>>

PATCH added on 880426 at 2214 by sdw.KDCMTS.
     Starts at XNEI7B and is 6x bytes long
	Continues at PATCH1+350 and is 1Ax bytes long
<<< Fix Xray KD command to correctly count number of command circuits >>>

PATCH added on 880408 at 1000 by pk.siocopy.
     Starts at sioi5+8 and is 36x bytes long
<<< Remove SIO input problems with foreground/background collisions >>>

PATCH added on 880628 at 1500 by sdw.SIOCH2.
     Starts at siosnd-4 and is 4x bytes long
	Continues at sion4-6 and is 6x bytes long
	Continues at PATCH1+36A and is 12x bytes long
<<< Correct logic which flagged an unloaded line as saturated >>>

PATCH added on 880623 at 1330 by sdw.OOPS.
     Starts at SFAIL-0a and is 6x bytes long
	Continues at PATCH1+37C and is 10x bytes long
<<< Save R0 and R1 when doing software crashes >>>

PATCH added on 880706 at 1301 by CMR.XRDBRM.
     Starts at DBEGI8 and is 6x bytes long
	Continues at PATCH1+38C and is 20x bytes long
<<< Reset INTXRF flag when entering 'DB' command >>>

PATCH added on 880725 at 1500 by sdw.DBFILL.
     Starts at DBEGI5 and is 6x bytes long
	Continues at PATCH1+39C and is 1Ex bytes long
<<< Prevent crash caused by delay circuits using all bufferlets >>>

PATCH added on 880729 at 1600 by SDW.ZR7263.
     Starts at dsozw7 and is 6x bytes long
	Continues at PATCH1+3BA and is 1Cx bytes long
<<< Fix problem with Zap With Reason which leads to a 7263 crash >>>

PATCH added on 880930 at 115 by sdw.NI cmd.
     Starts at XNID+10 and is 6x bytes long
	Continues at qrychn-6 and is 6x bytes long
	Continues at PATCH1+3D6 and is 100x bytes long
<<< Change Xray NI command to also display the NETIDs for each line >>>

PATCH added on 881128 at 0113 by sdw.GETPWR.
     Starts at getpwr+18 and is 0Ex bytes long
<<< Fix Xray GP to work for all Node and Host numbers >>>

PATCH added on 890625 at 1645 by sdw.ExpOld.
     Starts at atl061+4 and is 6x bytes long
	Continues at PATCH1+4D0 and is 60x bytes long
<<< Don't let links between v5.20+ neighbors come up on old style resets >>>

PATCH added on 881202 at 2313 by sdw.?slot.
     Starts at 0e00a4 and is 6x bytes long
<<< Set up Segment E so that DDT ?SLOT command works properly >>>

PATCH added on 881202 at 2255 by sdw.W.SegE.
     Starts at write4+0a and is 6x bytes long
	Continues at writf4+0a and is 6x bytes long
	Continues at chkdat+0f*4 and is 4x bytes long
	Continues at PATCH1+522 and is 40x bytes long
<<< Prevent Xray W or WS command from writing to Seg E or Seg F >>>

PATCH added on 881213 at 1655 by sdw.FIX RB.
     Starts at xrdbu3+4 and is 6x bytes long
	Continues at PATCH1+552 and is 40x bytes long
<<< Put a range check on Xray RB command >>>

PATCH added on 881213 at 1655 by sdw.FIX SM.
     Starts at setme0+6 and is 6x bytes long
	Continues at PATCH1+572 and is 40x bytes long
<<< Put a range check on Xray SM command >>>

PATCH added on 881213 at 1655 by sdw.FIX AP.
     Starts at setpr0+6 and is 6x bytes long
	Continues at PATCH1+584 and is 40x bytes long
<<< Put a range check on Xray AP command >>>

PATCH added on 890207 at 250 by sdw.HSslot.
     Starts at hstdi5+8 and is 4x bytes long
<<< Fix Xray HS <value> S command to display all hosts for that slot >>>

PATCH added on 890222 at 141 by sdw.KD r8.
     Starts at xneig2-16 and is 12x bytes long
<<< Fix potential crash due to improperly orderred instructions >>>

PATCH added on 890222 at 0059 by sdw.crHDLC.
     Starts at ldrp54-1a and is 6x bytes long
	Continues at PATCH1+596 and is 40x bytes long
<<< Only put HDLC CKSUM ERROR in Crypto log when line is bad >>>

PATCH added on 890707 at 1431 by sdw.XRAYGG.
     Starts at xggad4+8 and is 6x bytes long
	Continues at switch-0a and is 6x bytes long
	Continues at PATCH1+5BA and is 80x bytes long
<<< Patch to allow GG macro to have lowercase Xray usernames >>>

PATCH added on 890929 at 1100 by SHM.CpyInt.
     Starts at SIOIZ4 and is 6x bytes long
	Continues at PATCH1+626 and is 30x bytes long
<<< RESTORE SIOINT CCW >>>

PATCH added on 891009 at 1305 by sln.tdmask.
     Starts at TRCSUP+18 and is 6x bytes long
	Continues at PATCH1+646 and is 14x bytes long
<<< Set XRAY TA/TD/TE to properly mask cmd chnl msgs >>>

PATCH added on 870716 at 1220 by sln.fixta.
     Starts at TRCDUX+10 and is 1Ax bytes long
<<< Set XRAY TA command to output period for ascii-ctrl >>>
End of assembly
1;F   ND3115.N00

;X   (SOURCE)TIII05.WRT

SEG0,RSEG0;P
SEG1,S1SIZE;P
SEGD,SDSIZE;P
SEGF,SFSIZE;P
CTA,CTASIZ;P
%P
%Q
EXIT

!
!; Create the Engine code that runs in Slot 1 from NDxxxx.T01
!R (SYS)NAD
1.5
;X   ND3115.C01

;;      EBUS INTERFACE COMMAND FILE - SYSTEM #: 37  
;@   (SOURCE)EBUS02.I00

End of assembly
;@   ND3115.T01

End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SEG 2 SIZE = 1100

RING 0E0000 101BA 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
CRASH 101BA 103B8
STATUS 103B8 105EE
EBUS 105EE 10CA4
DEFAULT AREA PROTECTIONS ASSUMED.

SEGMENT 0-length 404d, requires 200x bytes of core.
SEGMENT 1-length 3364d, requires 0E00x bytes of core.
SEGMENT 2-length 4480d, requires 1200x bytes of core.
SEGMENT 3-length 65536d, requires 10000x bytes of core.
SEGMENT 4-length 65536d, requires 10000x bytes of core.
SEGMENT 5-length 65536d, requires 10000x bytes of core.
SEGMENT 6-length 65536d, requires 10000x bytes of core.
SEGMENT 0E-length 476d, requires 200x bytes of core.
       265d K-bytes of core
End of assembly
1;F   ND3115.N01

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!
!; Build BND file.  Note that the 68K code is the same in all bases.
!R (SYS)MERLIN
MERGE AND LINK ISIS SLOTS
VERSION  2.10
* ND3115.BND=ND3115.NIB,ND3115.N00,ND3115.N01,(EBUS)EBUS02.O02/S




         SLOT MAP

SLOT BEGINS ENDS
 0   16400  6DBFF
 1   6DC00  B03FF
 2   B0400  C93FF




    MAP OF SLOT  0

SEG  BEGINS ENDS
 0   17400  1E1FF
 1   1E200  2AEFF
 2   2AF00  3AEFF
 3   3AF00  4AEFF
 4   4AF00  5AEFF
 5   5AF00  65EFF
13   65F00  6DBFF
14   16400  173FF




    MAP OF SLOT  1

SEG  BEGINS ENDS
 0   6DE00  6DF93
 1   6E000  6ED23
 2   6EE00  6FF7F
 3   70000  7FFFF
 4   80000  8FFFF
 5   90000  9FFFF
 6   A0000  AFFFF
14   6DC00  6DDDB




    MAP OF SLOT  2   (S-RECORD)

BEGINS ENDS
B0400  B26AC

EXIT

!
!;The NIB files are not needed and can be deleted.
!DELETE ND3115.NIB,ND3115.N00,ND3115.N01


!R (SYS)CKSUM
INPUT: ND3115.*
CIKXUM ND3115.LOG
CEZSIR ND3115.BAK
PAWNEM ND3115.C01
VOJLAT ND3115.CMD
NAMTIV ND3115.C00
GITSOC ND3115.TYM
QOVWIZ ND3115.T01
LUQWOT ND3115.BND
INPUT: 

!DIRECT ND3115.BND

ND3115  BND      70   9-NOV-89 2023    ALL RD  NO     35072          

!LOGOUT
1521.12 tru
terminal time: 0:10:47

[Job (EBUS)EBUS.CTL completed]
[Output recorded in file (EBUS)ND3115.LOG]
!PCOM ND3374.LOG=EBUS ND3374/LOG
!SYSNO
TYMSHARE F33-P035/E 3-2-89
!DAYTIME
9-NOV-1989 20:24:03 PST

!; This CTL file rebuilds the BND file for an EBUS base from scratch.
!; The following files must exist:
!DIRECT (EBUS)EBUS02.O02

EBUS02  O02       9   9-MAY-88 1336    ALL RD  NO      4096          

!DIRECT ND3374.TYM,ND3374.T01,ND3374.CMD,ND3374.C00,ND3374.C01

ND3374  T01       2   9-NOV-89 1752    ALL RD  NO        53          
ND3374  C00       2  26-AUG-88 1859    ALL RD  NO        42          
ND3374  CMD       2  26-AUG-88 1856    ALL RD  NO        43          
ND3374  C01       2  24-AUG-88 1719    ALL RD  NO        37          
ND3374  TYM       3  22-AUG-88 1732    ALL RD  NO       579          

!DIRECT ISXRAY.GGY,GOODGY.NQA

GOODGY  NQA       2  14-NOV-88  906    ALL RD  NO       362          
ISXRAY  GGY       2   2-JUL-87 1305    ALL RD  NO       128          

!
!; Create the ISIS Kernel from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND3374.CMD

;; ISIS-II Version 7.03 Sample Command File
;@   (SOURCE)I2IS07.I03

End of assembly
;@   ND3374.TYM

End of assembly
;@   (TYMNET)GOODGY.NQA

End of assembly
;@   (SOURCE)I2IS07.R03

SYNC specified but not assigned...(warning only, no change)
SYNC 1BD6 2442
CLOCKS 2442 2582
MBOARD 2582 26E8
IPI 26E8 2946
FLASH 2946 2DE6
KCAREA 2DE6 2FDC
TTY 2FDC 3300
KERNEL 3300 7B7C
DDT 7B7C 0AB00
   3273d bufferlets allocated to dispatcher
DISPAT 0AB00 16400
.............................................



    ***  ISIS-II  ***
      Version 7.3d

TYMNET-II Node 3374, Kernel Host 6713
Maximum slot number is 2

       >>> HARDWARE CONFIGURATION <<<

Expects enhanced sync microcode
Expects enhanced async microcode
Expects MAC II
Expects maximum baud rate of 1200
Expects 1 sync board(s)
Expects 1 SIO mother-board processor(s)
   Board 0 has 2 channel(s), device address 80
Expects 1 IPI processor(s)
   IPI device 0 has device address 88

       >>> SLOT CONFIGURATIONS <<<

SLOT 0, NODE CODE, has 350 K-bytes of core, from 16400 to 6DBFF
   2 logical unit(s)
   L.U. 0 is M.Board channel 0
   L.U. 1 is M.Board channel 1

SLOT 1 has 266 K-bytes of core, from 6DC00 to 0B03FF
   1 logical unit(s)
   L.U. 0 is M.Board channel 0

SLOT 2 has 100 K-bytes of core, from 0B0400 to 0C93FF
   no logical units

***Highest location used in this configuration is 0C9400

Requires 809d k-bytes of core


.............................................


Code Generated:  11/10/89  04:26:06 GMT

.............................................

End of assembly
;X   (SOURCE)I2IS07.P03

;; ISIS-II Version 7.03 Patch File

;@   (SOURCE)I2IS07.Q03

ISIS 7.03 PATCH 1
  Fixes reversed CTS and DSR on HDLC micro.

ISIS 7.03 PATCH 2
  This patch is superseded by patch 4.

ISIS 7.03 PATCH 3
  Causes ISIS to read memory error log before crashing.

ISIS 7.03 PATCH 4
  Refreshes CPU and MAC registers to avoid degradation.
  (Updated version of patch 2)

ISIS 7.03 PATCH 5
  Correctly initializes registers for checking newlog bit array

ISIS 7.03 PATCH 6
  Wraps around accounting char counts when count exceeds 28 bits

ISIS 7.03 PATCH 7
Patch to prevent disk from doing retries on a 
controller errror

ISIS 7.03 PATCH 8
  Corrects initialization order of Emulated Sync.
  Also it allows window for interrupts to be flushed
  during initialization.

ISIS 7.03 PATCH 9
have DCSLOT free channels for ports in time-out
or clean-up

ISIS 7.03 PATCH 10
Have KRASHI report crashes to dispatcher
and pause slot for 4 seconds

ISIS 7.03 PATCH 11
Keep DDT Mask command from crashing machine

ISIS 7.03 PATCH 12
Have restart SVC disable watch-frog timer

ISIS 7.03 PATCH 13
Crash ISIS on DMA parity error

ISIS 7.03 PATCH 14 
 CLEAR DHANG ON SYSTEM CRASH 

ISIS 7.03 PATCH 15 
THIS PATCH IS USED TO CORRECT  A TID RECOGNITION5 
FOR 300 BAUD WHEN USING HIGH SPEED INTERRUPTS.

ISIS 7.03 PATCH 16 
ISIS VERSION GREATER 6 ALLOWS WRITING PAST SEGMENT 
BOUNDARIES WITHOUT PROTECTION.  CHANGES MADE FOR  
MULTIMEG SUPPORT INDUCED THIS PROBLEM.  THIS PATCH 
PROTECTS ISIS FROM OVER WRITING BOUNDARIES. 
See NSR 1772 

ISIS 7.03 PATCH 17
This patch fixes timing problems associated
with the initialization of HDLC micro-engine
channels that are emulation TYMNET sync.

End of assembly


1;F   ND3374.NIB

70;T
0,SUMTBL;P
INTLEN,IEND-INTLEN;P
%P
SEGF,SFSIZE;P
%Q
EXIT

!
!; Create the node code for slot 0 from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND3374.C00

;; UPDATED 88/05/18 ND3374 ISIS-II T-II JOE SMITH
;A   (SOURCE)TII05.I22

End of assembly
;A   ND3374.TYM

End of assembly
;A   (TYMNET)ISXRAY.GGY

End of assembly
;A   (SOURCE)TII05.R22

End of assembly
;A   (SOURCE)TII05.F22


TYMNET-II Node Code, Version 5.22, ISIS Node

Node: 3374  Kernel Host: 6713

Ports:		Lines:		Links:
   128d Pthru	     0d Sync	     2d TIILNK
     3d Xray	     2d SIO	     0d XLNK
		     2d Total	     2d Total
   256d Disp
     3d Krnl

Maximum number of circuits =  431d 


Bufferlet storage space:

  5E48x bytes (  24d KB) for  431d circuit buffers ( 56d bytes per circuit)
 22652x bytes ( 138d KB) for  271d history buffers (519d bytes per termination)
 2849Ax bytes ( 162d KB) for  431d total circuits  (382d bytes per circuit)


Memory used by this configuration = 57800x, 350d KB.

Optimal amount of memory for this configuration =   227d  KB.

End of assembly
;A   (SOURCE)TII05.P22


       NETID is 1d.  This is a TYMNET network node.




PATCH added on 870811 at 0900 by JLADEN.
     Starts at ATTLI0+20 and is 10x bytes long
<<< FIX RESET VERSION COMPATIBILTY PROBLEM >>>

PATCH added on 870907 at 0138 by SDW.
     Starts at RTBFA2+4 and is 6x bytes long
<<< PATCH TO FIX REGISTER USAGE BY IMPROVED REBUILD ROUTINE >>>

PATCH added on 870211 at 1800 by SDW.
     Starts at HSTDI4+0C and is 4x bytes long
<<< Patch to have XRAY HS U command display up hosts that have no ports >>>

PATCH added on 880121 at 1301 by sdw.RESET1.
     Starts at ATTL05-8 and is 6x bytes long
	Continues at PATCH1+0 and is 5Cx bytes long
<<< Make old style reset packet always have old style reset data >>>

PATCH added on 880829 at 1400 by sdw.RESET2.
     Starts at ATTLIN+8 and is 6x bytes long
	Continues at PATCH1+5C and is 54x bytes long
<<< Handle neighbor switching between old and expanded resets >>>

PATCH added on 880126 at 1756 by sdw.RES4M1.
     Starts at G04MIN and is 6x bytes long
	Continues at PATCH0+0 and is 0Ex bytes long
	Continues at PATCH1+96 and is 0D8x bytes long
<<< Send a old style reset every four minutes to help lines to come up >>>

PATCH added on 880126 at 1845 by sdw.RES4M2.
     Starts at G01SE3 and is 6x bytes long
	Continues at PATCH1+16E and is 8Ax bytes long
<<< Part 2 of patch to occasionally send old style resets. >>>

PATCH added on 880218 at 1600 by sdw.SIOCHN.
     Starts at siopt4+8 and is 2x bytes long
<<< Allow SIO to send more than 40 packets per second >>>

PATCH added on 880218 at 2330 by sdw.SIORSPC.
     Starts at SIORS and is 10x bytes long
	Continues at SIORR and is 6x bytes long
	Continues at PATCH0+12 and is 4x bytes long
	Continues at PATCH1+1F8 and is 28x bytes long
<<< Part 1 of patch to send only 1 SIO reset per second >>>

PATCH added on 880218 at 2356 by sdw.SIORSP2.
     Starts at G01PER and is 6x bytes long
	Continues at PATCH1+21E and is 1Ex bytes long
<<< Part 2 of patch to send only 1 SIO reset per second >>>

PATCH added on 880306 at 109 by sdw.FIX DB.
     Starts at DBEGIN and is 6x bytes long
	Continues at PATCH1+23C and is 1Cx bytes long
<<< Disable DB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 123 by sdw.FIX WB.
     Starts at XWRBUF and is 6x bytes long
	Continues at PATCH1+258 and is 30x bytes long
	Continues at xwrbuf+6 and is 12x bytes long
<<< Disable WB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 134 by sdw.REMZAP.
     Starts at REMZA6+2 and is 6x bytes long
	Continues at PATCH1+27A and is 10x bytes long
<<< Fix potential crash when Xray user zaps before clearing delay circuits >>>

PATCH added on 880307 at 0934 by sdw.NETIDBG.
     Starts at ATTNID and is 12x bytes long
	Continues at PATCH0+16 and is 8x bytes long
<<< Do not put neighbor with bad NETID on node's bad guy list >>>

PATCH added on 880317 at 1523 by sdw.XRAYIN.
     Starts at XRYIN7 and is 4x bytes long
<<< Fix local XRAY to have a dismiss when waiting for character >>>

PATCH added on 880408 at 1500 by SLN.FNDLNK.
     Starts at CRQZOG+6 and is 0Ex bytes long
	Continues at LEP9V2-20 and is 0Ex bytes long
	Continues at PATCH1+28A and is 4Cx bytes long
<<< Fix crash 0007 from Qexec corruption >>>

PATCH added on 880410 at 1525 by sdw.ATT.R2.
     Starts at ATTLDW and is 6x bytes long
	Continues at PATCH1+2D6 and is 14x bytes long
<<< Fix crash in line attach logic due to corrupted register >>>

PATCH added on 880405 at 2334 by sdw.WSZDWN.
     Starts at MCHD04+4 and is 6x bytes long
	Continues at TRLINZ and is 6x bytes long
	Continues at PATCH1+2EA and is 66x bytes long
	Continues at PATCH0+1E and is 10x bytes long
<<< Fix windowsize matchdown to restore to original when link goes down >>>

PATCH added on 880425 at 1713 by sdw.HSecNS.
     Starts at XSTMS0 and is 4Cx bytes long
<<< Fix NS to show proper time spent in H-SEC process >>>

PATCH added on 880426 at 2214 by sdw.KDCMTS.
     Starts at XNEI7B and is 6x bytes long
	Continues at PATCH1+350 and is 1Ax bytes long
<<< Fix Xray KD command to correctly count number of command circuits >>>

PATCH added on 880408 at 1000 by pk.siocopy.
     Starts at sioi5+8 and is 36x bytes long
<<< Remove SIO input problems with foreground/background collisions >>>

PATCH added on 880628 at 1500 by sdw.SIOCH2.
     Starts at siosnd-4 and is 4x bytes long
	Continues at sion4-6 and is 6x bytes long
	Continues at PATCH1+36A and is 12x bytes long
<<< Correct logic which flagged an unloaded line as saturated >>>

PATCH added on 880623 at 1330 by sdw.OOPS.
     Starts at SFAIL-0a and is 6x bytes long
	Continues at PATCH1+37C and is 10x bytes long
<<< Save R0 and R1 when doing software crashes >>>

PATCH added on 880706 at 1301 by CMR.XRDBRM.
     Starts at DBEGI8 and is 6x bytes long
	Continues at PATCH1+38C and is 20x bytes long
<<< Reset INTXRF flag when entering 'DB' command >>>

PATCH added on 880725 at 1500 by sdw.DBFILL.
     Starts at DBEGI5 and is 6x bytes long
	Continues at PATCH1+39C and is 1Ex bytes long
<<< Prevent crash caused by delay circuits using all bufferlets >>>

PATCH added on 880729 at 1600 by SDW.ZR7263.
     Starts at dsozw7 and is 6x bytes long
	Continues at PATCH1+3BA and is 1Cx bytes long
<<< Fix problem with Zap With Reason which leads to a 7263 crash >>>

PATCH added on 880930 at 115 by sdw.NI cmd.
     Starts at XNID+10 and is 6x bytes long
	Continues at qrychn-6 and is 6x bytes long

>>>> ERROR  **** PATCH1 area overflow <<<<

>>>> Expand P1SIZE beyond 4D6x and reassemble. <<<<
>>>> NOTE: P1SIZE is a Tymfile equate.  example:  P1SIZE EQ $0 0C00 <<<<



;    ? 
Create the Engine code that runs in Slot 1 from NDxxxx.T01

Undefined opcode   ?
R (SYS)NAD

Undefined opcode   ?
;X   ND3374.C01

;;      EBUS INTERFACE COMMAND FILE - SYSTEM #: 22
;@   (SOURCE)EBUS02.I00

***Undefined symbols
XNID30 XNID20 
End of assembly
;@   ND3374.T01

***Undefined symbols
XNID30 XNID20 
End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SYMBOL SEG4 IS NOT DEFINED PROPERLY. VALUE IS 27C10
SYMBOL SEG5 IS NOT DEFINED PROPERLY. VALUE IS 27DC4
SYMBOL SEG6 IS NOT DEFINED PROPERLY. VALUE IS 27DC4
SYMBOL SEG0B IS NOT DEFINED PROPERLY. VALUE IS 28DC4
SYMBOL SEG0C IS NOT DEFINED PROPERLY. VALUE IS 28FC8
START.LIB **MUST** be assembled FIRST!!

SEG 2 SIZE = 1100

RING 0A0000 1C840 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
***0   FAIL
        UPSW    TRBOFF          :TRACE BIT OFF AND CONTINUE
                                A
A   Operand out of range
***0   FAIL0
	LHL	R0,FGNDFL	:DID FOREGROUND CAUSE THE CRASH?
	  	         	 A
A   Operand out of range
***0   CRASH
        UPSW    TRCOFF          :TRACE BIT OFF AND CONTINUE
                                A
A   Operand out of range
***0   CRASH0
        L       R1,CRAT+CRXREG,R2 :GET CONTENTS OF REGISTER
                                  A
A   Operand out of range
***0   ENTRY1
	STH	R0,FGNDFL	:SET THE FOREGROUND FLAG
	  	         	 A
A   Operand out of range
***0   ENTRY2
	STH	R0,FGNDFL	:CLEAR THE FOREGROUND FLAG
	  	         	 A
A   Operand out of range
***0   ENTRY2
        UPSW    PSWSAV          :INITIALIZE WITH RESTORED PSW
                                A
A   Operand out of range
***0   PUSHIT
PUSHIT  LM      R6,CRAT,R1      :PUSH DOWN THE CRASH TABLE
                                A
A   Operand out of range
***0   PUSHIT
        STM     R6,CRAT+CRTLEN,R1
                                 A
A   Operand out of range
***0   PUSHIT
        LM      R6,CRAT+CRTLEN/2,R1
                                   A
A   Operand out of range
***0   PUSHIT
        STM     R6,CRAT+CRTLEN+CRTLEN/2,R1
                                          A
A   Operand out of range
CRASH 1C840 1CA3E
***0   DS.ERR
	 JBS	BITCH;	 NOPR	0			: ^W...Ignore
	   	      A
A   Operand out of range
***0   DS.ERR
	  JBS	BITCH;	  NOPR	0			: ^A...Ignore
	    	      A
A   Operand out of range
***0   DS.ERR
	JNBS	BITCH
	   	      A
A   Operand out of range
STATUS 1CA3E 1CC76
***0   START
	LA	R0,SYNC			: SYNC address
	 	       			 A
A   Operand out of range
***0   START
	ST	R0,STCRA		: initialize Status area
	 	        		 A
A   Operand out of range
***0   START
	ST	R0,STATIM		: 
	 	         		 A
A   Operand out of range
***0   START
	ST	R0,SSRCRA		: 
	 	         		 A
A   Operand out of range
***0   START
	ST	R0,SSRTIM		: 
	 	         		 A
A   Operand out of range
***0   START
	LA	R2,STAREA		: set address of status area
	 	         		 A
A   Operand out of range
***0   START
	ST	R0,BITS
	 	        A
A   Operand out of range
***0   START
	ST	R0,XBITS		: slot speedometer
	 	        		 A
A   Operand out of range
***0   MAIN
MAIN	L	R2,XBITS		: our speedometer
   	 	        		 A
A   Operand out of range
***0   MAIN
	ST	R2,XBITS
	 	         A
A   Operand out of range
***0   MAIN1
MAIN1	LH	R1,SYNC			: get a value
    	  	       			 A
A   Operand out of range
***0   MAIN1
	TS	SYNC			: indicate to EBUS we've run again
	 	    			 A
A   Operand out of range
***0   MAIN1
	L	R0,BITS			: use value to shuffle bits
		       			 A
A   Operand out of range
***0   MAIN1
	ST	R0,BITS
	 	        A
A   Operand out of range
***0   MAIN1
	LB	R1,HSTAT
	 	         A
A   Operand out of range
***0   MAIN1
	LHL	R0,HPARAM		: ...other second, show host parameters
	  	         		 A
A   Operand out of range
***0   MAIN2
MAIN2	STH	R0,FPANEL		: update front-panel
    	   	         		 A
A   Operand out of range
***0   MAIN2
	L	R1,STCRA		: Any IPI MSG?
		        		 A
A   Operand out of range
***0   MAIN2
	L	R1,SSRCRA		: SSR Crash?
		         		 A
A   Operand out of range
***0   SVCCRA
SVCCRA	ST	R0,CRATYP
     	  	          A
A   Operand out of range
EBUS 1CC76 1D32C
DEFAULT AREA PROTECTIONS ASSUMED.

"SEG4" has been redefined
"SEG5" has been redefined
"SEG6" has been redefined
"SEG0B" has been redefined
"SEG0C" has been redefined
Segment 0- overflow, exceeded by 49792d bytes

Segment 4- overflow, exceeded by 99312d bytes

Segment 5- overflow, exceeded by 164412d bytes

Segment 6- overflow, exceeded by 229948d bytes

Segment 0B- overflow, exceeded by 487996d bytes

Segment 0C- overflow, exceeded by 553016d bytes

SEGMENT E IS RESERVED FOR CTA. REMOVE OTHER ALLOCATIONS.


SEGMENT 0-length 115328d, requires 1C300x bytes of core.
SEGMENT 1-length 54060d, requires 0D400x bytes of core.
SEGMENT 2-length 59060d, requires 0E700x bytes of core.
SEGMENT 3-length 65536d, requires 10000x bytes of core.
SEGMENT 4-length 164848d, requires 28400x bytes of core.
SEGMENT 5-length 229948d, requires 38300x bytes of core.
SEGMENT 6-length 295484d, requires 48300x bytes of core.
SEGMENT 0A-length 244d, requires 100x bytes of core.
SEGMENT 0B-length 553532d, requires 87300x bytes of core.
SEGMENT 0C-length 618552d, requires 97100x bytes of core.
SEGMENT 0D-length 24100d, requires 5F00x bytes of core.
SEGMENT 0E-length 720d, requires 300x bytes of core.
       2132d K-bytes of core
***Undefined symbols
PORTS HOSTS COREST XNID30 SLOTNO VERREV XNID20 
End of assembly
1;F   ND3374.N01
*** Undefined symbols, memory image not guaranteed

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!
!; Build BND file.  Note that the 68K code is the same in all bases.
!R (SYS)MERLIN
MERGE AND LINK ISIS SLOTS
VERSION  2.10
* ND3374.BND=ND3374.NIB,ND3374.N00,ND3374.N01,(EBUS)EBUS02.O02/S




         SLOT MAP

SLOT BEGINS ENDS
 0   16400  6DBFF
 1   6DC00  B03FF
 2   B0400  C93FF

? FILE DSK:ND3374.N00 ON DEVICE DSK (0) WAS NOT FOUND
LAST FORTRAN I-O AT USER LOC 001670
EXIT

!
!;The NIB files are not needed and can be deleted.
!DELETE ND3374.NIB,ND3374.N00,ND3374.N01

Files "deleted":
ND3374  N01   9-NOV-89 2031    ALL RD  NO     63488          
ND3374  NIB   9-NOV-89 2027    ALL RD  NO     20608          

!R (SYS)CKSUM
INPUT: ND3374.*
LELCEX ND3374.TYM
YIZPUV ND3374.BND
MIQNUM ND3374.LOG
MUBZIM ND3374.BAK
QESRUD ND3374.C01
FEWPAR ND3374.CMD
YEKWOH ND3374.C00
MANCUH ND3374.T01
INPUT: 

!DIRECT ND3374.BND

ND3374  BND      69  22-AUG-88 1939    ALL RD  NO     34816          

!LOGOUT
1501.58 tru
terminal time: 0:09:23

[Job (EBUS)EBUS.CTL completed]
[Output recorded in file (EBUS)ND3374.LOG]
!PCOM ND4274.LOG=EBUS ND4274/LOG
!SYSNO
TYMSHARE F33-P035/E 3-2-89
!DAYTIME
9-NOV-1989 20:33:29 PST

!; This CTL file rebuilds the BND file for an EBUS base from scratch.
!; The following files must exist:
!DIRECT (EBUS)EBUS02.O02

EBUS02  O02       9   9-MAY-88 1336    ALL RD  NO      4096          

!DIRECT ND4274.TYM,ND4274.T01,ND4274.CMD,ND4274.C00,ND4274.C01

ND4274  T01       2   9-NOV-89 1757    ALL RD  NO        53          
ND4274  TYM       3   9-NOV-89 1724    ALL RD  NO       696          
ND4274  C00       2  26-AUG-88 1859    ALL RD  NO        42          
ND4274  CMD       2  26-AUG-88 1856    ALL RD  NO        43          
ND4274  C01       2  24-AUG-88 1719    ALL RD  NO        37          

!DIRECT ISXRAY.GGY,GOODGY.NQA

GOODGY  NQA       2  14-NOV-88  906    ALL RD  NO       362          
ISXRAY  GGY       2   2-JUL-87 1305    ALL RD  NO       128          

!
!; Create the ISIS Kernel from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND4274.CMD

;; ISIS-II Version 7.03 Sample Command File
;@   (SOURCE)I2IS07.I03

End of assembly
;@   ND4274.TYM

End of assembly
;@   (TYMNET)GOODGY.NQA

End of assembly
;@   (SOURCE)I2IS07.R03

SYNC specified but not assigned...(warning only, no change)
SYNC 1BD6 2442
CLOCKS 2442 2582
MBOARD 2582 26E8
IPI 26E8 2946
FLASH 2946 2DE6
KCAREA 2DE6 2FDC
TTY 2FDC 3300
KERNEL 3300 7B7C
DDT 7B7C 0AB00
   3273d bufferlets allocated to dispatcher
DISPAT 0AB00 16400
.............................................



    ***  ISIS-II  ***
      Version 7.3d

TYMNET-II Node 4274, Kernel Host 7563
Maximum slot number is 2

       >>> HARDWARE CONFIGURATION <<<

Expects enhanced sync microcode
Expects enhanced async microcode
Expects MAC II
Expects maximum baud rate of 1200
Expects 1 sync board(s)
Expects 1 SIO mother-board processor(s)
   Board 0 has 2 channel(s), device address 80
Expects 1 IPI processor(s)
   IPI device 0 has device address 88

       >>> SLOT CONFIGURATIONS <<<

SLOT 0, NODE CODE, has 350 K-bytes of core, from 16400 to 6DBFF
   2 logical unit(s)
   L.U. 0 is M.Board channel 0
   L.U. 1 is M.Board channel 1

SLOT 1 has 266 K-bytes of core, from 6DC00 to 0B03FF
   1 logical unit(s)
   L.U. 0 is M.Board channel 0

SLOT 2 has 100 K-bytes of core, from 0B0400 to 0C93FF
   no logical units

***Highest location used in this configuration is 0C9400

Requires 809d k-bytes of core


.............................................


Code Generated:  11/10/89  04:35:33 GMT

.............................................

End of assembly
;X   (SOURCE)I2IS07.P03

;; ISIS-II Version 7.03 Patch File

;@   (SOURCE)I2IS07.Q03

ISIS 7.03 PATCH 1
  Fixes reversed CTS and DSR on HDLC micro.

ISIS 7.03 PATCH 2
  This patch is superseded by patch 4.

ISIS 7.03 PATCH 3
  Causes ISIS to read memory error log before crashing.

ISIS 7.03 PATCH 4
  Refreshes CPU and MAC registers to avoid degradation.
  (Updated version of patch 2)

ISIS 7.03 PATCH 5
  Correctly initializes registers for checking newlog bit array

ISIS 7.03 PATCH 6
  Wraps around accounting char counts when count exceeds 28 bits

ISIS 7.03 PATCH 7
Patch to prevent disk from doing retries on a 
controller errror

ISIS 7.03 PATCH 8
  Corrects initialization order of Emulated Sync.
  Also it allows window for interrupts to be flushed
  during initialization.

ISIS 7.03 PATCH 9
have DCSLOT free channels for ports in time-out
or clean-up

ISIS 7.03 PATCH 10
Have KRASHI report crashes to dispatcher
and pause slot for 4 seconds

ISIS 7.03 PATCH 11
Keep DDT Mask command from crashing machine

ISIS 7.03 PATCH 12
Have restart SVC disable watch-frog timer

ISIS 7.03 PATCH 13
Crash ISIS on DMA parity error

ISIS 7.03 PATCH 14 
 CLEAR DHANG ON SYSTEM CRASH 

ISIS 7.03 PATCH 15 
THIS PATCH IS USED TO CORRECT  A TID RECOGNITION5 
FOR 300 BAUD WHEN USING HIGH SPEED INTERRUPTS.

ISIS 7.03 PATCH 16 
ISIS VERSION GREATER 6 ALLOWS WRITING PAST SEGMENT 
BOUNDARIES WITHOUT PROTECTION.  CHANGES MADE FOR  
MULTIMEG SUPPORT INDUCED THIS PROBLEM.  THIS PATCH 
PROTECTS ISIS FROM OVER WRITING BOUNDARIES. 
See NSR 1772 

ISIS 7.03 PATCH 17
This patch fixes timing problems associated
with the initialization of HDLC micro-engine
channels that are emulation TYMNET sync.

End of assembly


1;F   ND4274.NIB

70;T
0,SUMTBL;P
INTLEN,IEND-INTLEN;P
%P
SEGF,SFSIZE;P
%Q
EXIT

!
!; Create the node code for slot 0 from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND4274.C00

;; UPDATED 88/05/18 ND4274  ISIS-II T-II JOE SMITH
;A   (SOURCE)TII05.I22

End of assembly
;A   ND4274.TYM

End of assembly
;A   (TYMNET)ISXRAY.GGY

End of assembly
;A   (SOURCE)TII05.R22

End of assembly
;A   (SOURCE)TII05.F22


TYMNET-II Node Code, Version 5.22, ISIS Node

Node: 4274  Kernel Host: 7563

Ports:		Lines:		Links:
   128d Pthru	     0d Sync	     2d TIILNK
     3d Xray	     2d SIO	     0d XLNK
		     2d Total	     2d Total
   256d Disp
     3d Krnl

Maximum number of circuits =  431d 


Bufferlet storage space:

  5E48x bytes (  24d KB) for  431d circuit buffers ( 56d bytes per circuit)
 22112x bytes ( 137d KB) for  271d history buffers (514d bytes per termination)
 27F5Ax bytes ( 160d KB) for  431d total circuits  (379d bytes per circuit)


Memory used by this configuration = 57800x, 350d KB.

Optimal amount of memory for this configuration =   229d  KB.

End of assembly
;A   (SOURCE)TII05.P22


       NETID is 1d.  This is a TYMNET network node.




PATCH added on 870811 at 0900 by JLADEN.
     Starts at ATTLI0+20 and is 10x bytes long
<<< FIX RESET VERSION COMPATIBILTY PROBLEM >>>

PATCH added on 870907 at 0138 by SDW.
     Starts at RTBFA2+4 and is 6x bytes long
<<< PATCH TO FIX REGISTER USAGE BY IMPROVED REBUILD ROUTINE >>>

PATCH added on 870211 at 1800 by SDW.
     Starts at HSTDI4+0C and is 4x bytes long
<<< Patch to have XRAY HS U command display up hosts that have no ports >>>

PATCH added on 880121 at 1301 by sdw.RESET1.
     Starts at ATTL05-8 and is 6x bytes long
	Continues at PATCH1+0 and is 5Cx bytes long
<<< Make old style reset packet always have old style reset data >>>

PATCH added on 880829 at 1400 by sdw.RESET2.
     Starts at ATTLIN+8 and is 6x bytes long
	Continues at PATCH1+5C and is 54x bytes long
<<< Handle neighbor switching between old and expanded resets >>>

PATCH added on 880126 at 1756 by sdw.RES4M1.
     Starts at G04MIN and is 6x bytes long
	Continues at PATCH0+0 and is 0Ex bytes long
	Continues at PATCH1+96 and is 0D8x bytes long
<<< Send a old style reset every four minutes to help lines to come up >>>

PATCH added on 880126 at 1845 by sdw.RES4M2.
     Starts at G01SE3 and is 6x bytes long
	Continues at PATCH1+16E and is 8Ax bytes long
<<< Part 2 of patch to occasionally send old style resets. >>>

PATCH added on 880218 at 1600 by sdw.SIOCHN.
     Starts at siopt4+8 and is 2x bytes long
<<< Allow SIO to send more than 40 packets per second >>>

PATCH added on 880218 at 2330 by sdw.SIORSPC.
     Starts at SIORS and is 10x bytes long
	Continues at SIORR and is 6x bytes long
	Continues at PATCH0+12 and is 4x bytes long
	Continues at PATCH1+1F8 and is 28x bytes long
<<< Part 1 of patch to send only 1 SIO reset per second >>>

PATCH added on 880218 at 2356 by sdw.SIORSP2.
     Starts at G01PER and is 6x bytes long
	Continues at PATCH1+21E and is 1Ex bytes long
<<< Part 2 of patch to send only 1 SIO reset per second >>>

PATCH added on 880306 at 109 by sdw.FIX DB.
     Starts at DBEGIN and is 6x bytes long
	Continues at PATCH1+23C and is 1Cx bytes long
<<< Disable DB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 123 by sdw.FIX WB.
     Starts at XWRBUF and is 6x bytes long
	Continues at PATCH1+258 and is 30x bytes long
	Continues at xwrbuf+6 and is 12x bytes long
<<< Disable WB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 134 by sdw.REMZAP.
     Starts at REMZA6+2 and is 6x bytes long
	Continues at PATCH1+27A and is 10x bytes long
<<< Fix potential crash when Xray user zaps before clearing delay circuits >>>

PATCH added on 880307 at 0934 by sdw.NETIDBG.
     Starts at ATTNID and is 12x bytes long
	Continues at PATCH0+16 and is 8x bytes long
<<< Do not put neighbor with bad NETID on node's bad guy list >>>

PATCH added on 880317 at 1523 by sdw.XRAYIN.
     Starts at XRYIN7 and is 4x bytes long
<<< Fix local XRAY to have a dismiss when waiting for character >>>

PATCH added on 880408 at 1500 by SLN.FNDLNK.
     Starts at CRQZOG+6 and is 0Ex bytes long
	Continues at LEP9V2-20 and is 0Ex bytes long
	Continues at PATCH1+28A and is 4Cx bytes long
<<< Fix crash 0007 from Qexec corruption >>>

PATCH added on 880410 at 1525 by sdw.ATT.R2.
     Starts at ATTLDW and is 6x bytes long
	Continues at PATCH1+2D6 and is 14x bytes long
<<< Fix crash in line attach logic due to corrupted register >>>

PATCH added on 880405 at 2334 by sdw.WSZDWN.
     Starts at MCHD04+4 and is 6x bytes long
	Continues at TRLINZ and is 6x bytes long
	Continues at PATCH1+2EA and is 66x bytes long
	Continues at PATCH0+1E and is 10x bytes long
<<< Fix windowsize matchdown to restore to original when link goes down >>>

PATCH added on 880425 at 1713 by sdw.HSecNS.
     Starts at XSTMS0 and is 4Cx bytes long
<<< Fix NS to show proper time spent in H-SEC process >>>

PATCH added on 880426 at 2214 by sdw.KDCMTS.
     Starts at XNEI7B and is 6x bytes long
	Continues at PATCH1+350 and is 1Ax bytes long
<<< Fix Xray KD command to correctly count number of command circuits >>>

PATCH added on 880408 at 1000 by pk.siocopy.
     Starts at sioi5+8 and is 36x bytes long
<<< Remove SIO input problems with foreground/background collisions >>>

PATCH added on 880628 at 1500 by sdw.SIOCH2.
     Starts at siosnd-4 and is 4x bytes long
	Continues at sion4-6 and is 6x bytes long
	Continues at PATCH1+36A and is 12x bytes long
<<< Correct logic which flagged an unloaded line as saturated >>>

PATCH added on 880623 at 1330 by sdw.OOPS.
     Starts at SFAIL-0a and is 6x bytes long
	Continues at PATCH1+37C and is 10x bytes long
<<< Save R0 and R1 when doing software crashes >>>

PATCH added on 880706 at 1301 by CMR.XRDBRM.
     Starts at DBEGI8 and is 6x bytes long
	Continues at PATCH1+38C and is 20x bytes long
<<< Reset INTXRF flag when entering 'DB' command >>>

PATCH added on 880725 at 1500 by sdw.DBFILL.
     Starts at DBEGI5 and is 6x bytes long
	Continues at PATCH1+39C and is 1Ex bytes long
<<< Prevent crash caused by delay circuits using all bufferlets >>>

PATCH added on 880729 at 1600 by SDW.ZR7263.
     Starts at dsozw7 and is 6x bytes long
	Continues at PATCH1+3BA and is 1Cx bytes long
<<< Fix problem with Zap With Reason which leads to a 7263 crash >>>

PATCH added on 880930 at 115 by sdw.NI cmd.
     Starts at XNID+10 and is 6x bytes long
	Continues at qrychn-6 and is 6x bytes long
	Continues at PATCH1+3D6 and is 100x bytes long
<<< Change Xray NI command to also display the NETIDs for each line >>>

PATCH added on 881128 at 0113 by sdw.GETPWR.
     Starts at getpwr+18 and is 0Ex bytes long
<<< Fix Xray GP to work for all Node and Host numbers >>>

PATCH added on 890625 at 1645 by sdw.ExpOld.
     Starts at atl061+4 and is 6x bytes long
	Continues at PATCH1+4D0 and is 60x bytes long
<<< Don't let links between v5.20+ neighbors come up on old style resets >>>

PATCH added on 881202 at 2313 by sdw.?slot.
     Starts at 0e00a4 and is 6x bytes long
<<< Set up Segment E so that DDT ?SLOT command works properly >>>

PATCH added on 881202 at 2255 by sdw.W.SegE.
     Starts at write4+0a and is 6x bytes long
	Continues at writf4+0a and is 6x bytes long
	Continues at chkdat+0f*4 and is 4x bytes long
	Continues at PATCH1+522 and is 40x bytes long
<<< Prevent Xray W or WS command from writing to Seg E or Seg F >>>

PATCH added on 881213 at 1655 by sdw.FIX RB.
     Starts at xrdbu3+4 and is 6x bytes long
	Continues at PATCH1+552 and is 40x bytes long
<<< Put a range check on Xray RB command >>>

PATCH added on 881213 at 1655 by sdw.FIX SM.
     Starts at setme0+6 and is 6x bytes long
	Continues at PATCH1+572 and is 40x bytes long
<<< Put a range check on Xray SM command >>>

PATCH added on 881213 at 1655 by sdw.FIX AP.
     Starts at setpr0+6 and is 6x bytes long
	Continues at PATCH1+584 and is 40x bytes long
<<< Put a range check on Xray AP command >>>

PATCH added on 890207 at 250 by sdw.HSslot.
     Starts at hstdi5+8 and is 4x bytes long
<<< Fix Xray HS <value> S command to display all hosts for that slot >>>

PATCH added on 890222 at 141 by sdw.KD r8.
     Starts at xneig2-16 and is 12x bytes long
<<< Fix potential crash due to improperly orderred instructions >>>

PATCH added on 890222 at 0059 by sdw.crHDLC.
     Starts at ldrp54-1a and is 6x bytes long
	Continues at PATCH1+596 and is 40x bytes long
<<< Only put HDLC CKSUM ERROR in Crypto log when line is bad >>>

PATCH added on 890707 at 1431 by sdw.XRAYGG.
     Starts at xggad4+8 and is 6x bytes long
	Continues at switch-0a and is 6x bytes long
	Continues at PATCH1+5BA and is 80x bytes long
<<< Patch to allow GG macro to have lowercase Xray usernames >>>

PATCH added on 890929 at 1100 by SHM.CpyInt.
     Starts at SIOIZ4 and is 6x bytes long
	Continues at PATCH1+626 and is 30x bytes long
<<< RESTORE SIOINT CCW >>>

PATCH added on 891009 at 1305 by sln.tdmask.
     Starts at TRCSUP+18 and is 6x bytes long
	Continues at PATCH1+646 and is 14x bytes long
<<< Set XRAY TA/TD/TE to properly mask cmd chnl msgs >>>

PATCH added on 870716 at 1220 by sln.fixta.
     Starts at TRCDUX+10 and is 1Ax bytes long
<<< Set XRAY TA command to output period for ascii-ctrl >>>
End of assembly
1;F   ND4274.N00

;X   (SOURCE)TIII05.WRT

SEG0,RSEG0;P
SEG1,S1SIZE;P
SEGD,SDSIZE;P
SEGF,SFSIZE;P
CTA,CTASIZ;P
%P
%Q
EXIT

!
!; Create the Engine code that runs in Slot 1 from NDxxxx.T01
!R (SYS)NAD
1.5
;X   ND4274.C01

;;      EBUS INTERFACE COMMAND FILE - SYSTEM #: 54  
;@   (SOURCE)EBUS02.I00

End of assembly
;@   ND4274.T01

End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SEG 2 SIZE = 1100

RING 0E0000 101BA 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
CRASH 101BA 103B8
STATUS 103B8 105EE
EBUS 105EE 10CA4
DEFAULT AREA PROTECTIONS ASSUMED.

SEGMENT 0-length 404d, requires 200x bytes of core.
SEGMENT 1-length 3364d, requires 0E00x bytes of core.
SEGMENT 2-length 4480d, requires 1200x bytes of core.
SEGMENT 3-length 65536d, requires 10000x bytes of core.
SEGMENT 4-length 65536d, requires 10000x bytes of core.
SEGMENT 5-length 65536d, requires 10000x bytes of core.
SEGMENT 6-length 65536d, requires 10000x bytes of core.
SEGMENT 0E-length 476d, requires 200x bytes of core.
       265d K-bytes of core
End of assembly
1;F   ND4274.N01

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!
!; Build BND file.  Note that the 68K code is the same in all bases.
!R (SYS)MERLIN
MERGE AND LINK ISIS SLOTS
VERSION  2.10
* ND4274.BND=ND4274.NIB,ND4274.N00,ND4274.N01,(EBUS)EBUS02.O02/S




         SLOT MAP

SLOT BEGINS ENDS
 0   16400  6DBFF
 1   6DC00  B03FF
 2   B0400  C93FF




    MAP OF SLOT  0

SEG  BEGINS ENDS
 0   17400  1E1FF
 1   1E200  2AEFF
 2   2AF00  3AEFF
 3   3AF00  4AEFF
 4   4AF00  5AEFF
 5   5AF00  65EFF
13   65F00  6DBFF
14   16400  173FF




    MAP OF SLOT  1

SEG  BEGINS ENDS
 0   6DE00  6DF93
 1   6E000  6ED23
 2   6EE00  6FF7F
 3   70000  7FFFF
 4   80000  8FFFF
 5   90000  9FFFF
 6   A0000  AFFFF
14   6DC00  6DDDB




    MAP OF SLOT  2   (S-RECORD)

BEGINS ENDS
B0400  B26AC

EXIT

!
!;The NIB files are not needed and can be deleted.
!DELETE ND4274.NIB,ND4274.N00,ND4274.N01


!R (SYS)CKSUM
INPUT: ND4274.*
TOVNEJ ND4274.LOG
RAHKOR ND4274.BAK
GIBJAK ND4274.C01
ZUQLAH ND4274.CMD
MONTAP ND4274.C00
PUVLET ND4274.TYM
RAHBUV ND4274.T01
QASWOJ ND4274.BND
INPUT: 

!DIRECT ND4274.BND

ND4274  BND      70   9-NOV-89 2041    ALL RD  NO     35072          

!LOGOUT
1526.47 tru
terminal time: 0:08:42

[Job (EBUS)EBUS.CTL completed]
[Output recorded in file (EBUS)ND4274.LOG]
!PCOM ND4725.LOG=EBUS ND4725/LOG
!SYSNO
TYMSHARE F33-P035/E 3-2-89
!DAYTIME
9-NOV-1989 20:42:14 PST

!; This CTL file rebuilds the BND file for an EBUS base from scratch.
!; The following files must exist:
!DIRECT (EBUS)EBUS02.O02

EBUS02  O02       9   9-MAY-88 1336    ALL RD  NO      4096          

!DIRECT ND4725.TYM,ND4725.T01,ND4725.CMD,ND4725.C00,ND4725.C01

ND4725  T01       2   9-NOV-89 1801    ALL RD  NO        53          
ND4725  C00       2  26-AUG-88 1859    ALL RD  NO        42          
ND4725  CMD       2  26-AUG-88 1856    ALL RD  NO        43          
ND4725  C01       2  24-AUG-88 1719    ALL RD  NO        37          
ND4725  TYM       3  22-AUG-88 1732    ALL RD  NO       680          

!DIRECT ISXRAY.GGY,GOODGY.NQA

GOODGY  NQA       2  14-NOV-88  906    ALL RD  NO       362          
ISXRAY  GGY       2   2-JUL-87 1305    ALL RD  NO       128          

!
!; Create the ISIS Kernel from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND4725.CMD

;; ISIS-II Version 7.03 Sample Command File
;@   (SOURCE)I2IS07.I03

End of assembly
;@   ND4725.TYM

End of assembly
;@   (TYMNET)GOODGY.NQA

End of assembly
;@   (SOURCE)I2IS07.R03

SYNC specified but not assigned...(warning only, no change)
SYNC 1BD6 2442
CLOCKS 2442 2582
MBOARD 2582 26E8
IPI 26E8 2946
FLASH 2946 2DE6
KCAREA 2DE6 2FDC
TTY 2FDC 3300
KERNEL 3300 7B7C
DDT 7B7C 0AB00
   3273d bufferlets allocated to dispatcher
DISPAT 0AB00 16400
.............................................



    ***  ISIS-II  ***
      Version 7.3d

TYMNET-II Node 4725, Kernel Host 7454
Maximum slot number is 2

       >>> HARDWARE CONFIGURATION <<<

Expects enhanced sync microcode
Expects enhanced async microcode
Expects MAC II
Expects maximum baud rate of 1200
Expects 1 sync board(s)
Expects 1 SIO mother-board processor(s)
   Board 0 has 2 channel(s), device address 80
Expects 1 IPI processor(s)
   IPI device 0 has device address 88

       >>> SLOT CONFIGURATIONS <<<

SLOT 0, NODE CODE, has 350 K-bytes of core, from 16400 to 6DBFF
   2 logical unit(s)
   L.U. 0 is M.Board channel 0
   L.U. 1 is M.Board channel 1

SLOT 1 has 266 K-bytes of core, from 6DC00 to 0B03FF
   1 logical unit(s)
   L.U. 0 is M.Board channel 0

SLOT 2 has 100 K-bytes of core, from 0B0400 to 0C93FF
   no logical units

***Highest location used in this configuration is 0C9400

Requires 809d k-bytes of core


.............................................


Code Generated:  11/10/89  04:44:18 GMT

.............................................

End of assembly
;X   (SOURCE)I2IS07.P03

;; ISIS-II Version 7.03 Patch File

;@   (SOURCE)I2IS07.Q03

ISIS 7.03 PATCH 1
  Fixes reversed CTS and DSR on HDLC micro.

ISIS 7.03 PATCH 2
  This patch is superseded by patch 4.

ISIS 7.03 PATCH 3
  Causes ISIS to read memory error log before crashing.

ISIS 7.03 PATCH 4
  Refreshes CPU and MAC registers to avoid degradation.
  (Updated version of patch 2)

ISIS 7.03 PATCH 5
  Correctly initializes registers for checking newlog bit array

ISIS 7.03 PATCH 6
  Wraps around accounting char counts when count exceeds 28 bits

ISIS 7.03 PATCH 7
Patch to prevent disk from doing retries on a 
controller errror

ISIS 7.03 PATCH 8
  Corrects initialization order of Emulated Sync.
  Also it allows window for interrupts to be flushed
  during initialization.

ISIS 7.03 PATCH 9
have DCSLOT free channels for ports in time-out
or clean-up

ISIS 7.03 PATCH 10
Have KRASHI report crashes to dispatcher
and pause slot for 4 seconds

ISIS 7.03 PATCH 11
Keep DDT Mask command from crashing machine

ISIS 7.03 PATCH 12
Have restart SVC disable watch-frog timer

ISIS 7.03 PATCH 13
Crash ISIS on DMA parity error

ISIS 7.03 PATCH 14 
 CLEAR DHANG ON SYSTEM CRASH 

ISIS 7.03 PATCH 15 
THIS PATCH IS USED TO CORRECT  A TID RECOGNITION5 
FOR 300 BAUD WHEN USING HIGH SPEED INTERRUPTS.

ISIS 7.03 PATCH 16 
ISIS VERSION GREATER 6 ALLOWS WRITING PAST SEGMENT 
BOUNDARIES WITHOUT PROTECTION.  CHANGES MADE FOR  
MULTIMEG SUPPORT INDUCED THIS PROBLEM.  THIS PATCH 
PROTECTS ISIS FROM OVER WRITING BOUNDARIES. 
See NSR 1772 

ISIS 7.03 PATCH 17
This patch fixes timing problems associated
with the initialization of HDLC micro-engine
channels that are emulation TYMNET sync.

End of assembly


1;F   ND4725.NIB

70;T
0,SUMTBL;P
INTLEN,IEND-INTLEN;P
%P
SEGF,SFSIZE;P
%Q
EXIT

!
!; Create the node code for slot 0 from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND4725.C00

;; UPDATED 88/05/18 ND4725 ISIS-II T-II JOE SMITH
;A   (SOURCE)TII05.I22

End of assembly
;A   ND4725.TYM

End of assembly
;A   (TYMNET)ISXRAY.GGY

End of assembly
;A   (SOURCE)TII05.R22

End of assembly
;A   (SOURCE)TII05.F22


TYMNET-II Node Code, Version 5.22, ISIS Node

Node: 4725  Kernel Host: 7454

Ports:		Lines:		Links:
   128d Pthru	     0d Sync	     2d TIILNK
     3d Xray	     2d SIO	     0d XLNK
		     2d Total	     2d Total
   256d Disp
     3d Krnl

Maximum number of circuits =  431d 


Bufferlet storage space:

  5E48x bytes (  24d KB) for  431d circuit buffers ( 56d bytes per circuit)
 22652x bytes ( 138d KB) for  271d history buffers (519d bytes per termination)
 2849Ax bytes ( 162d KB) for  431d total circuits  (382d bytes per circuit)


Memory used by this configuration = 57800x, 350d KB.

Optimal amount of memory for this configuration =   227d  KB.

End of assembly
;A   (SOURCE)TII05.P22


       NETID is 1d.  This is a TYMNET network node.




PATCH added on 870811 at 0900 by JLADEN.
     Starts at ATTLI0+20 and is 10x bytes long
<<< FIX RESET VERSION COMPATIBILTY PROBLEM >>>

PATCH added on 870907 at 0138 by SDW.
     Starts at RTBFA2+4 and is 6x bytes long
<<< PATCH TO FIX REGISTER USAGE BY IMPROVED REBUILD ROUTINE >>>

PATCH added on 870211 at 1800 by SDW.
     Starts at HSTDI4+0C and is 4x bytes long
<<< Patch to have XRAY HS U command display up hosts that have no ports >>>

PATCH added on 880121 at 1301 by sdw.RESET1.
     Starts at ATTL05-8 and is 6x bytes long
	Continues at PATCH1+0 and is 5Cx bytes long
<<< Make old style reset packet always have old style reset data >>>

PATCH added on 880829 at 1400 by sdw.RESET2.
     Starts at ATTLIN+8 and is 6x bytes long
	Continues at PATCH1+5C and is 54x bytes long
<<< Handle neighbor switching between old and expanded resets >>>

PATCH added on 880126 at 1756 by sdw.RES4M1.
     Starts at G04MIN and is 6x bytes long
	Continues at PATCH0+0 and is 0Ex bytes long
	Continues at PATCH1+96 and is 0D8x bytes long
<<< Send a old style reset every four minutes to help lines to come up >>>

PATCH added on 880126 at 1845 by sdw.RES4M2.
     Starts at G01SE3 and is 6x bytes long
	Continues at PATCH1+16E and is 8Ax bytes long
<<< Part 2 of patch to occasionally send old style resets. >>>

PATCH added on 880218 at 1600 by sdw.SIOCHN.
     Starts at siopt4+8 and is 2x bytes long
<<< Allow SIO to send more than 40 packets per second >>>

PATCH added on 880218 at 2330 by sdw.SIORSPC.
     Starts at SIORS and is 10x bytes long
	Continues at SIORR and is 6x bytes long
	Continues at PATCH0+12 and is 4x bytes long
	Continues at PATCH1+1F8 and is 28x bytes long
<<< Part 1 of patch to send only 1 SIO reset per second >>>

PATCH added on 880218 at 2356 by sdw.SIORSP2.
     Starts at G01PER and is 6x bytes long
	Continues at PATCH1+21E and is 1Ex bytes long
<<< Part 2 of patch to send only 1 SIO reset per second >>>

PATCH added on 880306 at 109 by sdw.FIX DB.
     Starts at DBEGIN and is 6x bytes long
	Continues at PATCH1+23C and is 1Cx bytes long
<<< Disable DB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 123 by sdw.FIX WB.
     Starts at XWRBUF and is 6x bytes long
	Continues at PATCH1+258 and is 30x bytes long
	Continues at xwrbuf+6 and is 12x bytes long
<<< Disable WB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 134 by sdw.REMZAP.
     Starts at REMZA6+2 and is 6x bytes long
	Continues at PATCH1+27A and is 10x bytes long
<<< Fix potential crash when Xray user zaps before clearing delay circuits >>>

PATCH added on 880307 at 0934 by sdw.NETIDBG.
     Starts at ATTNID and is 12x bytes long
	Continues at PATCH0+16 and is 8x bytes long
<<< Do not put neighbor with bad NETID on node's bad guy list >>>

PATCH added on 880317 at 1523 by sdw.XRAYIN.
     Starts at XRYIN7 and is 4x bytes long
<<< Fix local XRAY to have a dismiss when waiting for character >>>

PATCH added on 880408 at 1500 by SLN.FNDLNK.
     Starts at CRQZOG+6 and is 0Ex bytes long
	Continues at LEP9V2-20 and is 0Ex bytes long
	Continues at PATCH1+28A and is 4Cx bytes long
<<< Fix crash 0007 from Qexec corruption >>>

PATCH added on 880410 at 1525 by sdw.ATT.R2.
     Starts at ATTLDW and is 6x bytes long
	Continues at PATCH1+2D6 and is 14x bytes long
<<< Fix crash in line attach logic due to corrupted register >>>

PATCH added on 880405 at 2334 by sdw.WSZDWN.
     Starts at MCHD04+4 and is 6x bytes long
	Continues at TRLINZ and is 6x bytes long
	Continues at PATCH1+2EA and is 66x bytes long
	Continues at PATCH0+1E and is 10x bytes long
<<< Fix windowsize matchdown to restore to original when link goes down >>>

PATCH added on 880425 at 1713 by sdw.HSecNS.
     Starts at XSTMS0 and is 4Cx bytes long
<<< Fix NS to show proper time spent in H-SEC process >>>

PATCH added on 880426 at 2214 by sdw.KDCMTS.
     Starts at XNEI7B and is 6x bytes long
	Continues at PATCH1+350 and is 1Ax bytes long
<<< Fix Xray KD command to correctly count number of command circuits >>>

PATCH added on 880408 at 1000 by pk.siocopy.
     Starts at sioi5+8 and is 36x bytes long
<<< Remove SIO input problems with foreground/background collisions >>>

PATCH added on 880628 at 1500 by sdw.SIOCH2.
     Starts at siosnd-4 and is 4x bytes long
	Continues at sion4-6 and is 6x bytes long
	Continues at PATCH1+36A and is 12x bytes long
<<< Correct logic which flagged an unloaded line as saturated >>>

PATCH added on 880623 at 1330 by sdw.OOPS.
     Starts at SFAIL-0a and is 6x bytes long
	Continues at PATCH1+37C and is 10x bytes long
<<< Save R0 and R1 when doing software crashes >>>

PATCH added on 880706 at 1301 by CMR.XRDBRM.
     Starts at DBEGI8 and is 6x bytes long
	Continues at PATCH1+38C and is 20x bytes long
<<< Reset INTXRF flag when entering 'DB' command >>>

PATCH added on 880725 at 1500 by sdw.DBFILL.
     Starts at DBEGI5 and is 6x bytes long
	Continues at PATCH1+39C and is 1Ex bytes long
<<< Prevent crash caused by delay circuits using all bufferlets >>>

PATCH added on 880729 at 1600 by SDW.ZR7263.
     Starts at dsozw7 and is 6x bytes long
	Continues at PATCH1+3BA and is 1Cx bytes long
<<< Fix problem with Zap With Reason which leads to a 7263 crash >>>

PATCH added on 880930 at 115 by sdw.NI cmd.
     Starts at XNID+10 and is 6x bytes long
	Continues at qrychn-6 and is 6x bytes long

>>>> ERROR  **** PATCH1 area overflow <<<<

>>>> Expand P1SIZE beyond 4D6x and reassemble. <<<<
>>>> NOTE: P1SIZE is a Tymfile equate.  example:  P1SIZE EQ $0 0C00 <<<<



;    ? 
Create the Engine code that runs in Slot 1 from NDxxxx.T01

Undefined opcode   ?
R (SYS)NAD

Undefined opcode   ?
;X   ND4725.C01

;;      EBUS INTERFACE COMMAND FILE - SYSTEM #: 56  
;@   (SOURCE)EBUS02.I00

***Undefined symbols
XNID30 XNID20 
End of assembly
;@   ND4725.T01

***Undefined symbols
XNID30 XNID20 
End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SYMBOL SEG4 IS NOT DEFINED PROPERLY. VALUE IS 27C10
SYMBOL SEG5 IS NOT DEFINED PROPERLY. VALUE IS 27DC4
SYMBOL SEG6 IS NOT DEFINED PROPERLY. VALUE IS 27DC4
SYMBOL SEG0B IS NOT DEFINED PROPERLY. VALUE IS 28DC4
SYMBOL SEG0C IS NOT DEFINED PROPERLY. VALUE IS 28FC8
START.LIB **MUST** be assembled FIRST!!

SEG 2 SIZE = 1100

RING 0A0000 1C840 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
***0   FAIL
        UPSW    TRBOFF          :TRACE BIT OFF AND CONTINUE
                                A
A   Operand out of range
***0   FAIL0
	LHL	R0,FGNDFL	:DID FOREGROUND CAUSE THE CRASH?
	  	         	 A
A   Operand out of range
***0   CRASH
        UPSW    TRCOFF          :TRACE BIT OFF AND CONTINUE
                                A
A   Operand out of range
***0   CRASH0
        L       R1,CRAT+CRXREG,R2 :GET CONTENTS OF REGISTER
                                  A
A   Operand out of range
***0   ENTRY1
	STH	R0,FGNDFL	:SET THE FOREGROUND FLAG
	  	         	 A
A   Operand out of range
***0   ENTRY2
	STH	R0,FGNDFL	:CLEAR THE FOREGROUND FLAG
	  	         	 A
A   Operand out of range
***0   ENTRY2
        UPSW    PSWSAV          :INITIALIZE WITH RESTORED PSW
                                A
A   Operand out of range
***0   PUSHIT
PUSHIT  LM      R6,CRAT,R1      :PUSH DOWN THE CRASH TABLE
                                A
A   Operand out of range
***0   PUSHIT
        STM     R6,CRAT+CRTLEN,R1
                                 A
A   Operand out of range
***0   PUSHIT
        LM      R6,CRAT+CRTLEN/2,R1
                                   A
A   Operand out of range
***0   PUSHIT
        STM     R6,CRAT+CRTLEN+CRTLEN/2,R1
                                          A
A   Operand out of range
CRASH 1C840 1CA3E
***0   DS.ERR
	 JBS	BITCH;	 NOPR	0			: ^W...Ignore
	   	      A
A   Operand out of range
***0   DS.ERR
	  JBS	BITCH;	  NOPR	0			: ^A...Ignore
	    	      A
A   Operand out of range
***0   DS.ERR
	JNBS	BITCH
	   	      A
A   Operand out of range
STATUS 1CA3E 1CC76
***0   START
	LA	R0,SYNC			: SYNC address
	 	       			 A
A   Operand out of range
***0   START
	ST	R0,STCRA		: initialize Status area
	 	        		 A
A   Operand out of range
***0   START
	ST	R0,STATIM		: 
	 	         		 A
A   Operand out of range
***0   START
	ST	R0,SSRCRA		: 
	 	         		 A
A   Operand out of range
***0   START
	ST	R0,SSRTIM		: 
	 	         		 A
A   Operand out of range
***0   START
	LA	R2,STAREA		: set address of status area
	 	         		 A
A   Operand out of range
***0   START
	ST	R0,BITS
	 	        A
A   Operand out of range
***0   START
	ST	R0,XBITS		: slot speedometer
	 	        		 A
A   Operand out of range
***0   MAIN
MAIN	L	R2,XBITS		: our speedometer
   	 	        		 A
A   Operand out of range
***0   MAIN
	ST	R2,XBITS
	 	         A
A   Operand out of range
***0   MAIN1
MAIN1	LH	R1,SYNC			: get a value
    	  	       			 A
A   Operand out of range
***0   MAIN1
	TS	SYNC			: indicate to EBUS we've run again
	 	    			 A
A   Operand out of range
***0   MAIN1
	L	R0,BITS			: use value to shuffle bits
		       			 A
A   Operand out of range
***0   MAIN1
	ST	R0,BITS
	 	        A
A   Operand out of range
***0   MAIN1
	LB	R1,HSTAT
	 	         A
A   Operand out of range
***0   MAIN1
	LHL	R0,HPARAM		: ...other second, show host parameters
	  	         		 A
A   Operand out of range
***0   MAIN2
MAIN2	STH	R0,FPANEL		: update front-panel
    	   	         		 A
A   Operand out of range
***0   MAIN2
	L	R1,STCRA		: Any IPI MSG?
		        		 A
A   Operand out of range
***0   MAIN2
	L	R1,SSRCRA		: SSR Crash?
		         		 A
A   Operand out of range
***0   SVCCRA
SVCCRA	ST	R0,CRATYP
     	  	          A
A   Operand out of range
EBUS 1CC76 1D32C
DEFAULT AREA PROTECTIONS ASSUMED.

"SEG4" has been redefined
"SEG5" has been redefined
"SEG6" has been redefined
"SEG0B" has been redefined
"SEG0C" has been redefined
Segment 0- overflow, exceeded by 49792d bytes

Segment 4- overflow, exceeded by 99312d bytes

Segment 5- overflow, exceeded by 164412d bytes

Segment 6- overflow, exceeded by 229948d bytes

Segment 0B- overflow, exceeded by 487996d bytes

Segment 0C- overflow, exceeded by 553016d bytes

SEGMENT E IS RESERVED FOR CTA. REMOVE OTHER ALLOCATIONS.


SEGMENT 0-length 115328d, requires 1C300x bytes of core.
SEGMENT 1-length 54060d, requires 0D400x bytes of core.
SEGMENT 2-length 59060d, requires 0E700x bytes of core.
SEGMENT 3-length 65536d, requires 10000x bytes of core.
SEGMENT 4-length 164848d, requires 28400x bytes of core.
SEGMENT 5-length 229948d, requires 38300x bytes of core.
SEGMENT 6-length 295484d, requires 48300x bytes of core.
SEGMENT 0A-length 244d, requires 100x bytes of core.
SEGMENT 0B-length 553532d, requires 87300x bytes of core.
SEGMENT 0C-length 618552d, requires 97100x bytes of core.
SEGMENT 0D-length 24100d, requires 5F00x bytes of core.
SEGMENT 0E-length 720d, requires 300x bytes of core.
       2132d K-bytes of core
***Undefined symbols
PORTS HOSTS COREST XNID30 SLOTNO VERREV XNID20 
End of assembly
1;F   ND4725.N01
*** Undefined symbols, memory image not guaranteed

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!
!; Build BND file.  Note that the 68K code is the same in all bases.
!R (SYS)MERLIN
MERGE AND LINK ISIS SLOTS
VERSION  2.10
* ND4725.BND=ND4725.NIB,ND4725.N00,ND4725.N01,(EBUS)EBUS02.O02/S




         SLOT MAP

SLOT BEGINS ENDS
 0   16400  6DBFF
 1   6DC00  B03FF
 2   B0400  C93FF

? FILE DSK:ND4725.N00 ON DEVICE DSK (0) WAS NOT FOUND
LAST FORTRAN I-O AT USER LOC 001670
EXIT

!
!;The NIB files are not needed and can be deleted.
!DELETE ND4725.NIB,ND4725.N00,ND4725.N01

Files "deleted":
ND4725  N01   9-NOV-89 2049    ALL RD  NO     63488          
ND4725  NIB   9-NOV-89 2045    ALL RD  NO     20608          

!R (SYS)CKSUM
INPUT: ND4725.*
ROWSID ND4725.TYM
ZOMQUP ND4725.BND
FAXBET ND4725.LOG
DUKLEH ND4725.BAK
JUJNEV ND4725.C01
GEJBUH ND4725.CMD
QITRAR ND4725.C00
HUTPOR ND4725.T01
INPUT: 

!DIRECT ND4725.BND

ND4725  BND      69  22-AUG-88 2043    ALL RD  NO     34816          

!LOGOUT
1504.63 tru
terminal time: 0:08:42

[Job (EBUS)EBUS.CTL completed]
[Output recorded in file (EBUS)ND4725.LOG]
!PCOM ND5577.LOG=EBUS ND5577/LOG
!SYSNO
TYMSHARE F33-P035/E 3-2-89
!DAYTIME
9-NOV-1989 20:50:59 PST

!; This CTL file rebuilds the BND file for an EBUS base from scratch.
!; The following files must exist:
!DIRECT (EBUS)EBUS02.O02

EBUS02  O02       9   9-MAY-88 1336    ALL RD  NO      4096          

!DIRECT ND5577.TYM,ND5577.T01,ND5577.CMD,ND5577.C00,ND5577.C01

ND5577  T01       2   9-NOV-89 1801    ALL RD  NO        53          
ND5577  C01       2   9-FEB-89 1434    ALL RD  NO        37          
ND5577  C00       2  26-AUG-88 1859    ALL RD  NO        42          
ND5577  CMD       2  26-AUG-88 1856    ALL RD  NO        43          
ND5577  TYM       3  22-AUG-88 1732    ALL RD  NO       672          

!DIRECT ISXRAY.GGY,GOODGY.NQA

GOODGY  NQA       2  14-NOV-88  906    ALL RD  NO       362          
ISXRAY  GGY       2   2-JUL-87 1305    ALL RD  NO       128          

!
!; Create the ISIS Kernel from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND5577.CMD

;; ISIS-II Version 7.03 Sample Command File
;@   (SOURCE)I2IS07.I03

End of assembly
;@   ND5577.TYM

End of assembly
;@   (TYMNET)GOODGY.NQA

End of assembly
;@   (SOURCE)I2IS07.R03

SYNC specified but not assigned...(warning only, no change)
SYNC 1BD6 2442
CLOCKS 2442 2582
MBOARD 2582 26E8
IPI 26E8 2946
FLASH 2946 2DE6
KCAREA 2DE6 2FDC
TTY 2FDC 3300
KERNEL 3300 7B7C
DDT 7B7C 0AB00
   3273d bufferlets allocated to dispatcher
DISPAT 0AB00 16400
.............................................



    ***  ISIS-II  ***
      Version 7.3d

TYMNET-II Node 5577, Kernel Host 7916
Maximum slot number is 2

       >>> HARDWARE CONFIGURATION <<<

Expects enhanced sync microcode
Expects enhanced async microcode
Expects MAC II
Expects maximum baud rate of 1200
Expects 1 sync board(s)
Expects 1 SIO mother-board processor(s)
   Board 0 has 2 channel(s), device address 80
Expects 1 IPI processor(s)
   IPI device 0 has device address 88

       >>> SLOT CONFIGURATIONS <<<

SLOT 0, NODE CODE, has 350 K-bytes of core, from 16400 to 6DBFF
   2 logical unit(s)
   L.U. 0 is M.Board channel 0
   L.U. 1 is M.Board channel 1

SLOT 1 has 266 K-bytes of core, from 6DC00 to 0B03FF
   1 logical unit(s)
   L.U. 0 is M.Board channel 0

SLOT 2 has 100 K-bytes of core, from 0B0400 to 0C93FF
   no logical units

***Highest location used in this configuration is 0C9400

Requires 809d k-bytes of core


.............................................


Code Generated:  11/10/89  04:53:03 GMT

.............................................

End of assembly
;X   (SOURCE)I2IS07.P03

;; ISIS-II Version 7.03 Patch File

;@   (SOURCE)I2IS07.Q03

ISIS 7.03 PATCH 1
  Fixes reversed CTS and DSR on HDLC micro.

ISIS 7.03 PATCH 2
  This patch is superseded by patch 4.

ISIS 7.03 PATCH 3
  Causes ISIS to read memory error log before crashing.

ISIS 7.03 PATCH 4
  Refreshes CPU and MAC registers to avoid degradation.
  (Updated version of patch 2)

ISIS 7.03 PATCH 5
  Correctly initializes registers for checking newlog bit array

ISIS 7.03 PATCH 6
  Wraps around accounting char counts when count exceeds 28 bits

ISIS 7.03 PATCH 7
Patch to prevent disk from doing retries on a 
controller errror

ISIS 7.03 PATCH 8
  Corrects initialization order of Emulated Sync.
  Also it allows window for interrupts to be flushed
  during initialization.

ISIS 7.03 PATCH 9
have DCSLOT free channels for ports in time-out
or clean-up

ISIS 7.03 PATCH 10
Have KRASHI report crashes to dispatcher
and pause slot for 4 seconds

ISIS 7.03 PATCH 11
Keep DDT Mask command from crashing machine

ISIS 7.03 PATCH 12
Have restart SVC disable watch-frog timer

ISIS 7.03 PATCH 13
Crash ISIS on DMA parity error

ISIS 7.03 PATCH 14 
 CLEAR DHANG ON SYSTEM CRASH 

ISIS 7.03 PATCH 15 
THIS PATCH IS USED TO CORRECT  A TID RECOGNITION5 
FOR 300 BAUD WHEN USING HIGH SPEED INTERRUPTS.

ISIS 7.03 PATCH 16 
ISIS VERSION GREATER 6 ALLOWS WRITING PAST SEGMENT 
BOUNDARIES WITHOUT PROTECTION.  CHANGES MADE FOR  
MULTIMEG SUPPORT INDUCED THIS PROBLEM.  THIS PATCH 
PROTECTS ISIS FROM OVER WRITING BOUNDARIES. 
See NSR 1772 

ISIS 7.03 PATCH 17
This patch fixes timing problems associated
with the initialization of HDLC micro-engine
channels that are emulation TYMNET sync.

End of assembly


1;F   ND5577.NIB

70;T
0,SUMTBL;P
INTLEN,IEND-INTLEN;P
%P
SEGF,SFSIZE;P
%Q
EXIT

!
!; Create the node code for slot 0 from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND5577.C00

;; UPDATED 88/05/18 ND5577 ISIS-II T-II JOE SMITH
;A   (SOURCE)TII05.I22

End of assembly
;A   ND5577.TYM

End of assembly
;A   (TYMNET)ISXRAY.GGY

End of assembly
;A   (SOURCE)TII05.R22

End of assembly
;A   (SOURCE)TII05.F22


TYMNET-II Node Code, Version 5.22, ISIS Node

Node: 5577  Kernel Host: 7916

Ports:		Lines:		Links:
   128d Pthru	     0d Sync	     2d TIILNK
     3d Xray	     2d SIO	     0d XLNK
		     2d Total	     2d Total
   256d Disp
     3d Krnl

Maximum number of circuits =  431d 


Bufferlet storage space:

  5E48x bytes (  24d KB) for  431d circuit buffers ( 56d bytes per circuit)
 22652x bytes ( 138d KB) for  271d history buffers (519d bytes per termination)
 2849Ax bytes ( 162d KB) for  431d total circuits  (382d bytes per circuit)


Memory used by this configuration = 57800x, 350d KB.

Optimal amount of memory for this configuration =   227d  KB.

End of assembly
;A   (SOURCE)TII05.P22


       NETID is 1d.  This is a TYMNET network node.




PATCH added on 870811 at 0900 by JLADEN.
     Starts at ATTLI0+20 and is 10x bytes long
<<< FIX RESET VERSION COMPATIBILTY PROBLEM >>>

PATCH added on 870907 at 0138 by SDW.
     Starts at RTBFA2+4 and is 6x bytes long
<<< PATCH TO FIX REGISTER USAGE BY IMPROVED REBUILD ROUTINE >>>

PATCH added on 870211 at 1800 by SDW.
     Starts at HSTDI4+0C and is 4x bytes long
<<< Patch to have XRAY HS U command display up hosts that have no ports >>>

PATCH added on 880121 at 1301 by sdw.RESET1.
     Starts at ATTL05-8 and is 6x bytes long
	Continues at PATCH1+0 and is 5Cx bytes long
<<< Make old style reset packet always have old style reset data >>>

PATCH added on 880829 at 1400 by sdw.RESET2.
     Starts at ATTLIN+8 and is 6x bytes long
	Continues at PATCH1+5C and is 54x bytes long
<<< Handle neighbor switching between old and expanded resets >>>

PATCH added on 880126 at 1756 by sdw.RES4M1.
     Starts at G04MIN and is 6x bytes long
	Continues at PATCH0+0 and is 0Ex bytes long
	Continues at PATCH1+96 and is 0D8x bytes long
<<< Send a old style reset every four minutes to help lines to come up >>>

PATCH added on 880126 at 1845 by sdw.RES4M2.
     Starts at G01SE3 and is 6x bytes long
	Continues at PATCH1+16E and is 8Ax bytes long
<<< Part 2 of patch to occasionally send old style resets. >>>

PATCH added on 880218 at 1600 by sdw.SIOCHN.
     Starts at siopt4+8 and is 2x bytes long
<<< Allow SIO to send more than 40 packets per second >>>

PATCH added on 880218 at 2330 by sdw.SIORSPC.
     Starts at SIORS and is 10x bytes long
	Continues at SIORR and is 6x bytes long
	Continues at PATCH0+12 and is 4x bytes long
	Continues at PATCH1+1F8 and is 28x bytes long
<<< Part 1 of patch to send only 1 SIO reset per second >>>

PATCH added on 880218 at 2356 by sdw.SIORSP2.
     Starts at G01PER and is 6x bytes long
	Continues at PATCH1+21E and is 1Ex bytes long
<<< Part 2 of patch to send only 1 SIO reset per second >>>

PATCH added on 880306 at 109 by sdw.FIX DB.
     Starts at DBEGIN and is 6x bytes long
	Continues at PATCH1+23C and is 1Cx bytes long
<<< Disable DB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 123 by sdw.FIX WB.
     Starts at XWRBUF and is 6x bytes long
	Continues at PATCH1+258 and is 30x bytes long
	Continues at xwrbuf+6 and is 12x bytes long
<<< Disable WB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 134 by sdw.REMZAP.
     Starts at REMZA6+2 and is 6x bytes long
	Continues at PATCH1+27A and is 10x bytes long
<<< Fix potential crash when Xray user zaps before clearing delay circuits >>>

PATCH added on 880307 at 0934 by sdw.NETIDBG.
     Starts at ATTNID and is 12x bytes long
	Continues at PATCH0+16 and is 8x bytes long
<<< Do not put neighbor with bad NETID on node's bad guy list >>>

PATCH added on 880317 at 1523 by sdw.XRAYIN.
     Starts at XRYIN7 and is 4x bytes long
<<< Fix local XRAY to have a dismiss when waiting for character >>>

PATCH added on 880408 at 1500 by SLN.FNDLNK.
     Starts at CRQZOG+6 and is 0Ex bytes long
	Continues at LEP9V2-20 and is 0Ex bytes long
	Continues at PATCH1+28A and is 4Cx bytes long
<<< Fix crash 0007 from Qexec corruption >>>

PATCH added on 880410 at 1525 by sdw.ATT.R2.
     Starts at ATTLDW and is 6x bytes long
	Continues at PATCH1+2D6 and is 14x bytes long
<<< Fix crash in line attach logic due to corrupted register >>>

PATCH added on 880405 at 2334 by sdw.WSZDWN.
     Starts at MCHD04+4 and is 6x bytes long
	Continues at TRLINZ and is 6x bytes long
	Continues at PATCH1+2EA and is 66x bytes long
	Continues at PATCH0+1E and is 10x bytes long
<<< Fix windowsize matchdown to restore to original when link goes down >>>

PATCH added on 880425 at 1713 by sdw.HSecNS.
     Starts at XSTMS0 and is 4Cx bytes long
<<< Fix NS to show proper time spent in H-SEC process >>>

PATCH added on 880426 at 2214 by sdw.KDCMTS.
     Starts at XNEI7B and is 6x bytes long
	Continues at PATCH1+350 and is 1Ax bytes long
<<< Fix Xray KD command to correctly count number of command circuits >>>

PATCH added on 880408 at 1000 by pk.siocopy.
     Starts at sioi5+8 and is 36x bytes long
<<< Remove SIO input problems with foreground/background collisions >>>

PATCH added on 880628 at 1500 by sdw.SIOCH2.
     Starts at siosnd-4 and is 4x bytes long
	Continues at sion4-6 and is 6x bytes long
	Continues at PATCH1+36A and is 12x bytes long
<<< Correct logic which flagged an unloaded line as saturated >>>

PATCH added on 880623 at 1330 by sdw.OOPS.
     Starts at SFAIL-0a and is 6x bytes long
	Continues at PATCH1+37C and is 10x bytes long
<<< Save R0 and R1 when doing software crashes >>>

PATCH added on 880706 at 1301 by CMR.XRDBRM.
     Starts at DBEGI8 and is 6x bytes long
	Continues at PATCH1+38C and is 20x bytes long
<<< Reset INTXRF flag when entering 'DB' command >>>

PATCH added on 880725 at 1500 by sdw.DBFILL.
     Starts at DBEGI5 and is 6x bytes long
	Continues at PATCH1+39C and is 1Ex bytes long
<<< Prevent crash caused by delay circuits using all bufferlets >>>

PATCH added on 880729 at 1600 by SDW.ZR7263.
     Starts at dsozw7 and is 6x bytes long
	Continues at PATCH1+3BA and is 1Cx bytes long
<<< Fix problem with Zap With Reason which leads to a 7263 crash >>>

PATCH added on 880930 at 115 by sdw.NI cmd.
     Starts at XNID+10 and is 6x bytes long
	Continues at qrychn-6 and is 6x bytes long

>>>> ERROR  **** PATCH1 area overflow <<<<

>>>> Expand P1SIZE beyond 4D6x and reassemble. <<<<
>>>> NOTE: P1SIZE is a Tymfile equate.  example:  P1SIZE EQ $0 0C00 <<<<



;    ? 
Create the Engine code that runs in Slot 1 from NDxxxx.T01

Undefined opcode   ?
R (SYS)NAD

Undefined opcode   ?
;X   ND5577.C01

;;      EBUS INTERFACE COMMAND FILE - SYSTEM #: 34
;@   (SOURCE)EBUS02.I00

***Undefined symbols
XNID30 XNID20 
End of assembly
;@   ND5577.T01

***Undefined symbols
XNID30 XNID20 
End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SYMBOL SEG4 IS NOT DEFINED PROPERLY. VALUE IS 27C10
SYMBOL SEG5 IS NOT DEFINED PROPERLY. VALUE IS 27DC4
SYMBOL SEG6 IS NOT DEFINED PROPERLY. VALUE IS 27DC4
SYMBOL SEG0B IS NOT DEFINED PROPERLY. VALUE IS 28DC4
SYMBOL SEG0C IS NOT DEFINED PROPERLY. VALUE IS 28FC8
START.LIB **MUST** be assembled FIRST!!

SEG 2 SIZE = 1100

RING 0A0000 1C840 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
***0   FAIL
        UPSW    TRBOFF          :TRACE BIT OFF AND CONTINUE
                                A
A   Operand out of range
***0   FAIL0
	LHL	R0,FGNDFL	:DID FOREGROUND CAUSE THE CRASH?
	  	         	 A
A   Operand out of range
***0   CRASH
        UPSW    TRCOFF          :TRACE BIT OFF AND CONTINUE
                                A
A   Operand out of range
***0   CRASH0
        L       R1,CRAT+CRXREG,R2 :GET CONTENTS OF REGISTER
                                  A
A   Operand out of range
***0   ENTRY1
	STH	R0,FGNDFL	:SET THE FOREGROUND FLAG
	  	         	 A
A   Operand out of range
***0   ENTRY2
	STH	R0,FGNDFL	:CLEAR THE FOREGROUND FLAG
	  	         	 A
A   Operand out of range
***0   ENTRY2
        UPSW    PSWSAV          :INITIALIZE WITH RESTORED PSW
                                A
A   Operand out of range
***0   PUSHIT
PUSHIT  LM      R6,CRAT,R1      :PUSH DOWN THE CRASH TABLE
                                A
A   Operand out of range
***0   PUSHIT
        STM     R6,CRAT+CRTLEN,R1
                                 A
A   Operand out of range
***0   PUSHIT
        LM      R6,CRAT+CRTLEN/2,R1
                                   A
A   Operand out of range
***0   PUSHIT
        STM     R6,CRAT+CRTLEN+CRTLEN/2,R1
                                          A
A   Operand out of range
CRASH 1C840 1CA3E
***0   DS.ERR
	 JBS	BITCH;	 NOPR	0			: ^W...Ignore
	   	      A
A   Operand out of range
***0   DS.ERR
	  JBS	BITCH;	  NOPR	0			: ^A...Ignore
	    	      A
A   Operand out of range
***0   DS.ERR
	JNBS	BITCH
	   	      A
A   Operand out of range
STATUS 1CA3E 1CC76
***0   START
	LA	R0,SYNC			: SYNC address
	 	       			 A
A   Operand out of range
***0   START
	ST	R0,STCRA		: initialize Status area
	 	        		 A
A   Operand out of range
***0   START
	ST	R0,STATIM		: 
	 	         		 A
A   Operand out of range
***0   START
	ST	R0,SSRCRA		: 
	 	         		 A
A   Operand out of range
***0   START
	ST	R0,SSRTIM		: 
	 	         		 A
A   Operand out of range
***0   START
	LA	R2,STAREA		: set address of status area
	 	         		 A
A   Operand out of range
***0   START
	ST	R0,BITS
	 	        A
A   Operand out of range
***0   START
	ST	R0,XBITS		: slot speedometer
	 	        		 A
A   Operand out of range
***0   MAIN
MAIN	L	R2,XBITS		: our speedometer
   	 	        		 A
A   Operand out of range
***0   MAIN
	ST	R2,XBITS
	 	         A
A   Operand out of range
***0   MAIN1
MAIN1	LH	R1,SYNC			: get a value
    	  	       			 A
A   Operand out of range
***0   MAIN1
	TS	SYNC			: indicate to EBUS we've run again
	 	    			 A
A   Operand out of range
***0   MAIN1
	L	R0,BITS			: use value to shuffle bits
		       			 A
A   Operand out of range
***0   MAIN1
	ST	R0,BITS
	 	        A
A   Operand out of range
***0   MAIN1
	LB	R1,HSTAT
	 	         A
A   Operand out of range
***0   MAIN1
	LHL	R0,HPARAM		: ...other second, show host parameters
	  	         		 A
A   Operand out of range
***0   MAIN2
MAIN2	STH	R0,FPANEL		: update front-panel
    	   	         		 A
A   Operand out of range
***0   MAIN2
	L	R1,STCRA		: Any IPI MSG?
		        		 A
A   Operand out of range
***0   MAIN2
	L	R1,SSRCRA		: SSR Crash?
		         		 A
A   Operand out of range
***0   SVCCRA
SVCCRA	ST	R0,CRATYP
     	  	          A
A   Operand out of range
EBUS 1CC76 1D32C
DEFAULT AREA PROTECTIONS ASSUMED.

"SEG4" has been redefined
"SEG5" has been redefined
"SEG6" has been redefined
"SEG0B" has been redefined
"SEG0C" has been redefined
Segment 0- overflow, exceeded by 49792d bytes

Segment 4- overflow, exceeded by 99312d bytes

Segment 5- overflow, exceeded by 164412d bytes

Segment 6- overflow, exceeded by 229948d bytes

Segment 0B- overflow, exceeded by 487996d bytes

Segment 0C- overflow, exceeded by 553016d bytes

SEGMENT E IS RESERVED FOR CTA. REMOVE OTHER ALLOCATIONS.


SEGMENT 0-length 115328d, requires 1C300x bytes of core.
SEGMENT 1-length 54060d, requires 0D400x bytes of core.
SEGMENT 2-length 59060d, requires 0E700x bytes of core.
SEGMENT 3-length 65536d, requires 10000x bytes of core.
SEGMENT 4-length 164848d, requires 28400x bytes of core.
SEGMENT 5-length 229948d, requires 38300x bytes of core.
SEGMENT 6-length 295484d, requires 48300x bytes of core.
SEGMENT 0A-length 244d, requires 100x bytes of core.
SEGMENT 0B-length 553532d, requires 87300x bytes of core.
SEGMENT 0C-length 618552d, requires 97100x bytes of core.
SEGMENT 0D-length 24100d, requires 5F00x bytes of core.
SEGMENT 0E-length 720d, requires 300x bytes of core.
       2132d K-bytes of core
***Undefined symbols
PORTS HOSTS COREST XNID30 SLOTNO VERREV XNID20 
End of assembly
1;F   ND5577.N01
*** Undefined symbols, memory image not guaranteed

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!
!; Build BND file.  Note that the 68K code is the same in all bases.
!R (SYS)MERLIN
MERGE AND LINK ISIS SLOTS
VERSION  2.10
* ND5577.BND=ND5577.NIB,ND5577.N00,ND5577.N01,(EBUS)EBUS02.O02/S




         SLOT MAP

SLOT BEGINS ENDS
 0   16400  6DBFF
 1   6DC00  B03FF
 2   B0400  C93FF

? FILE DSK:ND5577.N00 ON DEVICE DSK (0) WAS NOT FOUND
LAST FORTRAN I-O AT USER LOC 001670
EXIT

!
!;The NIB files are not needed and can be deleted.
!DELETE ND5577.NIB,ND5577.N00,ND5577.N01

Files "deleted":
ND5577  N01   9-NOV-89 2057    ALL RD  NO     63488          
ND5577  NIB   9-NOV-89 2054    ALL RD  NO     20608          

!R (SYS)CKSUM
INPUT: ND5577.*
QUTTIC ND5577.TYM
XEDWEV ND5577.BND
COLHUB ND5577.LOG
DETLAZ ND5577.CMD
CAVBIH ND5577.C00
KOMCUN ND5577.C01
DAQTAS ND5577.BAK
GASVIQ ND5577.T01
INPUT: 

!DIRECT ND5577.BND

ND5577  BND      69  22-AUG-88 2057    ALL RD  NO     34816          

!LOGOUT
1501.98 tru
terminal time: 0:08:00

[Job (EBUS)EBUS.CTL completed]
[Output recorded in file (EBUS)ND5577.LOG]
!PCOM ND6415.LOG=EBUS ND6415/LOG
!SYSNO
TYMSHARE F33-P035/E 3-2-89
!DAYTIME
9-NOV-1989 20:59:02 PST

!; This CTL file rebuilds the BND file for an EBUS base from scratch.
!; The following files must exist:
!DIRECT (EBUS)EBUS02.O02

EBUS02  O02       9   9-MAY-88 1336    ALL RD  NO      4096          

!DIRECT ND6415.TYM,ND6415.T01,ND6415.CMD,ND6415.C00,ND6415.C01

ND6415  T01       2   9-NOV-89 1801    ALL RD  NO        53          
ND6415  TYM       3   9-NOV-89 1715    ALL RD  NO       755          
ND6415  C00       2  26-AUG-88 1859    ALL RD  NO        42          
ND6415  CMD       2  26-AUG-88 1856    ALL RD  NO        43          
ND6415  C01       2  24-AUG-88 1719    ALL RD  NO        37          

!DIRECT ISXRAY.GGY,GOODGY.NQA

GOODGY  NQA       2  14-NOV-88  906    ALL RD  NO       362          
ISXRAY  GGY       2   2-JUL-87 1305    ALL RD  NO       128          

!
!; Create the ISIS Kernel from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND6415.CMD

;; ISIS-II Version 7.03 Sample Command File
;@   (SOURCE)I2IS07.I03

End of assembly
;@   ND6415.TYM

End of assembly
;@   (TYMNET)GOODGY.NQA

End of assembly
;@   (SOURCE)I2IS07.R03

SYNC specified but not assigned...(warning only, no change)
SYNC 1BD6 2442
CLOCKS 2442 2582
MBOARD 2582 26E8
IPI 26E8 2946
FLASH 2946 2DE6
KCAREA 2DE6 2FDC
TTY 2FDC 3300
KERNEL 3300 7B7C
DDT 7B7C 0AB00
   3273d bufferlets allocated to dispatcher
DISPAT 0AB00 16400
.............................................



    ***  ISIS-II  ***
      Version 7.3d

TYMNET-II Node 6415, Kernel Host 4399
Maximum slot number is 2

       >>> HARDWARE CONFIGURATION <<<

Expects enhanced sync microcode
Expects enhanced async microcode
Expects MAC II
Expects maximum baud rate of 1200
Expects 1 sync board(s)
Expects 1 SIO mother-board processor(s)
   Board 0 has 2 channel(s), device address 80
Expects 1 IPI processor(s)
   IPI device 0 has device address 88

       >>> SLOT CONFIGURATIONS <<<

SLOT 0, NODE CODE, has 350 K-bytes of core, from 16400 to 6DBFF
   2 logical unit(s)
   L.U. 0 is M.Board channel 0
   L.U. 1 is M.Board channel 1

SLOT 1 has 266 K-bytes of core, from 6DC00 to 0B03FF
   1 logical unit(s)
   L.U. 0 is M.Board channel 0

SLOT 2 has 100 K-bytes of core, from 0B0400 to 0C93FF
   no logical units

***Highest location used in this configuration is 0C9400

Requires 809d k-bytes of core


.............................................


Code Generated:  11/10/89  05:01:07 GMT

.............................................

End of assembly
;X   (SOURCE)I2IS07.P03

;; ISIS-II Version 7.03 Patch File

;@   (SOURCE)I2IS07.Q03

ISIS 7.03 PATCH 1
  Fixes reversed CTS and DSR on HDLC micro.

ISIS 7.03 PATCH 2
  This patch is superseded by patch 4.

ISIS 7.03 PATCH 3
  Causes ISIS to read memory error log before crashing.

ISIS 7.03 PATCH 4
  Refreshes CPU and MAC registers to avoid degradation.
  (Updated version of patch 2)

ISIS 7.03 PATCH 5
  Correctly initializes registers for checking newlog bit array

ISIS 7.03 PATCH 6
  Wraps around accounting char counts when count exceeds 28 bits

ISIS 7.03 PATCH 7
Patch to prevent disk from doing retries on a 
controller errror

ISIS 7.03 PATCH 8
  Corrects initialization order of Emulated Sync.
  Also it allows window for interrupts to be flushed
  during initialization.

ISIS 7.03 PATCH 9
have DCSLOT free channels for ports in time-out
or clean-up

ISIS 7.03 PATCH 10
Have KRASHI report crashes to dispatcher
and pause slot for 4 seconds

ISIS 7.03 PATCH 11
Keep DDT Mask command from crashing machine

ISIS 7.03 PATCH 12
Have restart SVC disable watch-frog timer

ISIS 7.03 PATCH 13
Crash ISIS on DMA parity error

ISIS 7.03 PATCH 14 
 CLEAR DHANG ON SYSTEM CRASH 

ISIS 7.03 PATCH 15 
THIS PATCH IS USED TO CORRECT  A TID RECOGNITION5 
FOR 300 BAUD WHEN USING HIGH SPEED INTERRUPTS.

ISIS 7.03 PATCH 16 
ISIS VERSION GREATER 6 ALLOWS WRITING PAST SEGMENT 
BOUNDARIES WITHOUT PROTECTION.  CHANGES MADE FOR  
MULTIMEG SUPPORT INDUCED THIS PROBLEM.  THIS PATCH 
PROTECTS ISIS FROM OVER WRITING BOUNDARIES. 
See NSR 1772 

ISIS 7.03 PATCH 17
This patch fixes timing problems associated
with the initialization of HDLC micro-engine
channels that are emulation TYMNET sync.

End of assembly


1;F   ND6415.NIB

70;T
0,SUMTBL;P
INTLEN,IEND-INTLEN;P
%P
SEGF,SFSIZE;P
%Q
EXIT

!
!; Create the node code for slot 0 from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND6415.C00

;; UPDATED 88/05/18 ND6415 ISIS-II T-II JOE SMITH
;A   (SOURCE)TII05.I22

End of assembly
;A   ND6415.TYM

End of assembly
;A   (TYMNET)ISXRAY.GGY

End of assembly
;A   (SOURCE)TII05.R22

End of assembly
;A   (SOURCE)TII05.F22


TYMNET-II Node Code, Version 5.22, ISIS Node

Node: 6415  Kernel Host: 4399

Ports:		Lines:		Links:
   128d Pthru	     0d Sync	     2d TIILNK
     3d Xray	     2d SIO	     0d XLNK
		     2d Total	     2d Total
   256d Disp
     3d Krnl

Maximum number of circuits =  431d 


Bufferlet storage space:

  5E48x bytes (  24d KB) for  431d circuit buffers ( 56d bytes per circuit)
 22112x bytes ( 137d KB) for  271d history buffers (514d bytes per termination)
 27F5Ax bytes ( 160d KB) for  431d total circuits  (379d bytes per circuit)


Memory used by this configuration = 57800x, 350d KB.

Optimal amount of memory for this configuration =   229d  KB.

End of assembly
;A   (SOURCE)TII05.P22


       NETID is 1d.  This is a TYMNET network node.




PATCH added on 870811 at 0900 by JLADEN.
     Starts at ATTLI0+20 and is 10x bytes long
<<< FIX RESET VERSION COMPATIBILTY PROBLEM >>>

PATCH added on 870907 at 0138 by SDW.
     Starts at RTBFA2+4 and is 6x bytes long
<<< PATCH TO FIX REGISTER USAGE BY IMPROVED REBUILD ROUTINE >>>

PATCH added on 870211 at 1800 by SDW.
     Starts at HSTDI4+0C and is 4x bytes long
<<< Patch to have XRAY HS U command display up hosts that have no ports >>>

PATCH added on 880121 at 1301 by sdw.RESET1.
     Starts at ATTL05-8 and is 6x bytes long
	Continues at PATCH1+0 and is 5Cx bytes long
<<< Make old style reset packet always have old style reset data >>>

PATCH added on 880829 at 1400 by sdw.RESET2.
     Starts at ATTLIN+8 and is 6x bytes long
	Continues at PATCH1+5C and is 54x bytes long
<<< Handle neighbor switching between old and expanded resets >>>

PATCH added on 880126 at 1756 by sdw.RES4M1.
     Starts at G04MIN and is 6x bytes long
	Continues at PATCH0+0 and is 0Ex bytes long
	Continues at PATCH1+96 and is 0D8x bytes long
<<< Send a old style reset every four minutes to help lines to come up >>>

PATCH added on 880126 at 1845 by sdw.RES4M2.
     Starts at G01SE3 and is 6x bytes long
	Continues at PATCH1+16E and is 8Ax bytes long
<<< Part 2 of patch to occasionally send old style resets. >>>

PATCH added on 880218 at 1600 by sdw.SIOCHN.
     Starts at siopt4+8 and is 2x bytes long
<<< Allow SIO to send more than 40 packets per second >>>

PATCH added on 880218 at 2330 by sdw.SIORSPC.
     Starts at SIORS and is 10x bytes long
	Continues at SIORR and is 6x bytes long
	Continues at PATCH0+12 and is 4x bytes long
	Continues at PATCH1+1F8 and is 28x bytes long
<<< Part 1 of patch to send only 1 SIO reset per second >>>

PATCH added on 880218 at 2356 by sdw.SIORSP2.
     Starts at G01PER and is 6x bytes long
	Continues at PATCH1+21E and is 1Ex bytes long
<<< Part 2 of patch to send only 1 SIO reset per second >>>

PATCH added on 880306 at 109 by sdw.FIX DB.
     Starts at DBEGIN and is 6x bytes long
	Continues at PATCH1+23C and is 1Cx bytes long
<<< Disable DB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 123 by sdw.FIX WB.
     Starts at XWRBUF and is 6x bytes long
	Continues at PATCH1+258 and is 30x bytes long
	Continues at xwrbuf+6 and is 12x bytes long
<<< Disable WB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 134 by sdw.REMZAP.
     Starts at REMZA6+2 and is 6x bytes long
	Continues at PATCH1+27A and is 10x bytes long
<<< Fix potential crash when Xray user zaps before clearing delay circuits >>>

PATCH added on 880307 at 0934 by sdw.NETIDBG.
     Starts at ATTNID and is 12x bytes long
	Continues at PATCH0+16 and is 8x bytes long
<<< Do not put neighbor with bad NETID on node's bad guy list >>>

PATCH added on 880317 at 1523 by sdw.XRAYIN.
     Starts at XRYIN7 and is 4x bytes long
<<< Fix local XRAY to have a dismiss when waiting for character >>>

PATCH added on 880408 at 1500 by SLN.FNDLNK.
     Starts at CRQZOG+6 and is 0Ex bytes long
	Continues at LEP9V2-20 and is 0Ex bytes long
	Continues at PATCH1+28A and is 4Cx bytes long
<<< Fix crash 0007 from Qexec corruption >>>

PATCH added on 880410 at 1525 by sdw.ATT.R2.
     Starts at ATTLDW and is 6x bytes long
	Continues at PATCH1+2D6 and is 14x bytes long
<<< Fix crash in line attach logic due to corrupted register >>>

PATCH added on 880405 at 2334 by sdw.WSZDWN.
     Starts at MCHD04+4 and is 6x bytes long
	Continues at TRLINZ and is 6x bytes long
	Continues at PATCH1+2EA and is 66x bytes long
	Continues at PATCH0+1E and is 10x bytes long
<<< Fix windowsize matchdown to restore to original when link goes down >>>

PATCH added on 880425 at 1713 by sdw.HSecNS.
     Starts at XSTMS0 and is 4Cx bytes long
<<< Fix NS to show proper time spent in H-SEC process >>>

PATCH added on 880426 at 2214 by sdw.KDCMTS.
     Starts at XNEI7B and is 6x bytes long
	Continues at PATCH1+350 and is 1Ax bytes long
<<< Fix Xray KD command to correctly count number of command circuits >>>

PATCH added on 880408 at 1000 by pk.siocopy.
     Starts at sioi5+8 and is 36x bytes long
<<< Remove SIO input problems with foreground/background collisions >>>

PATCH added on 880628 at 1500 by sdw.SIOCH2.
     Starts at siosnd-4 and is 4x bytes long
	Continues at sion4-6 and is 6x bytes long
	Continues at PATCH1+36A and is 12x bytes long
<<< Correct logic which flagged an unloaded line as saturated >>>

PATCH added on 880623 at 1330 by sdw.OOPS.
     Starts at SFAIL-0a and is 6x bytes long
	Continues at PATCH1+37C and is 10x bytes long
<<< Save R0 and R1 when doing software crashes >>>

PATCH added on 880706 at 1301 by CMR.XRDBRM.
     Starts at DBEGI8 and is 6x bytes long
	Continues at PATCH1+38C and is 20x bytes long
<<< Reset INTXRF flag when entering 'DB' command >>>

PATCH added on 880725 at 1500 by sdw.DBFILL.
     Starts at DBEGI5 and is 6x bytes long
	Continues at PATCH1+39C and is 1Ex bytes long
<<< Prevent crash caused by delay circuits using all bufferlets >>>

PATCH added on 880729 at 1600 by SDW.ZR7263.
     Starts at dsozw7 and is 6x bytes long
	Continues at PATCH1+3BA and is 1Cx bytes long
<<< Fix problem with Zap With Reason which leads to a 7263 crash >>>

PATCH added on 880930 at 115 by sdw.NI cmd.
     Starts at XNID+10 and is 6x bytes long
	Continues at qrychn-6 and is 6x bytes long
	Continues at PATCH1+3D6 and is 100x bytes long
<<< Change Xray NI command to also display the NETIDs for each line >>>

PATCH added on 881128 at 0113 by sdw.GETPWR.
     Starts at getpwr+18 and is 0Ex bytes long
<<< Fix Xray GP to work for all Node and Host numbers >>>

PATCH added on 890625 at 1645 by sdw.ExpOld.
     Starts at atl061+4 and is 6x bytes long
	Continues at PATCH1+4D0 and is 60x bytes long
<<< Don't let links between v5.20+ neighbors come up on old style resets >>>

PATCH added on 881202 at 2313 by sdw.?slot.
     Starts at 0e00a4 and is 6x bytes long
<<< Set up Segment E so that DDT ?SLOT command works properly >>>

PATCH added on 881202 at 2255 by sdw.W.SegE.
     Starts at write4+0a and is 6x bytes long
	Continues at writf4+0a and is 6x bytes long
	Continues at chkdat+0f*4 and is 4x bytes long
	Continues at PATCH1+522 and is 40x bytes long
<<< Prevent Xray W or WS command from writing to Seg E or Seg F >>>

PATCH added on 881213 at 1655 by sdw.FIX RB.
     Starts at xrdbu3+4 and is 6x bytes long
	Continues at PATCH1+552 and is 40x bytes long
<<< Put a range check on Xray RB command >>>

PATCH added on 881213 at 1655 by sdw.FIX SM.
     Starts at setme0+6 and is 6x bytes long
	Continues at PATCH1+572 and is 40x bytes long
<<< Put a range check on Xray SM command >>>

PATCH added on 881213 at 1655 by sdw.FIX AP.
     Starts at setpr0+6 and is 6x bytes long
	Continues at PATCH1+584 and is 40x bytes long
<<< Put a range check on Xray AP command >>>

PATCH added on 890207 at 250 by sdw.HSslot.
     Starts at hstdi5+8 and is 4x bytes long
<<< Fix Xray HS <value> S command to display all hosts for that slot >>>

PATCH added on 890222 at 141 by sdw.KD r8.
     Starts at xneig2-16 and is 12x bytes long
<<< Fix potential crash due to improperly orderred instructions >>>

PATCH added on 890222 at 0059 by sdw.crHDLC.
     Starts at ldrp54-1a and is 6x bytes long
	Continues at PATCH1+596 and is 40x bytes long
<<< Only put HDLC CKSUM ERROR in Crypto log when line is bad >>>

PATCH added on 890707 at 1431 by sdw.XRAYGG.
     Starts at xggad4+8 and is 6x bytes long
	Continues at switch-0a and is 6x bytes long
	Continues at PATCH1+5BA and is 80x bytes long
<<< Patch to allow GG macro to have lowercase Xray usernames >>>

PATCH added on 890929 at 1100 by SHM.CpyInt.
     Starts at SIOIZ4 and is 6x bytes long
	Continues at PATCH1+626 and is 30x bytes long
<<< RESTORE SIOINT CCW >>>

PATCH added on 891009 at 1305 by sln.tdmask.
     Starts at TRCSUP+18 and is 6x bytes long
	Continues at PATCH1+646 and is 14x bytes long
<<< Set XRAY TA/TD/TE to properly mask cmd chnl msgs >>>

PATCH added on 870716 at 1220 by sln.fixta.
     Starts at TRCDUX+10 and is 1Ax bytes long
<<< Set XRAY TA command to output period for ascii-ctrl >>>
End of assembly
1;F   ND6415.N00

;X   (SOURCE)TIII05.WRT

SEG0,RSEG0;P
SEG1,S1SIZE;P
SEGD,SDSIZE;P
SEGF,SFSIZE;P
CTA,CTASIZ;P
%P
%Q
EXIT

!
!; Create the Engine code that runs in Slot 1 from NDxxxx.T01
!R (SYS)NAD
1.5
;X   ND6415.C01

;;      EBUS INTERFACE COMMAND FILE - SYSTEM #: 29
;@   (SOURCE)EBUS02.I00

End of assembly
;@   ND6415.T01

End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SEG 2 SIZE = 1100

RING 0E0000 101BA 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
CRASH 101BA 103B8
STATUS 103B8 105EE
EBUS 105EE 10CA4
DEFAULT AREA PROTECTIONS ASSUMED.

SEGMENT 0-length 404d, requires 200x bytes of core.
SEGMENT 1-length 3364d, requires 0E00x bytes of core.
SEGMENT 2-length 4480d, requires 1200x bytes of core.
SEGMENT 3-length 65536d, requires 10000x bytes of core.
SEGMENT 4-length 65536d, requires 10000x bytes of core.
SEGMENT 5-length 65536d, requires 10000x bytes of core.
SEGMENT 6-length 65536d, requires 10000x bytes of core.
SEGMENT 0E-length 476d, requires 200x bytes of core.
       265d K-bytes of core
End of assembly
1;F   ND6415.N01

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!
!; Build BND file.  Note that the 68K code is the same in all bases.
!R (SYS)MERLIN
MERGE AND LINK ISIS SLOTS
VERSION  2.10
* ND6415.BND=ND6415.NIB,ND6415.N00,ND6415.N01,(EBUS)EBUS02.O02/S




         SLOT MAP

SLOT BEGINS ENDS
 0   16400  6DBFF
 1   6DC00  B03FF
 2   B0400  C93FF




    MAP OF SLOT  0

SEG  BEGINS ENDS
 0   17400  1E1FF
 1   1E200  2AEFF
 2   2AF00  3AEFF
 3   3AF00  4AEFF
 4   4AF00  5AEFF
 5   5AF00  65EFF
13   65F00  6DBFF
14   16400  173FF




    MAP OF SLOT  1

SEG  BEGINS ENDS
 0   6DE00  6DF93
 1   6E000  6ED23
 2   6EE00  6FF7F
 3   70000  7FFFF
 4   80000  8FFFF
 5   90000  9FFFF
 6   A0000  AFFFF
14   6DC00  6DDDB




    MAP OF SLOT  2   (S-RECORD)

BEGINS ENDS
B0400  B26AC

EXIT

!
!;The NIB files are not needed and can be deleted.
!DELETE ND6415.NIB,ND6415.N00,ND6415.N01


!R (SYS)CKSUM
INPUT: ND6415.*
NUXGUX ND6415.LOG
ROGWOJ ND6415.C01
DESQEQ ND6415.CMD
SISVIC ND6415.C00
JEHMAV ND6415.BAK
NENWOW ND6415.TYM
MEDLUF ND6415.T01
QOJRAJ ND6415.BND
INPUT: 

!DIRECT ND6415.BND

ND6415  BND      70   9-NOV-89 2106    ALL RD  NO     35072          

!LOGOUT
1524.77 tru
terminal time: 0:08:20

[Job (EBUS)EBUS.CTL completed]
[Output recorded in file (EBUS)ND6415.LOG]
!PCOM ND6714.LOG=EBUS ND6714/LOG
!SYSNO
TYMSHARE F33-P035/E 3-2-89
!DAYTIME
9-NOV-1989 21:07:26 PST

!; This CTL file rebuilds the BND file for an EBUS base from scratch.
!; The following files must exist:
!DIRECT (EBUS)EBUS02.O02

EBUS02  O02       9   9-MAY-88 1336    ALL RD  NO      4096          

!DIRECT ND6714.TYM,ND6714.T01,ND6714.CMD,ND6714.C00,ND6714.C01

NO FILES SATISFYING REQUEST

!DIRECT ISXRAY.GGY,GOODGY.NQA

GOODGY  NQA       2  14-NOV-88  906    ALL RD  NO       362          
ISXRAY  GGY       2   2-JUL-87 1305    ALL RD  NO       128          

!
!; Create the ISIS Kernel from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND6714.CMD
   ?

;    ? 
Create the node code for slot 0 from NDxxxx.TYM

Undefined opcode   ?
R (SYS)NAD

Undefined opcode   ?
;X   ND6714.C00
   ?

;    ? 
Create the Engine code that runs in Slot 1 from NDxxxx.T01

Undefined opcode   ?
R (SYS)NAD

Undefined opcode   ?
;X   ND6714.C01
   ?

;    ? 
Build BND file.  Note that the 68K code is the same in all bases.

Undefined opcode   ?
R (SYS)MERLIN

Undefined opcode   ?
ND6714.BND=
Undefined not allowed   ?
ND6714.NIB,ND6714.N00,ND6714.N01,(EBUS)EBUS02.O02/S

Undefined not allowed   ?

;T   ?
he NIB files are not needed and can be deleted.

Undefined opcode   ?
DELETE ND6714.NIB,ND6714.N00,ND6714.N01

Undefined opcode   ?
R (SYS)CKSUM

Undefined opcode   ?
ND6714.*

Undefined not allowed
Syntax error   ?

DIRECT ND6714.BND

Undefined opcode   ?
LOGOUT

Undefined not allowed   ?

[Job (EBUS)EBUS.CTL completed]
[Output recorded in file (EBUS)ND6714.LOG]
!;PCOM ND6716.LOG=EBUS ND6716/LOG
!PCOM ND6720.LOG=EBUS ND6720/LOG
!SYSNO
TYMSHARE F33-P035/E 3-2-89
!DAYTIME
9-NOV-1989 21:14:04 PST

!; This CTL file rebuilds the BND file for an EBUS base from scratch.
!; The following files must exist:
!DIRECT (EBUS)EBUS02.O02

EBUS02  O02       9   9-MAY-88 1336    ALL RD  NO      4096          

!DIRECT ND6720.TYM,ND6720.T01,ND6720.CMD,ND6720.C00,ND6720.C01

ND6720  T01       2   9-NOV-89 1807    ALL RD  NO        53          
ND6720  TYM       3   9-NOV-89 1718    ALL RD  NO       696          
ND6720  C00       2  26-AUG-88 1859    ALL RD  NO        42          
ND6720  CMD       2  26-AUG-88 1856    ALL RD  NO        43          
ND6720  C01       2  24-AUG-88 1720    ALL RD  NO        37          

!DIRECT ISXRAY.GGY,GOODGY.NQA

GOODGY  NQA       2  14-NOV-88  906    ALL RD  NO       362          
ISXRAY  GGY       2   2-JUL-87 1305    ALL RD  NO       128          

!
!; Create the ISIS Kernel from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND6720.CMD

;; ISIS-II Version 7.03 Sample Command File
;@   (SOURCE)I2IS07.I03

End of assembly
;@   ND6720.TYM

End of assembly
;@   (TYMNET)GOODGY.NQA

End of assembly
;@   (SOURCE)I2IS07.R03

SYNC specified but not assigned...(warning only, no change)
SYNC 1BD6 2442
CLOCKS 2442 2582
MBOARD 2582 26E8
IPI 26E8 2946
FLASH 2946 2DE6
KCAREA 2DE6 2FDC
TTY 2FDC 3300
KERNEL 3300 7B7C
DDT 7B7C 0AB00
   3273d bufferlets allocated to dispatcher
DISPAT 0AB00 16400
.............................................



    ***  ISIS-II  ***
      Version 7.3d

TYMNET-II Node 6720, Kernel Host 4481
Maximum slot number is 2

       >>> HARDWARE CONFIGURATION <<<

Expects enhanced sync microcode
Expects enhanced async microcode
Expects MAC II
Expects maximum baud rate of 1200
Expects 1 sync board(s)
Expects 1 SIO mother-board processor(s)
   Board 0 has 2 channel(s), device address 80
Expects 1 IPI processor(s)
   IPI device 0 has device address 88

       >>> SLOT CONFIGURATIONS <<<

SLOT 0, NODE CODE, has 350 K-bytes of core, from 16400 to 6DBFF
   2 logical unit(s)
   L.U. 0 is M.Board channel 0
   L.U. 1 is M.Board channel 1

SLOT 1 has 266 K-bytes of core, from 6DC00 to 0B03FF
   1 logical unit(s)
   L.U. 0 is M.Board channel 0

SLOT 2 has 100 K-bytes of core, from 0B0400 to 0C93FF
   no logical units

***Highest location used in this configuration is 0C9400

Requires 809d k-bytes of core


.............................................


Code Generated:  11/10/89  05:16:09 GMT

.............................................

End of assembly
;X   (SOURCE)I2IS07.P03

;; ISIS-II Version 7.03 Patch File

;@   (SOURCE)I2IS07.Q03

ISIS 7.03 PATCH 1
  Fixes reversed CTS and DSR on HDLC micro.

ISIS 7.03 PATCH 2
  This patch is superseded by patch 4.

ISIS 7.03 PATCH 3
  Causes ISIS to read memory error log before crashing.

ISIS 7.03 PATCH 4
  Refreshes CPU and MAC registers to avoid degradation.
  (Updated version of patch 2)

ISIS 7.03 PATCH 5
  Correctly initializes registers for checking newlog bit array

ISIS 7.03 PATCH 6
  Wraps around accounting char counts when count exceeds 28 bits

ISIS 7.03 PATCH 7
Patch to prevent disk from doing retries on a 
controller errror

ISIS 7.03 PATCH 8
  Corrects initialization order of Emulated Sync.
  Also it allows window for interrupts to be flushed
  during initialization.

ISIS 7.03 PATCH 9
have DCSLOT free channels for ports in time-out
or clean-up

ISIS 7.03 PATCH 10
Have KRASHI report crashes to dispatcher
and pause slot for 4 seconds

ISIS 7.03 PATCH 11
Keep DDT Mask command from crashing machine

ISIS 7.03 PATCH 12
Have restart SVC disable watch-frog timer

ISIS 7.03 PATCH 13
Crash ISIS on DMA parity error

ISIS 7.03 PATCH 14 
 CLEAR DHANG ON SYSTEM CRASH 

ISIS 7.03 PATCH 15 
THIS PATCH IS USED TO CORRECT  A TID RECOGNITION5 
FOR 300 BAUD WHEN USING HIGH SPEED INTERRUPTS.

ISIS 7.03 PATCH 16 
ISIS VERSION GREATER 6 ALLOWS WRITING PAST SEGMENT 
BOUNDARIES WITHOUT PROTECTION.  CHANGES MADE FOR  
MULTIMEG SUPPORT INDUCED THIS PROBLEM.  THIS PATCH 
PROTECTS ISIS FROM OVER WRITING BOUNDARIES. 
See NSR 1772 

ISIS 7.03 PATCH 17
This patch fixes timing problems associated
with the initialization of HDLC micro-engine
channels that are emulation TYMNET sync.

End of assembly


1;F   ND6720.NIB

70;T
0,SUMTBL;P
INTLEN,IEND-INTLEN;P
%P
SEGF,SFSIZE;P
%Q
EXIT

!
!; Create the node code for slot 0 from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND6720.C00

;; UPDATED 88/05/18 ND6720 ISIS-II T-II JOE SMITH
;A   (SOURCE)TII05.I22

End of assembly
;A   ND6720.TYM

End of assembly
;A   (TYMNET)ISXRAY.GGY

End of assembly
;A   (SOURCE)TII05.R22

End of assembly
;A   (SOURCE)TII05.F22


TYMNET-II Node Code, Version 5.22, ISIS Node

Node: 6720  Kernel Host: 4481

Ports:		Lines:		Links:
   128d Pthru	     0d Sync	     2d TIILNK
     3d Xray	     2d SIO	     0d XLNK
		     2d Total	     2d Total
   256d Disp
     3d Krnl

Maximum number of circuits =  431d 


Bufferlet storage space:

  5E48x bytes (  24d KB) for  431d circuit buffers ( 56d bytes per circuit)
 22112x bytes ( 137d KB) for  271d history buffers (514d bytes per termination)
 27F5Ax bytes ( 160d KB) for  431d total circuits  (379d bytes per circuit)


Memory used by this configuration = 57800x, 350d KB.

Optimal amount of memory for this configuration =   229d  KB.

End of assembly
;A   (SOURCE)TII05.P22


       NETID is 1d.  This is a TYMNET network node.




PATCH added on 870811 at 0900 by JLADEN.
     Starts at ATTLI0+20 and is 10x bytes long
<<< FIX RESET VERSION COMPATIBILTY PROBLEM >>>

PATCH added on 870907 at 0138 by SDW.
     Starts at RTBFA2+4 and is 6x bytes long
<<< PATCH TO FIX REGISTER USAGE BY IMPROVED REBUILD ROUTINE >>>

PATCH added on 870211 at 1800 by SDW.
     Starts at HSTDI4+0C and is 4x bytes long
<<< Patch to have XRAY HS U command display up hosts that have no ports >>>

PATCH added on 880121 at 1301 by sdw.RESET1.
     Starts at ATTL05-8 and is 6x bytes long
	Continues at PATCH1+0 and is 5Cx bytes long
<<< Make old style reset packet always have old style reset data >>>

PATCH added on 880829 at 1400 by sdw.RESET2.
     Starts at ATTLIN+8 and is 6x bytes long
	Continues at PATCH1+5C and is 54x bytes long
<<< Handle neighbor switching between old and expanded resets >>>

PATCH added on 880126 at 1756 by sdw.RES4M1.
     Starts at G04MIN and is 6x bytes long
	Continues at PATCH0+0 and is 0Ex bytes long
	Continues at PATCH1+96 and is 0D8x bytes long
<<< Send a old style reset every four minutes to help lines to come up >>>

PATCH added on 880126 at 1845 by sdw.RES4M2.
     Starts at G01SE3 and is 6x bytes long
	Continues at PATCH1+16E and is 8Ax bytes long
<<< Part 2 of patch to occasionally send old style resets. >>>

PATCH added on 880218 at 1600 by sdw.SIOCHN.
     Starts at siopt4+8 and is 2x bytes long
<<< Allow SIO to send more than 40 packets per second >>>

PATCH added on 880218 at 2330 by sdw.SIORSPC.
     Starts at SIORS and is 10x bytes long
	Continues at SIORR and is 6x bytes long
	Continues at PATCH0+12 and is 4x bytes long
	Continues at PATCH1+1F8 and is 28x bytes long
<<< Part 1 of patch to send only 1 SIO reset per second >>>

PATCH added on 880218 at 2356 by sdw.SIORSP2.
     Starts at G01PER and is 6x bytes long
	Continues at PATCH1+21E and is 1Ex bytes long
<<< Part 2 of patch to send only 1 SIO reset per second >>>

PATCH added on 880306 at 109 by sdw.FIX DB.
     Starts at DBEGIN and is 6x bytes long
	Continues at PATCH1+23C and is 1Cx bytes long
<<< Disable DB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 123 by sdw.FIX WB.
     Starts at XWRBUF and is 6x bytes long
	Continues at PATCH1+258 and is 30x bytes long
	Continues at xwrbuf+6 and is 12x bytes long
<<< Disable WB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 134 by sdw.REMZAP.
     Starts at REMZA6+2 and is 6x bytes long
	Continues at PATCH1+27A and is 10x bytes long
<<< Fix potential crash when Xray user zaps before clearing delay circuits >>>

PATCH added on 880307 at 0934 by sdw.NETIDBG.
     Starts at ATTNID and is 12x bytes long
	Continues at PATCH0+16 and is 8x bytes long
<<< Do not put neighbor with bad NETID on node's bad guy list >>>

PATCH added on 880317 at 1523 by sdw.XRAYIN.
     Starts at XRYIN7 and is 4x bytes long
<<< Fix local XRAY to have a dismiss when waiting for character >>>

PATCH added on 880408 at 1500 by SLN.FNDLNK.
     Starts at CRQZOG+6 and is 0Ex bytes long
	Continues at LEP9V2-20 and is 0Ex bytes long
	Continues at PATCH1+28A and is 4Cx bytes long
<<< Fix crash 0007 from Qexec corruption >>>

PATCH added on 880410 at 1525 by sdw.ATT.R2.
     Starts at ATTLDW and is 6x bytes long
	Continues at PATCH1+2D6 and is 14x bytes long
<<< Fix crash in line attach logic due to corrupted register >>>

PATCH added on 880405 at 2334 by sdw.WSZDWN.
     Starts at MCHD04+4 and is 6x bytes long
	Continues at TRLINZ and is 6x bytes long
	Continues at PATCH1+2EA and is 66x bytes long
	Continues at PATCH0+1E and is 10x bytes long
<<< Fix windowsize matchdown to restore to original when link goes down >>>

PATCH added on 880425 at 1713 by sdw.HSecNS.
     Starts at XSTMS0 and is 4Cx bytes long
<<< Fix NS to show proper time spent in H-SEC process >>>

PATCH added on 880426 at 2214 by sdw.KDCMTS.
     Starts at XNEI7B and is 6x bytes long
	Continues at PATCH1+350 and is 1Ax bytes long
<<< Fix Xray KD command to correctly count number of command circuits >>>

PATCH added on 880408 at 1000 by pk.siocopy.
     Starts at sioi5+8 and is 36x bytes long
<<< Remove SIO input problems with foreground/background collisions >>>

PATCH added on 880628 at 1500 by sdw.SIOCH2.
     Starts at siosnd-4 and is 4x bytes long
	Continues at sion4-6 and is 6x bytes long
	Continues at PATCH1+36A and is 12x bytes long
<<< Correct logic which flagged an unloaded line as saturated >>>

PATCH added on 880623 at 1330 by sdw.OOPS.
     Starts at SFAIL-0a and is 6x bytes long
	Continues at PATCH1+37C and is 10x bytes long
<<< Save R0 and R1 when doing software crashes >>>

PATCH added on 880706 at 1301 by CMR.XRDBRM.
     Starts at DBEGI8 and is 6x bytes long
	Continues at PATCH1+38C and is 20x bytes long
<<< Reset INTXRF flag when entering 'DB' command >>>

PATCH added on 880725 at 1500 by sdw.DBFILL.
     Starts at DBEGI5 and is 6x bytes long
	Continues at PATCH1+39C and is 1Ex bytes long
<<< Prevent crash caused by delay circuits using all bufferlets >>>

PATCH added on 880729 at 1600 by SDW.ZR7263.
     Starts at dsozw7 and is 6x bytes long
	Continues at PATCH1+3BA and is 1Cx bytes long
<<< Fix problem with Zap With Reason which leads to a 7263 crash >>>

PATCH added on 880930 at 115 by sdw.NI cmd.
     Starts at XNID+10 and is 6x bytes long
	Continues at qrychn-6 and is 6x bytes long
	Continues at PATCH1+3D6 and is 100x bytes long
<<< Change Xray NI command to also display the NETIDs for each line >>>

PATCH added on 881128 at 0113 by sdw.GETPWR.
     Starts at getpwr+18 and is 0Ex bytes long
<<< Fix Xray GP to work for all Node and Host numbers >>>

PATCH added on 890625 at 1645 by sdw.ExpOld.
     Starts at atl061+4 and is 6x bytes long
	Continues at PATCH1+4D0 and is 60x bytes long
<<< Don't let links between v5.20+ neighbors come up on old style resets >>>

PATCH added on 881202 at 2313 by sdw.?slot.
     Starts at 0e00a4 and is 6x bytes long
<<< Set up Segment E so that DDT ?SLOT command works properly >>>

PATCH added on 881202 at 2255 by sdw.W.SegE.
     Starts at write4+0a and is 6x bytes long
	Continues at writf4+0a and is 6x bytes long
	Continues at chkdat+0f*4 and is 4x bytes long
	Continues at PATCH1+522 and is 40x bytes long
<<< Prevent Xray W or WS command from writing to Seg E or Seg F >>>

PATCH added on 881213 at 1655 by sdw.FIX RB.
     Starts at xrdbu3+4 and is 6x bytes long
	Continues at PATCH1+552 and is 40x bytes long
<<< Put a range check on Xray RB command >>>

PATCH added on 881213 at 1655 by sdw.FIX SM.
     Starts at setme0+6 and is 6x bytes long
	Continues at PATCH1+572 and is 40x bytes long
<<< Put a range check on Xray SM command >>>

PATCH added on 881213 at 1655 by sdw.FIX AP.
     Starts at setpr0+6 and is 6x bytes long
	Continues at PATCH1+584 and is 40x bytes long
<<< Put a range check on Xray AP command >>>

PATCH added on 890207 at 250 by sdw.HSslot.
     Starts at hstdi5+8 and is 4x bytes long
<<< Fix Xray HS <value> S command to display all hosts for that slot >>>

PATCH added on 890222 at 141 by sdw.KD r8.
     Starts at xneig2-16 and is 12x bytes long
<<< Fix potential crash due to improperly orderred instructions >>>

PATCH added on 890222 at 0059 by sdw.crHDLC.
     Starts at ldrp54-1a and is 6x bytes long
	Continues at PATCH1+596 and is 40x bytes long
<<< Only put HDLC CKSUM ERROR in Crypto log when line is bad >>>

PATCH added on 890707 at 1431 by sdw.XRAYGG.
     Starts at xggad4+8 and is 6x bytes long
	Continues at switch-0a and is 6x bytes long
	Continues at PATCH1+5BA and is 80x bytes long
<<< Patch to allow GG macro to have lowercase Xray usernames >>>

PATCH added on 890929 at 1100 by SHM.CpyInt.
     Starts at SIOIZ4 and is 6x bytes long
	Continues at PATCH1+626 and is 30x bytes long
<<< RESTORE SIOINT CCW >>>

PATCH added on 891009 at 1305 by sln.tdmask.
     Starts at TRCSUP+18 and is 6x bytes long
	Continues at PATCH1+646 and is 14x bytes long
<<< Set XRAY TA/TD/TE to properly mask cmd chnl msgs >>>

PATCH added on 870716 at 1220 by sln.fixta.
     Starts at TRCDUX+10 and is 1Ax bytes long
<<< Set XRAY TA command to output period for ascii-ctrl >>>
End of assembly
1;F   ND6720.N00

;X   (SOURCE)TIII05.WRT

SEG0,RSEG0;P
SEG1,S1SIZE;P
SEGD,SDSIZE;P
SEGF,SFSIZE;P
CTA,CTASIZ;P
%P
%Q
EXIT

!
!; Create the Engine code that runs in Slot 1 from NDxxxx.T01
!R (SYS)NAD
1.5
;X   ND6720.C01

;;      EBUS INTERFACE COMMAND FILE - SYSTEM #: 58
;@   (SOURCE)EBUS02.I00

End of assembly
;@   ND6720.T01

End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SEG 2 SIZE = 1100

RING 0E0000 101BA 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
CRASH 101BA 103B8
STATUS 103B8 105EE
EBUS 105EE 10CA4
DEFAULT AREA PROTECTIONS ASSUMED.

SEGMENT 0-length 404d, requires 200x bytes of core.
SEGMENT 1-length 3364d, requires 0E00x bytes of core.
SEGMENT 2-length 4480d, requires 1200x bytes of core.
SEGMENT 3-length 65536d, requires 10000x bytes of core.
SEGMENT 4-length 65536d, requires 10000x bytes of core.
SEGMENT 5-length 65536d, requires 10000x bytes of core.
SEGMENT 6-length 65536d, requires 10000x bytes of core.
SEGMENT 0E-length 476d, requires 200x bytes of core.
       265d K-bytes of core
End of assembly
1;F   ND6720.N01

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!
!; Build BND file.  Note that the 68K code is the same in all bases.
!R (SYS)MERLIN
MERGE AND LINK ISIS SLOTS
VERSION  2.10
* ND6720.BND=ND6720.NIB,ND6720.N00,ND6720.N01,(EBUS)EBUS02.O02/S




         SLOT MAP

SLOT BEGINS ENDS
 0   16400  6DBFF
 1   6DC00  B03FF
 2   B0400  C93FF




    MAP OF SLOT  0

SEG  BEGINS ENDS
 0   17400  1E1FF
 1   1E200  2AEFF
 2   2AF00  3AEFF
 3   3AF00  4AEFF
 4   4AF00  5AEFF
 5   5AF00  65EFF
13   65F00  6DBFF
14   16400  173FF




    MAP OF SLOT  1

SEG  BEGINS ENDS
 0   6DE00  6DF93
 1   6E000  6ED23
 2   6EE00  6FF7F
 3   70000  7FFFF
 4   80000  8FFFF
 5   90000  9FFFF
 6   A0000  AFFFF
14   6DC00  6DDDB




    MAP OF SLOT  2   (S-RECORD)

BEGINS ENDS
B0400  B26AC

EXIT

!
!;The NIB files are not needed and can be deleted.
!DELETE ND6720.NIB,ND6720.N00,ND6720.N01


!R (SYS)CKSUM
INPUT: ND6720.*
LIMLUK ND6720.LOG
XIRDED ND6720.BAK
FASDIN ND6720.C01
RUTSEW ND6720.CMD
QAVBIX ND6720.C00
CUMXUH ND6720.TYM
LARLED ND6720.T01
PAVQAF ND6720.BND
INPUT: 

!DIRECT ND6720.BND

ND6720  BND      70   9-NOV-89 2122    ALL RD  NO     35072          

!LOGOUT
1614.91 tru
terminal time: 0:09:24

[Job (EBUS)EBUS.CTL completed]
[Output recorded in file (EBUS)ND6720.LOG]
!PCOM ND6721.LOG=EBUS ND6721/LOG
!SYSNO
TYMSHARE F33-P035/E 3-2-89
!DAYTIME
9-NOV-1989 21:23:31 PST

!; This CTL file rebuilds the BND file for an EBUS base from scratch.
!; The following files must exist:
!DIRECT (EBUS)EBUS02.O02

EBUS02  O02       9   9-MAY-88 1336    ALL RD  NO      4096          

!DIRECT ND6721.TYM,ND6721.T01,ND6721.CMD,ND6721.C00,ND6721.C01

ND6721  T01       2   9-NOV-89 1807    ALL RD  NO        53          
ND6721  TYM       3   9-NOV-89 1714    ALL RD  NO       608          
ND6721  C00       2  26-AUG-88 1859    ALL RD  NO        40          
ND6721  CMD       2  26-AUG-88 1856    ALL RD  NO        43          
ND6721  C01       2  24-AUG-88 1720    ALL RD  NO        37          

!DIRECT ISXRAY.GGY,GOODGY.NQA

GOODGY  NQA       2  14-NOV-88  906    ALL RD  NO       362          
ISXRAY  GGY       2   2-JUL-87 1305    ALL RD  NO       128          

!
!; Create the ISIS Kernel from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND6721.CMD

;; ISIS-II Version 7.03 Sample Command File
;@   (SOURCE)I2IS07.I03

End of assembly
;@   ND6721.TYM

End of assembly
;@   (TYMNET)GOODGY.NQA

End of assembly
;@   (SOURCE)I2IS07.R03

SYNC specified but not assigned...(warning only, no change)
SYNC 1BD6 2442
CLOCKS 2442 2582
MBOARD 2582 26E8
IPI 26E8 2946
FLASH 2946 2DE6
KCAREA 2DE6 2FDC
TTY 2FDC 3300
KERNEL 3300 7B7C
DDT 7B7C 0AB00
   3273d bufferlets allocated to dispatcher
DISPAT 0AB00 16400
.............................................



    ***  ISIS-II  ***
      Version 7.3d

TYMNET-II Node 6721, Kernel Host 4486
Maximum slot number is 2

       >>> HARDWARE CONFIGURATION <<<

Expects enhanced sync microcode
Expects enhanced async microcode
Expects MAC II
Expects maximum baud rate of 1200
Expects 1 sync board(s)
Expects 1 SIO mother-board processor(s)
   Board 0 has 2 channel(s), device address 80
Expects 1 IPI processor(s)
   IPI device 0 has device address 88

       >>> SLOT CONFIGURATIONS <<<

SLOT 0, NODE CODE, has 350 K-bytes of core, from 16400 to 6DBFF
   2 logical unit(s)
   L.U. 0 is M.Board channel 0
   L.U. 1 is M.Board channel 1

SLOT 1 has 266 K-bytes of core, from 6DC00 to 0B03FF
   1 logical unit(s)
   L.U. 0 is M.Board channel 0

SLOT 2 has 100 K-bytes of core, from 0B0400 to 0C93FF
   no logical units

***Highest location used in this configuration is 0C9400

Requires 809d k-bytes of core


.............................................


Code Generated:  11/10/89  05:25:35 GMT

.............................................

End of assembly
;X   (SOURCE)I2IS07.P03

;; ISIS-II Version 7.03 Patch File

;@   (SOURCE)I2IS07.Q03

ISIS 7.03 PATCH 1
  Fixes reversed CTS and DSR on HDLC micro.

ISIS 7.03 PATCH 2
  This patch is superseded by patch 4.

ISIS 7.03 PATCH 3
  Causes ISIS to read memory error log before crashing.

ISIS 7.03 PATCH 4
  Refreshes CPU and MAC registers to avoid degradation.
  (Updated version of patch 2)

ISIS 7.03 PATCH 5
  Correctly initializes registers for checking newlog bit array

ISIS 7.03 PATCH 6
  Wraps around accounting char counts when count exceeds 28 bits

ISIS 7.03 PATCH 7
Patch to prevent disk from doing retries on a 
controller errror

ISIS 7.03 PATCH 8
  Corrects initialization order of Emulated Sync.
  Also it allows window for interrupts to be flushed
  during initialization.

ISIS 7.03 PATCH 9
have DCSLOT free channels for ports in time-out
or clean-up

ISIS 7.03 PATCH 10
Have KRASHI report crashes to dispatcher
and pause slot for 4 seconds

ISIS 7.03 PATCH 11
Keep DDT Mask command from crashing machine

ISIS 7.03 PATCH 12
Have restart SVC disable watch-frog timer

ISIS 7.03 PATCH 13
Crash ISIS on DMA parity error

ISIS 7.03 PATCH 14 
 CLEAR DHANG ON SYSTEM CRASH 

ISIS 7.03 PATCH 15 
THIS PATCH IS USED TO CORRECT  A TID RECOGNITION5 
FOR 300 BAUD WHEN USING HIGH SPEED INTERRUPTS.

ISIS 7.03 PATCH 16 
ISIS VERSION GREATER 6 ALLOWS WRITING PAST SEGMENT 
BOUNDARIES WITHOUT PROTECTION.  CHANGES MADE FOR  
MULTIMEG SUPPORT INDUCED THIS PROBLEM.  THIS PATCH 
PROTECTS ISIS FROM OVER WRITING BOUNDARIES. 
See NSR 1772 

ISIS 7.03 PATCH 17
This patch fixes timing problems associated
with the initialization of HDLC micro-engine
channels that are emulation TYMNET sync.

End of assembly


1;F   ND6721.NIB

70;T
0,SUMTBL;P
INTLEN,IEND-INTLEN;P
%P
SEGF,SFSIZE;P
%Q
EXIT

!
!; Create the node code for slot 0 from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND6721.C00

;; UPDATED 87/06/01 ND6721 ISIS-II T-II 
;A   (SOURCE)TII05.I22

End of assembly
;A   ND6721.TYM

End of assembly
;A   (TYMNET)ISXRAY.GGY

End of assembly
;A   (SOURCE)TII05.R22

End of assembly
;A   (SOURCE)TII05.F22


TYMNET-II Node Code, Version 5.22, ISIS Node

Node: 6721  Kernel Host: 4486

Ports:		Lines:		Links:
   128d Pthru	     0d Sync	     2d TIILNK
     3d Xray	     2d SIO	     0d XLNK
		     2d Total	     2d Total
   256d Disp
     3d Krnl

Maximum number of circuits =  431d 


Bufferlet storage space:

  5E48x bytes (  24d KB) for  431d circuit buffers ( 56d bytes per circuit)
 22112x bytes ( 137d KB) for  271d history buffers (514d bytes per termination)
 27F5Ax bytes ( 160d KB) for  431d total circuits  (379d bytes per circuit)


Memory used by this configuration = 57800x, 350d KB.

Optimal amount of memory for this configuration =   229d  KB.

End of assembly
;A   (SOURCE)TII05.P22


       NETID is 1d.  This is a TYMNET network node.




PATCH added on 870811 at 0900 by JLADEN.
     Starts at ATTLI0+20 and is 10x bytes long
<<< FIX RESET VERSION COMPATIBILTY PROBLEM >>>

PATCH added on 870907 at 0138 by SDW.
     Starts at RTBFA2+4 and is 6x bytes long
<<< PATCH TO FIX REGISTER USAGE BY IMPROVED REBUILD ROUTINE >>>

PATCH added on 870211 at 1800 by SDW.
     Starts at HSTDI4+0C and is 4x bytes long
<<< Patch to have XRAY HS U command display up hosts that have no ports >>>

PATCH added on 880121 at 1301 by sdw.RESET1.
     Starts at ATTL05-8 and is 6x bytes long
	Continues at PATCH1+0 and is 5Cx bytes long
<<< Make old style reset packet always have old style reset data >>>

PATCH added on 880829 at 1400 by sdw.RESET2.
     Starts at ATTLIN+8 and is 6x bytes long
	Continues at PATCH1+5C and is 54x bytes long
<<< Handle neighbor switching between old and expanded resets >>>

PATCH added on 880126 at 1756 by sdw.RES4M1.
     Starts at G04MIN and is 6x bytes long
	Continues at PATCH0+0 and is 0Ex bytes long
	Continues at PATCH1+96 and is 0D8x bytes long
<<< Send a old style reset every four minutes to help lines to come up >>>

PATCH added on 880126 at 1845 by sdw.RES4M2.
     Starts at G01SE3 and is 6x bytes long
	Continues at PATCH1+16E and is 8Ax bytes long
<<< Part 2 of patch to occasionally send old style resets. >>>

PATCH added on 880218 at 1600 by sdw.SIOCHN.
     Starts at siopt4+8 and is 2x bytes long
<<< Allow SIO to send more than 40 packets per second >>>

PATCH added on 880218 at 2330 by sdw.SIORSPC.
     Starts at SIORS and is 10x bytes long
	Continues at SIORR and is 6x bytes long
	Continues at PATCH0+12 and is 4x bytes long
	Continues at PATCH1+1F8 and is 28x bytes long
<<< Part 1 of patch to send only 1 SIO reset per second >>>

PATCH added on 880218 at 2356 by sdw.SIORSP2.
     Starts at G01PER and is 6x bytes long
	Continues at PATCH1+21E and is 1Ex bytes long
<<< Part 2 of patch to send only 1 SIO reset per second >>>

PATCH added on 880306 at 109 by sdw.FIX DB.
     Starts at DBEGIN and is 6x bytes long
	Continues at PATCH1+23C and is 1Cx bytes long
<<< Disable DB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 123 by sdw.FIX WB.
     Starts at XWRBUF and is 6x bytes long
	Continues at PATCH1+258 and is 30x bytes long
	Continues at xwrbuf+6 and is 12x bytes long
<<< Disable WB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 134 by sdw.REMZAP.
     Starts at REMZA6+2 and is 6x bytes long
	Continues at PATCH1+27A and is 10x bytes long
<<< Fix potential crash when Xray user zaps before clearing delay circuits >>>

PATCH added on 880307 at 0934 by sdw.NETIDBG.
     Starts at ATTNID and is 12x bytes long
	Continues at PATCH0+16 and is 8x bytes long
<<< Do not put neighbor with bad NETID on node's bad guy list >>>

PATCH added on 880317 at 1523 by sdw.XRAYIN.
     Starts at XRYIN7 and is 4x bytes long
<<< Fix local XRAY to have a dismiss when waiting for character >>>

PATCH added on 880408 at 1500 by SLN.FNDLNK.
     Starts at CRQZOG+6 and is 0Ex bytes long
	Continues at LEP9V2-20 and is 0Ex bytes long
	Continues at PATCH1+28A and is 4Cx bytes long
<<< Fix crash 0007 from Qexec corruption >>>

PATCH added on 880410 at 1525 by sdw.ATT.R2.
     Starts at ATTLDW and is 6x bytes long
	Continues at PATCH1+2D6 and is 14x bytes long
<<< Fix crash in line attach logic due to corrupted register >>>

PATCH added on 880405 at 2334 by sdw.WSZDWN.
     Starts at MCHD04+4 and is 6x bytes long
	Continues at TRLINZ and is 6x bytes long
	Continues at PATCH1+2EA and is 66x bytes long
	Continues at PATCH0+1E and is 10x bytes long
<<< Fix windowsize matchdown to restore to original when link goes down >>>

PATCH added on 880425 at 1713 by sdw.HSecNS.
     Starts at XSTMS0 and is 4Cx bytes long
<<< Fix NS to show proper time spent in H-SEC process >>>

PATCH added on 880426 at 2214 by sdw.KDCMTS.
     Starts at XNEI7B and is 6x bytes long
	Continues at PATCH1+350 and is 1Ax bytes long
<<< Fix Xray KD command to correctly count number of command circuits >>>

PATCH added on 880408 at 1000 by pk.siocopy.
     Starts at sioi5+8 and is 36x bytes long
<<< Remove SIO input problems with foreground/background collisions >>>

PATCH added on 880628 at 1500 by sdw.SIOCH2.
     Starts at siosnd-4 and is 4x bytes long
	Continues at sion4-6 and is 6x bytes long
	Continues at PATCH1+36A and is 12x bytes long
<<< Correct logic which flagged an unloaded line as saturated >>>

PATCH added on 880623 at 1330 by sdw.OOPS.
     Starts at SFAIL-0a and is 6x bytes long
	Continues at PATCH1+37C and is 10x bytes long
<<< Save R0 and R1 when doing software crashes >>>

PATCH added on 880706 at 1301 by CMR.XRDBRM.
     Starts at DBEGI8 and is 6x bytes long
	Continues at PATCH1+38C and is 20x bytes long
<<< Reset INTXRF flag when entering 'DB' command >>>

PATCH added on 880725 at 1500 by sdw.DBFILL.
     Starts at DBEGI5 and is 6x bytes long
	Continues at PATCH1+39C and is 1Ex bytes long
<<< Prevent crash caused by delay circuits using all bufferlets >>>

PATCH added on 880729 at 1600 by SDW.ZR7263.
     Starts at dsozw7 and is 6x bytes long
	Continues at PATCH1+3BA and is 1Cx bytes long
<<< Fix problem with Zap With Reason which leads to a 7263 crash >>>

PATCH added on 880930 at 115 by sdw.NI cmd.
     Starts at XNID+10 and is 6x bytes long
	Continues at qrychn-6 and is 6x bytes long
	Continues at PATCH1+3D6 and is 100x bytes long
<<< Change Xray NI command to also display the NETIDs for each line >>>

PATCH added on 881128 at 0113 by sdw.GETPWR.
     Starts at getpwr+18 and is 0Ex bytes long
<<< Fix Xray GP to work for all Node and Host numbers >>>

PATCH added on 890625 at 1645 by sdw.ExpOld.
     Starts at atl061+4 and is 6x bytes long
	Continues at PATCH1+4D0 and is 60x bytes long
<<< Don't let links between v5.20+ neighbors come up on old style resets >>>

PATCH added on 881202 at 2313 by sdw.?slot.
     Starts at 0e00a4 and is 6x bytes long
<<< Set up Segment E so that DDT ?SLOT command works properly >>>

PATCH added on 881202 at 2255 by sdw.W.SegE.
     Starts at write4+0a and is 6x bytes long
	Continues at writf4+0a and is 6x bytes long
	Continues at chkdat+0f*4 and is 4x bytes long
	Continues at PATCH1+522 and is 40x bytes long
<<< Prevent Xray W or WS command from writing to Seg E or Seg F >>>

PATCH added on 881213 at 1655 by sdw.FIX RB.
     Starts at xrdbu3+4 and is 6x bytes long
	Continues at PATCH1+552 and is 40x bytes long
<<< Put a range check on Xray RB command >>>

PATCH added on 881213 at 1655 by sdw.FIX SM.
     Starts at setme0+6 and is 6x bytes long
	Continues at PATCH1+572 and is 40x bytes long
<<< Put a range check on Xray SM command >>>

PATCH added on 881213 at 1655 by sdw.FIX AP.
     Starts at setpr0+6 and is 6x bytes long
	Continues at PATCH1+584 and is 40x bytes long
<<< Put a range check on Xray AP command >>>

PATCH added on 890207 at 250 by sdw.HSslot.
     Starts at hstdi5+8 and is 4x bytes long
<<< Fix Xray HS <value> S command to display all hosts for that slot >>>

PATCH added on 890222 at 141 by sdw.KD r8.
     Starts at xneig2-16 and is 12x bytes long
<<< Fix potential crash due to improperly orderred instructions >>>

PATCH added on 890222 at 0059 by sdw.crHDLC.
     Starts at ldrp54-1a and is 6x bytes long
	Continues at PATCH1+596 and is 40x bytes long
<<< Only put HDLC CKSUM ERROR in Crypto log when line is bad >>>

PATCH added on 890707 at 1431 by sdw.XRAYGG.
     Starts at xggad4+8 and is 6x bytes long
	Continues at switch-0a and is 6x bytes long
	Continues at PATCH1+5BA and is 80x bytes long
<<< Patch to allow GG macro to have lowercase Xray usernames >>>

PATCH added on 890929 at 1100 by SHM.CpyInt.
     Starts at SIOIZ4 and is 6x bytes long
	Continues at PATCH1+626 and is 30x bytes long
<<< RESTORE SIOINT CCW >>>

PATCH added on 891009 at 1305 by sln.tdmask.
     Starts at TRCSUP+18 and is 6x bytes long
	Continues at PATCH1+646 and is 14x bytes long
<<< Set XRAY TA/TD/TE to properly mask cmd chnl msgs >>>

PATCH added on 870716 at 1220 by sln.fixta.
     Starts at TRCDUX+10 and is 1Ax bytes long
<<< Set XRAY TA command to output period for ascii-ctrl >>>
End of assembly
1;F   ND6721.N00

;X   (SOURCE)TIII05.WRT

SEG0,RSEG0;P
SEG1,S1SIZE;P
SEGD,SDSIZE;P
SEGF,SFSIZE;P
CTA,CTASIZ;P
%P
%Q
EXIT

!
!; Create the Engine code that runs in Slot 1 from NDxxxx.T01
!R (SYS)NAD
1.5
;X   ND6721.C01

;;      EBUS INTERFACE COMMAND FILE - SYSTEM #: 30  
;@   (SOURCE)EBUS02.I00

End of assembly
;@   ND6721.T01

End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SEG 2 SIZE = 1100

RING 0E0000 101BA 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
CRASH 101BA 103B8
STATUS 103B8 105EE
EBUS 105EE 10CA4
DEFAULT AREA PROTECTIONS ASSUMED.

SEGMENT 0-length 404d, requires 200x bytes of core.
SEGMENT 1-length 3364d, requires 0E00x bytes of core.
SEGMENT 2-length 4480d, requires 1200x bytes of core.
SEGMENT 3-length 65536d, requires 10000x bytes of core.
SEGMENT 4-length 65536d, requires 10000x bytes of core.
SEGMENT 5-length 65536d, requires 10000x bytes of core.
SEGMENT 6-length 65536d, requires 10000x bytes of core.
SEGMENT 0E-length 476d, requires 200x bytes of core.
       265d K-bytes of core
End of assembly
1;F   ND6721.N01

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!
!; Build BND file.  Note that the 68K code is the same in all bases.
!R (SYS)MERLIN
MERGE AND LINK ISIS SLOTS
VERSION  2.10
* ND6721.BND=ND6721.NIB,ND6721.N00,ND6721.N01,(EBUS)EBUS02.O02/S




         SLOT MAP

SLOT BEGINS ENDS
 0   16400  6DBFF
 1   6DC00  B03FF
 2   B0400  C93FF




    MAP OF SLOT  0

SEG  BEGINS ENDS
 0   17400  1E1FF
 1   1E200  2AEFF
 2   2AF00  3AEFF
 3   3AF00  4AEFF
 4   4AF00  5AEFF
 5   5AF00  65EFF
13   65F00  6DBFF
14   16400  173FF




    MAP OF SLOT  1

SEG  BEGINS ENDS
 0   6DE00  6DF93
 1   6E000  6ED23
 2   6EE00  6FF7F
 3   70000  7FFFF
 4   80000  8FFFF
 5   90000  9FFFF
 6   A0000  AFFFF
14   6DC00  6DDDB




    MAP OF SLOT  2   (S-RECORD)

BEGINS ENDS
B0400  B26AC

EXIT

!
!;The NIB files are not needed and can be deleted.
!DELETE ND6721.NIB,ND6721.N00,ND6721.N01


!R (SYS)CKSUM
INPUT: ND6721.*
RIGFOL ND6721.LOG
RIWJAL ND6721.BAK
WEGCIR ND6721.C01
ZITTUJ ND6721.CMD
BIBXOB ND6721.C00
CAJBUN ND6721.TYM
TUVLUG ND6721.T01
QUYSIJ ND6721.BND
INPUT: 

!DIRECT ND6721.BND

ND6721  BND      70   9-NOV-89 2129    ALL RD  NO     35072          

!LOGOUT
1579.35 tru
terminal time: 0:06:57

[Job (EBUS)EBUS.CTL completed]
[Output recorded in file (EBUS)ND6721.LOG]
!PCOM ND6722.LOG=EBUS ND6722/LOG
!SYSNO
TYMSHARE F33-P035/E 3-2-89
!DAYTIME
9-NOV-1989 21:30:32 PST

!; This CTL file rebuilds the BND file for an EBUS base from scratch.
!; The following files must exist:
!DIRECT (EBUS)EBUS02.O02

EBUS02  O02       9   9-MAY-88 1336    ALL RD  NO      4096          

!DIRECT ND6722.TYM,ND6722.T01,ND6722.CMD,ND6722.C00,ND6722.C01

ND6722  T01       2   9-NOV-89 1807    ALL RD  NO        53          
ND6722  TYM       3   9-NOV-89 1720    ALL RD  NO       636          
ND6722  C00       2  26-AUG-88 1859    ALL RD  NO        42          
ND6722  CMD       2  26-AUG-88 1856    ALL RD  NO        43          
ND6722  C01       2  24-AUG-88 1720    ALL RD  NO        37          

!DIRECT ISXRAY.GGY,GOODGY.NQA

GOODGY  NQA       2  14-NOV-88  906    ALL RD  NO       362          
ISXRAY  GGY       2   2-JUL-87 1305    ALL RD  NO       128          

!
!; Create the ISIS Kernel from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND6722.CMD

;; ISIS-II Version 7.03 Sample Command File
;@   (SOURCE)I2IS07.I03

End of assembly
;@   ND6722.TYM

End of assembly
;@   (TYMNET)GOODGY.NQA

End of assembly
;@   (SOURCE)I2IS07.R03

SYNC specified but not assigned...(warning only, no change)
SYNC 1BD6 2442
CLOCKS 2442 2582
MBOARD 2582 26E8
IPI 26E8 2946
FLASH 2946 2DE6
KCAREA 2DE6 2FDC
TTY 2FDC 3300
KERNEL 3300 7B7C
DDT 7B7C 0AB00
   3273d bufferlets allocated to dispatcher
DISPAT 0AB00 16400
.............................................



    ***  ISIS-II  ***
      Version 7.3d

TYMNET-II Node 6722, Kernel Host 4531
Maximum slot number is 2

       >>> HARDWARE CONFIGURATION <<<

Expects enhanced sync microcode
Expects enhanced async microcode
Expects MAC II
Expects maximum baud rate of 1200
Expects 1 sync board(s)
Expects 1 SIO mother-board processor(s)
   Board 0 has 2 channel(s), device address 80
Expects 1 IPI processor(s)
   IPI device 0 has device address 88

       >>> SLOT CONFIGURATIONS <<<

SLOT 0, NODE CODE, has 350 K-bytes of core, from 16400 to 6DBFF
   2 logical unit(s)
   L.U. 0 is M.Board channel 0
   L.U. 1 is M.Board channel 1

SLOT 1 has 266 K-bytes of core, from 6DC00 to 0B03FF
   1 logical unit(s)
   L.U. 0 is M.Board channel 0

SLOT 2 has 100 K-bytes of core, from 0B0400 to 0C93FF
   no logical units

***Highest location used in this configuration is 0C9400

Requires 809d k-bytes of core


.............................................


Code Generated:  11/10/89  05:32:35 GMT

.............................................

End of assembly
;X   (SOURCE)I2IS07.P03

;; ISIS-II Version 7.03 Patch File

;@   (SOURCE)I2IS07.Q03

ISIS 7.03 PATCH 1
  Fixes reversed CTS and DSR on HDLC micro.

ISIS 7.03 PATCH 2
  This patch is superseded by patch 4.

ISIS 7.03 PATCH 3
  Causes ISIS to read memory error log before crashing.

ISIS 7.03 PATCH 4
  Refreshes CPU and MAC registers to avoid degradation.
  (Updated version of patch 2)

ISIS 7.03 PATCH 5
  Correctly initializes registers for checking newlog bit array

ISIS 7.03 PATCH 6
  Wraps around accounting char counts when count exceeds 28 bits

ISIS 7.03 PATCH 7
Patch to prevent disk from doing retries on a 
controller errror

ISIS 7.03 PATCH 8
  Corrects initialization order of Emulated Sync.
  Also it allows window for interrupts to be flushed
  during initialization.

ISIS 7.03 PATCH 9
have DCSLOT free channels for ports in time-out
or clean-up

ISIS 7.03 PATCH 10
Have KRASHI report crashes to dispatcher
and pause slot for 4 seconds

ISIS 7.03 PATCH 11
Keep DDT Mask command from crashing machine

ISIS 7.03 PATCH 12
Have restart SVC disable watch-frog timer

ISIS 7.03 PATCH 13
Crash ISIS on DMA parity error

ISIS 7.03 PATCH 14 
 CLEAR DHANG ON SYSTEM CRASH 

ISIS 7.03 PATCH 15 
THIS PATCH IS USED TO CORRECT  A TID RECOGNITION5 
FOR 300 BAUD WHEN USING HIGH SPEED INTERRUPTS.

ISIS 7.03 PATCH 16 
ISIS VERSION GREATER 6 ALLOWS WRITING PAST SEGMENT 
BOUNDARIES WITHOUT PROTECTION.  CHANGES MADE FOR  
MULTIMEG SUPPORT INDUCED THIS PROBLEM.  THIS PATCH 
PROTECTS ISIS FROM OVER WRITING BOUNDARIES. 
See NSR 1772 

ISIS 7.03 PATCH 17
This patch fixes timing problems associated
with the initialization of HDLC micro-engine
channels that are emulation TYMNET sync.

End of assembly


1;F   ND6722.NIB

70;T
0,SUMTBL;P
INTLEN,IEND-INTLEN;P
%P
SEGF,SFSIZE;P
%Q
EXIT

!
!; Create the node code for slot 0 from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND6722.C00

;; UPDATED 88/05/18 ND6722 ISIS-II T-II JOE SMITH
;A   (SOURCE)TII05.I22

End of assembly
;A   ND6722.TYM

End of assembly
;A   (TYMNET)ISXRAY.GGY

End of assembly
;A   (SOURCE)TII05.R22

End of assembly
;A   (SOURCE)TII05.F22


TYMNET-II Node Code, Version 5.22, ISIS Node

Node: 6722  Kernel Host: 4531

Ports:		Lines:		Links:
   128d Pthru	     0d Sync	     2d TIILNK
     3d Xray	     2d SIO	     0d XLNK
		     2d Total	     2d Total
   256d Disp
     3d Krnl

Maximum number of circuits =  431d 


Bufferlet storage space:

  5E48x bytes (  24d KB) for  431d circuit buffers ( 56d bytes per circuit)
 22112x bytes ( 137d KB) for  271d history buffers (514d bytes per termination)
 27F5Ax bytes ( 160d KB) for  431d total circuits  (379d bytes per circuit)


Memory used by this configuration = 57800x, 350d KB.

Optimal amount of memory for this configuration =   229d  KB.

End of assembly
;A   (SOURCE)TII05.P22


       NETID is 1d.  This is a TYMNET network node.




PATCH added on 870811 at 0900 by JLADEN.
     Starts at ATTLI0+20 and is 10x bytes long
<<< FIX RESET VERSION COMPATIBILTY PROBLEM >>>

PATCH added on 870907 at 0138 by SDW.
     Starts at RTBFA2+4 and is 6x bytes long
<<< PATCH TO FIX REGISTER USAGE BY IMPROVED REBUILD ROUTINE >>>

PATCH added on 870211 at 1800 by SDW.
     Starts at HSTDI4+0C and is 4x bytes long
<<< Patch to have XRAY HS U command display up hosts that have no ports >>>

PATCH added on 880121 at 1301 by sdw.RESET1.
     Starts at ATTL05-8 and is 6x bytes long
	Continues at PATCH1+0 and is 5Cx bytes long
<<< Make old style reset packet always have old style reset data >>>

PATCH added on 880829 at 1400 by sdw.RESET2.
     Starts at ATTLIN+8 and is 6x bytes long
	Continues at PATCH1+5C and is 54x bytes long
<<< Handle neighbor switching between old and expanded resets >>>

PATCH added on 880126 at 1756 by sdw.RES4M1.
     Starts at G04MIN and is 6x bytes long
	Continues at PATCH0+0 and is 0Ex bytes long
	Continues at PATCH1+96 and is 0D8x bytes long
<<< Send a old style reset every four minutes to help lines to come up >>>

PATCH added on 880126 at 1845 by sdw.RES4M2.
     Starts at G01SE3 and is 6x bytes long
	Continues at PATCH1+16E and is 8Ax bytes long
<<< Part 2 of patch to occasionally send old style resets. >>>

PATCH added on 880218 at 1600 by sdw.SIOCHN.
     Starts at siopt4+8 and is 2x bytes long
<<< Allow SIO to send more than 40 packets per second >>>

PATCH added on 880218 at 2330 by sdw.SIORSPC.
     Starts at SIORS and is 10x bytes long
	Continues at SIORR and is 6x bytes long
	Continues at PATCH0+12 and is 4x bytes long
	Continues at PATCH1+1F8 and is 28x bytes long
<<< Part 1 of patch to send only 1 SIO reset per second >>>

PATCH added on 880218 at 2356 by sdw.SIORSP2.
     Starts at G01PER and is 6x bytes long
	Continues at PATCH1+21E and is 1Ex bytes long
<<< Part 2 of patch to send only 1 SIO reset per second >>>

PATCH added on 880306 at 109 by sdw.FIX DB.
     Starts at DBEGIN and is 6x bytes long
	Continues at PATCH1+23C and is 1Cx bytes long
<<< Disable DB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 123 by sdw.FIX WB.
     Starts at XWRBUF and is 6x bytes long
	Continues at PATCH1+258 and is 30x bytes long
	Continues at xwrbuf+6 and is 12x bytes long
<<< Disable WB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 134 by sdw.REMZAP.
     Starts at REMZA6+2 and is 6x bytes long
	Continues at PATCH1+27A and is 10x bytes long
<<< Fix potential crash when Xray user zaps before clearing delay circuits >>>

PATCH added on 880307 at 0934 by sdw.NETIDBG.
     Starts at ATTNID and is 12x bytes long
	Continues at PATCH0+16 and is 8x bytes long
<<< Do not put neighbor with bad NETID on node's bad guy list >>>

PATCH added on 880317 at 1523 by sdw.XRAYIN.
     Starts at XRYIN7 and is 4x bytes long
<<< Fix local XRAY to have a dismiss when waiting for character >>>

PATCH added on 880408 at 1500 by SLN.FNDLNK.
     Starts at CRQZOG+6 and is 0Ex bytes long
	Continues at LEP9V2-20 and is 0Ex bytes long
	Continues at PATCH1+28A and is 4Cx bytes long
<<< Fix crash 0007 from Qexec corruption >>>

PATCH added on 880410 at 1525 by sdw.ATT.R2.
     Starts at ATTLDW and is 6x bytes long
	Continues at PATCH1+2D6 and is 14x bytes long
<<< Fix crash in line attach logic due to corrupted register >>>

PATCH added on 880405 at 2334 by sdw.WSZDWN.
     Starts at MCHD04+4 and is 6x bytes long
	Continues at TRLINZ and is 6x bytes long
	Continues at PATCH1+2EA and is 66x bytes long
	Continues at PATCH0+1E and is 10x bytes long
<<< Fix windowsize matchdown to restore to original when link goes down >>>

PATCH added on 880425 at 1713 by sdw.HSecNS.
     Starts at XSTMS0 and is 4Cx bytes long
<<< Fix NS to show proper time spent in H-SEC process >>>

PATCH added on 880426 at 2214 by sdw.KDCMTS.
     Starts at XNEI7B and is 6x bytes long
	Continues at PATCH1+350 and is 1Ax bytes long
<<< Fix Xray KD command to correctly count number of command circuits >>>

PATCH added on 880408 at 1000 by pk.siocopy.
     Starts at sioi5+8 and is 36x bytes long
<<< Remove SIO input problems with foreground/background collisions >>>

PATCH added on 880628 at 1500 by sdw.SIOCH2.
     Starts at siosnd-4 and is 4x bytes long
	Continues at sion4-6 and is 6x bytes long
	Continues at PATCH1+36A and is 12x bytes long
<<< Correct logic which flagged an unloaded line as saturated >>>

PATCH added on 880623 at 1330 by sdw.OOPS.
     Starts at SFAIL-0a and is 6x bytes long
	Continues at PATCH1+37C and is 10x bytes long
<<< Save R0 and R1 when doing software crashes >>>

PATCH added on 880706 at 1301 by CMR.XRDBRM.
     Starts at DBEGI8 and is 6x bytes long
	Continues at PATCH1+38C and is 20x bytes long
<<< Reset INTXRF flag when entering 'DB' command >>>

PATCH added on 880725 at 1500 by sdw.DBFILL.
     Starts at DBEGI5 and is 6x bytes long
	Continues at PATCH1+39C and is 1Ex bytes long
<<< Prevent crash caused by delay circuits using all bufferlets >>>

PATCH added on 880729 at 1600 by SDW.ZR7263.
     Starts at dsozw7 and is 6x bytes long
	Continues at PATCH1+3BA and is 1Cx bytes long
<<< Fix problem with Zap With Reason which leads to a 7263 crash >>>

PATCH added on 880930 at 115 by sdw.NI cmd.
     Starts at XNID+10 and is 6x bytes long
	Continues at qrychn-6 and is 6x bytes long
	Continues at PATCH1+3D6 and is 100x bytes long
<<< Change Xray NI command to also display the NETIDs for each line >>>

PATCH added on 881128 at 0113 by sdw.GETPWR.
     Starts at getpwr+18 and is 0Ex bytes long
<<< Fix Xray GP to work for all Node and Host numbers >>>

PATCH added on 890625 at 1645 by sdw.ExpOld.
     Starts at atl061+4 and is 6x bytes long
	Continues at PATCH1+4D0 and is 60x bytes long
<<< Don't let links between v5.20+ neighbors come up on old style resets >>>

PATCH added on 881202 at 2313 by sdw.?slot.
     Starts at 0e00a4 and is 6x bytes long
<<< Set up Segment E so that DDT ?SLOT command works properly >>>

PATCH added on 881202 at 2255 by sdw.W.SegE.
     Starts at write4+0a and is 6x bytes long
	Continues at writf4+0a and is 6x bytes long
	Continues at chkdat+0f*4 and is 4x bytes long
	Continues at PATCH1+522 and is 40x bytes long
<<< Prevent Xray W or WS command from writing to Seg E or Seg F >>>

PATCH added on 881213 at 1655 by sdw.FIX RB.
     Starts at xrdbu3+4 and is 6x bytes long
	Continues at PATCH1+552 and is 40x bytes long
<<< Put a range check on Xray RB command >>>

PATCH added on 881213 at 1655 by sdw.FIX SM.
     Starts at setme0+6 and is 6x bytes long
	Continues at PATCH1+572 and is 40x bytes long
<<< Put a range check on Xray SM command >>>

PATCH added on 881213 at 1655 by sdw.FIX AP.
     Starts at setpr0+6 and is 6x bytes long
	Continues at PATCH1+584 and is 40x bytes long
<<< Put a range check on Xray AP command >>>

PATCH added on 890207 at 250 by sdw.HSslot.
     Starts at hstdi5+8 and is 4x bytes long
<<< Fix Xray HS <value> S command to display all hosts for that slot >>>

PATCH added on 890222 at 141 by sdw.KD r8.
     Starts at xneig2-16 and is 12x bytes long
<<< Fix potential crash due to improperly orderred instructions >>>

PATCH added on 890222 at 0059 by sdw.crHDLC.
     Starts at ldrp54-1a and is 6x bytes long
	Continues at PATCH1+596 and is 40x bytes long
<<< Only put HDLC CKSUM ERROR in Crypto log when line is bad >>>

PATCH added on 890707 at 1431 by sdw.XRAYGG.
     Starts at xggad4+8 and is 6x bytes long
	Continues at switch-0a and is 6x bytes long
	Continues at PATCH1+5BA and is 80x bytes long
<<< Patch to allow GG macro to have lowercase Xray usernames >>>

PATCH added on 890929 at 1100 by SHM.CpyInt.
     Starts at SIOIZ4 and is 6x bytes long
	Continues at PATCH1+626 and is 30x bytes long
<<< RESTORE SIOINT CCW >>>

PATCH added on 891009 at 1305 by sln.tdmask.
     Starts at TRCSUP+18 and is 6x bytes long
	Continues at PATCH1+646 and is 14x bytes long
<<< Set XRAY TA/TD/TE to properly mask cmd chnl msgs >>>

PATCH added on 870716 at 1220 by sln.fixta.
     Starts at TRCDUX+10 and is 1Ax bytes long
<<< Set XRAY TA command to output period for ascii-ctrl >>>
End of assembly
1;F   ND6722.N00

;X   (SOURCE)TIII05.WRT

SEG0,RSEG0;P
SEG1,S1SIZE;P
SEGD,SDSIZE;P
SEGF,SFSIZE;P
CTA,CTASIZ;P
%P
%Q
EXIT

!
!; Create the Engine code that runs in Slot 1 from NDxxxx.T01
!R (SYS)NAD
1.5
;X   ND6722.C01

;;      EBUS INTERFACE COMMAND FILE - SYSTEM #: 74  
;@   (SOURCE)EBUS02.I00

End of assembly
;@   ND6722.T01

End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SEG 2 SIZE = 1100

RING 0E0000 101BA 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
CRASH 101BA 103B8
STATUS 103B8 105EE
EBUS 105EE 10CA4
DEFAULT AREA PROTECTIONS ASSUMED.

SEGMENT 0-length 404d, requires 200x bytes of core.
SEGMENT 1-length 3364d, requires 0E00x bytes of core.
SEGMENT 2-length 4480d, requires 1200x bytes of core.
SEGMENT 3-length 65536d, requires 10000x bytes of core.
SEGMENT 4-length 65536d, requires 10000x bytes of core.
SEGMENT 5-length 65536d, requires 10000x bytes of core.
SEGMENT 6-length 65536d, requires 10000x bytes of core.
SEGMENT 0E-length 476d, requires 200x bytes of core.
       265d K-bytes of core
End of assembly
1;F   ND6722.N01

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!
!; Build BND file.  Note that the 68K code is the same in all bases.
!R (SYS)MERLIN
MERGE AND LINK ISIS SLOTS
VERSION  2.10
* ND6722.BND=ND6722.NIB,ND6722.N00,ND6722.N01,(EBUS)EBUS02.O02/S




         SLOT MAP

SLOT BEGINS ENDS
 0   16400  6DBFF
 1   6DC00  B03FF
 2   B0400  C93FF




    MAP OF SLOT  0

SEG  BEGINS ENDS
 0   17400  1E1FF
 1   1E200  2AEFF
 2   2AF00  3AEFF
 3   3AF00  4AEFF
 4   4AF00  5AEFF
 5   5AF00  65EFF
13   65F00  6DBFF
14   16400  173FF




    MAP OF SLOT  1

SEG  BEGINS ENDS
 0   6DE00  6DF93
 1   6E000  6ED23
 2   6EE00  6FF7F
 3   70000  7FFFF
 4   80000  8FFFF
 5   90000  9FFFF
 6   A0000  AFFFF
14   6DC00  6DDDB




    MAP OF SLOT  2   (S-RECORD)

BEGINS ENDS
B0400  B26AC

EXIT

!
!;The NIB files are not needed and can be deleted.
!DELETE ND6722.NIB,ND6722.N00,ND6722.N01


!R (SYS)CKSUM
INPUT: ND6722.*
GODQOQ ND6722.LOG
NOJZIV ND6722.BAK
GEGCEV ND6722.C01
MOQHAS ND6722.CMD
LEMHUM ND6722.C00
SIXDEK ND6722.TYM
YEKRIY ND6722.T01
LOYDEV ND6722.BND
INPUT: 

!DIRECT ND6722.BND

ND6722  BND      70   9-NOV-89 2136    ALL RD  NO     35072          

!LOGOUT
1571.14 tru
terminal time: 0:06:15

[Job (EBUS)EBUS.CTL completed]
[Output recorded in file (EBUS)ND6722.LOG]
!PCOM ND7004.LOG=EBUS ND7004/LOG
!SYSNO
TYMSHARE F33-P035/E 3-2-89
!DAYTIME
9-NOV-1989 21:37:27 PST

!; This CTL file rebuilds the BND file for an EBUS base from scratch.
!; The following files must exist:
!DIRECT (EBUS)EBUS02.O02

EBUS02  O02       9   9-MAY-88 1336    ALL RD  NO      4096          

!DIRECT ND7004.TYM,ND7004.T01,ND7004.CMD,ND7004.C00,ND7004.C01

ND7004  T01       2   9-NOV-89 1807    ALL RD  NO        53          
ND7004  TYM       3   9-NOV-89 1713    ALL RD  NO       698          
ND7004  C00       2  26-AUG-88 1859    ALL RD  NO        42          
ND7004  CMD       2  26-AUG-88 1856    ALL RD  NO        43          
ND7004  C01       2  24-AUG-88 1720    ALL RD  NO        37          

!DIRECT ISXRAY.GGY,GOODGY.NQA

GOODGY  NQA       2  14-NOV-88  906    ALL RD  NO       362          
ISXRAY  GGY       2   2-JUL-87 1305    ALL RD  NO       128          

!
!; Create the ISIS Kernel from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND7004.CMD

;; ISIS-II Version 7.03 Sample Command File
;@   (SOURCE)I2IS07.I03

End of assembly
;@   ND7004.TYM

End of assembly
;@   (TYMNET)GOODGY.NQA

End of assembly
;@   (SOURCE)I2IS07.R03

SYNC specified but not assigned...(warning only, no change)
SYNC 1BD6 2442
CLOCKS 2442 2582
MBOARD 2582 26E8
IPI 26E8 2946
FLASH 2946 2DE6
KCAREA 2DE6 2FDC
TTY 2FDC 3300
KERNEL 3300 7B7C
DDT 7B7C 0AB00
   3273d bufferlets allocated to dispatcher
DISPAT 0AB00 16400
.............................................



    ***  ISIS-II  ***
      Version 7.3d

TYMNET-II Node 7004, Kernel Host 4343
Maximum slot number is 2

       >>> HARDWARE CONFIGURATION <<<

Expects enhanced sync microcode
Expects enhanced async microcode
Expects MAC II
Expects maximum baud rate of 1200
Expects 1 sync board(s)
Expects 1 SIO mother-board processor(s)
   Board 0 has 2 channel(s), device address 80
Expects 1 IPI processor(s)
   IPI device 0 has device address 88

       >>> SLOT CONFIGURATIONS <<<

SLOT 0, NODE CODE, has 350 K-bytes of core, from 16400 to 6DBFF
   2 logical unit(s)
   L.U. 0 is M.Board channel 0
   L.U. 1 is M.Board channel 1

SLOT 1 has 266 K-bytes of core, from 6DC00 to 0B03FF
   1 logical unit(s)
   L.U. 0 is M.Board channel 0

SLOT 2 has 100 K-bytes of core, from 0B0400 to 0C93FF
   no logical units

***Highest location used in this configuration is 0C9400

Requires 809d k-bytes of core


.............................................


Code Generated:  11/10/89  05:39:35 GMT

.............................................

End of assembly
;X   (SOURCE)I2IS07.P03

;; ISIS-II Version 7.03 Patch File

;@   (SOURCE)I2IS07.Q03

ISIS 7.03 PATCH 1
  Fixes reversed CTS and DSR on HDLC micro.

ISIS 7.03 PATCH 2
  This patch is superseded by patch 4.

ISIS 7.03 PATCH 3
  Causes ISIS to read memory error log before crashing.

ISIS 7.03 PATCH 4
  Refreshes CPU and MAC registers to avoid degradation.
  (Updated version of patch 2)

ISIS 7.03 PATCH 5
  Correctly initializes registers for checking newlog bit array

ISIS 7.03 PATCH 6
  Wraps around accounting char counts when count exceeds 28 bits

ISIS 7.03 PATCH 7
Patch to prevent disk from doing retries on a 
controller errror

ISIS 7.03 PATCH 8
  Corrects initialization order of Emulated Sync.
  Also it allows window for interrupts to be flushed
  during initialization.

ISIS 7.03 PATCH 9
have DCSLOT free channels for ports in time-out
or clean-up

ISIS 7.03 PATCH 10
Have KRASHI report crashes to dispatcher
and pause slot for 4 seconds

ISIS 7.03 PATCH 11
Keep DDT Mask command from crashing machine

ISIS 7.03 PATCH 12
Have restart SVC disable watch-frog timer

ISIS 7.03 PATCH 13
Crash ISIS on DMA parity error

ISIS 7.03 PATCH 14 
 CLEAR DHANG ON SYSTEM CRASH 

ISIS 7.03 PATCH 15 
THIS PATCH IS USED TO CORRECT  A TID RECOGNITION5 
FOR 300 BAUD WHEN USING HIGH SPEED INTERRUPTS.

ISIS 7.03 PATCH 16 
ISIS VERSION GREATER 6 ALLOWS WRITING PAST SEGMENT 
BOUNDARIES WITHOUT PROTECTION.  CHANGES MADE FOR  
MULTIMEG SUPPORT INDUCED THIS PROBLEM.  THIS PATCH 
PROTECTS ISIS FROM OVER WRITING BOUNDARIES. 
See NSR 1772 

ISIS 7.03 PATCH 17
This patch fixes timing problems associated
with the initialization of HDLC micro-engine
channels that are emulation TYMNET sync.

End of assembly


1;F   ND7004.NIB

70;T
0,SUMTBL;P
INTLEN,IEND-INTLEN;P
%P
SEGF,SFSIZE;P
%Q
EXIT

!
!; Create the node code for slot 0 from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND7004.C00

;; UPDATED 88/05/18 ND7004 ISIS-II T-II JOE SMITH
;A   (SOURCE)TII05.I22

End of assembly
;A   ND7004.TYM

End of assembly
;A   (TYMNET)ISXRAY.GGY

End of assembly
;A   (SOURCE)TII05.R22

End of assembly
;A   (SOURCE)TII05.F22


TYMNET-II Node Code, Version 5.22, ISIS Node

Node: 7004  Kernel Host: 4343

Ports:		Lines:		Links:
   128d Pthru	     0d Sync	     2d TIILNK
     3d Xray	     2d SIO	     0d XLNK
		     2d Total	     2d Total
   256d Disp
     3d Krnl

Maximum number of circuits =  431d 


Bufferlet storage space:

  5E48x bytes (  24d KB) for  431d circuit buffers ( 56d bytes per circuit)
 22112x bytes ( 137d KB) for  271d history buffers (514d bytes per termination)
 27F5Ax bytes ( 160d KB) for  431d total circuits  (379d bytes per circuit)


Memory used by this configuration = 57800x, 350d KB.

Optimal amount of memory for this configuration =   229d  KB.

End of assembly
;A   (SOURCE)TII05.P22


       NETID is 1d.  This is a TYMNET network node.




PATCH added on 870811 at 0900 by JLADEN.
     Starts at ATTLI0+20 and is 10x bytes long
<<< FIX RESET VERSION COMPATIBILTY PROBLEM >>>

PATCH added on 870907 at 0138 by SDW.
     Starts at RTBFA2+4 and is 6x bytes long
<<< PATCH TO FIX REGISTER USAGE BY IMPROVED REBUILD ROUTINE >>>

PATCH added on 870211 at 1800 by SDW.
     Starts at HSTDI4+0C and is 4x bytes long
<<< Patch to have XRAY HS U command display up hosts that have no ports >>>

PATCH added on 880121 at 1301 by sdw.RESET1.
     Starts at ATTL05-8 and is 6x bytes long
	Continues at PATCH1+0 and is 5Cx bytes long
<<< Make old style reset packet always have old style reset data >>>

PATCH added on 880829 at 1400 by sdw.RESET2.
     Starts at ATTLIN+8 and is 6x bytes long
	Continues at PATCH1+5C and is 54x bytes long
<<< Handle neighbor switching between old and expanded resets >>>

PATCH added on 880126 at 1756 by sdw.RES4M1.
     Starts at G04MIN and is 6x bytes long
	Continues at PATCH0+0 and is 0Ex bytes long
	Continues at PATCH1+96 and is 0D8x bytes long
<<< Send a old style reset every four minutes to help lines to come up >>>

PATCH added on 880126 at 1845 by sdw.RES4M2.
     Starts at G01SE3 and is 6x bytes long
	Continues at PATCH1+16E and is 8Ax bytes long
<<< Part 2 of patch to occasionally send old style resets. >>>

PATCH added on 880218 at 1600 by sdw.SIOCHN.
     Starts at siopt4+8 and is 2x bytes long
<<< Allow SIO to send more than 40 packets per second >>>

PATCH added on 880218 at 2330 by sdw.SIORSPC.
     Starts at SIORS and is 10x bytes long
	Continues at SIORR and is 6x bytes long
	Continues at PATCH0+12 and is 4x bytes long
	Continues at PATCH1+1F8 and is 28x bytes long
<<< Part 1 of patch to send only 1 SIO reset per second >>>

PATCH added on 880218 at 2356 by sdw.SIORSP2.
     Starts at G01PER and is 6x bytes long
	Continues at PATCH1+21E and is 1Ex bytes long
<<< Part 2 of patch to send only 1 SIO reset per second >>>

PATCH added on 880306 at 109 by sdw.FIX DB.
     Starts at DBEGIN and is 6x bytes long
	Continues at PATCH1+23C and is 1Cx bytes long
<<< Disable DB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 123 by sdw.FIX WB.
     Starts at XWRBUF and is 6x bytes long
	Continues at PATCH1+258 and is 30x bytes long
	Continues at xwrbuf+6 and is 12x bytes long
<<< Disable WB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 134 by sdw.REMZAP.
     Starts at REMZA6+2 and is 6x bytes long
	Continues at PATCH1+27A and is 10x bytes long
<<< Fix potential crash when Xray user zaps before clearing delay circuits >>>

PATCH added on 880307 at 0934 by sdw.NETIDBG.
     Starts at ATTNID and is 12x bytes long
	Continues at PATCH0+16 and is 8x bytes long
<<< Do not put neighbor with bad NETID on node's bad guy list >>>

PATCH added on 880317 at 1523 by sdw.XRAYIN.
     Starts at XRYIN7 and is 4x bytes long
<<< Fix local XRAY to have a dismiss when waiting for character >>>

PATCH added on 880408 at 1500 by SLN.FNDLNK.
     Starts at CRQZOG+6 and is 0Ex bytes long
	Continues at LEP9V2-20 and is 0Ex bytes long
	Continues at PATCH1+28A and is 4Cx bytes long
<<< Fix crash 0007 from Qexec corruption >>>

PATCH added on 880410 at 1525 by sdw.ATT.R2.
     Starts at ATTLDW and is 6x bytes long
	Continues at PATCH1+2D6 and is 14x bytes long
<<< Fix crash in line attach logic due to corrupted register >>>

PATCH added on 880405 at 2334 by sdw.WSZDWN.
     Starts at MCHD04+4 and is 6x bytes long
	Continues at TRLINZ and is 6x bytes long
	Continues at PATCH1+2EA and is 66x bytes long
	Continues at PATCH0+1E and is 10x bytes long
<<< Fix windowsize matchdown to restore to original when link goes down >>>

PATCH added on 880425 at 1713 by sdw.HSecNS.
     Starts at XSTMS0 and is 4Cx bytes long
<<< Fix NS to show proper time spent in H-SEC process >>>

PATCH added on 880426 at 2214 by sdw.KDCMTS.
     Starts at XNEI7B and is 6x bytes long
	Continues at PATCH1+350 and is 1Ax bytes long
<<< Fix Xray KD command to correctly count number of command circuits >>>

PATCH added on 880408 at 1000 by pk.siocopy.
     Starts at sioi5+8 and is 36x bytes long
<<< Remove SIO input problems with foreground/background collisions >>>

PATCH added on 880628 at 1500 by sdw.SIOCH2.
     Starts at siosnd-4 and is 4x bytes long
	Continues at sion4-6 and is 6x bytes long
	Continues at PATCH1+36A and is 12x bytes long
<<< Correct logic which flagged an unloaded line as saturated >>>

PATCH added on 880623 at 1330 by sdw.OOPS.
     Starts at SFAIL-0a and is 6x bytes long
	Continues at PATCH1+37C and is 10x bytes long
<<< Save R0 and R1 when doing software crashes >>>

PATCH added on 880706 at 1301 by CMR.XRDBRM.
     Starts at DBEGI8 and is 6x bytes long
	Continues at PATCH1+38C and is 20x bytes long
<<< Reset INTXRF flag when entering 'DB' command >>>

PATCH added on 880725 at 1500 by sdw.DBFILL.
     Starts at DBEGI5 and is 6x bytes long
	Continues at PATCH1+39C and is 1Ex bytes long
<<< Prevent crash caused by delay circuits using all bufferlets >>>

PATCH added on 880729 at 1600 by SDW.ZR7263.
     Starts at dsozw7 and is 6x bytes long
	Continues at PATCH1+3BA and is 1Cx bytes long
<<< Fix problem with Zap With Reason which leads to a 7263 crash >>>

PATCH added on 880930 at 115 by sdw.NI cmd.
     Starts at XNID+10 and is 6x bytes long
	Continues at qrychn-6 and is 6x bytes long
	Continues at PATCH1+3D6 and is 100x bytes long
<<< Change Xray NI command to also display the NETIDs for each line >>>

PATCH added on 881128 at 0113 by sdw.GETPWR.
     Starts at getpwr+18 and is 0Ex bytes long
<<< Fix Xray GP to work for all Node and Host numbers >>>

PATCH added on 890625 at 1645 by sdw.ExpOld.
     Starts at atl061+4 and is 6x bytes long
	Continues at PATCH1+4D0 and is 60x bytes long
<<< Don't let links between v5.20+ neighbors come up on old style resets >>>

PATCH added on 881202 at 2313 by sdw.?slot.
     Starts at 0e00a4 and is 6x bytes long
<<< Set up Segment E so that DDT ?SLOT command works properly >>>

PATCH added on 881202 at 2255 by sdw.W.SegE.
     Starts at write4+0a and is 6x bytes long
	Continues at writf4+0a and is 6x bytes long
	Continues at chkdat+0f*4 and is 4x bytes long
	Continues at PATCH1+522 and is 40x bytes long
<<< Prevent Xray W or WS command from writing to Seg E or Seg F >>>

PATCH added on 881213 at 1655 by sdw.FIX RB.
     Starts at xrdbu3+4 and is 6x bytes long
	Continues at PATCH1+552 and is 40x bytes long
<<< Put a range check on Xray RB command >>>

PATCH added on 881213 at 1655 by sdw.FIX SM.
     Starts at setme0+6 and is 6x bytes long
	Continues at PATCH1+572 and is 40x bytes long
<<< Put a range check on Xray SM command >>>

PATCH added on 881213 at 1655 by sdw.FIX AP.
     Starts at setpr0+6 and is 6x bytes long
	Continues at PATCH1+584 and is 40x bytes long
<<< Put a range check on Xray AP command >>>

PATCH added on 890207 at 250 by sdw.HSslot.
     Starts at hstdi5+8 and is 4x bytes long
<<< Fix Xray HS <value> S command to display all hosts for that slot >>>

PATCH added on 890222 at 141 by sdw.KD r8.
     Starts at xneig2-16 and is 12x bytes long
<<< Fix potential crash due to improperly orderred instructions >>>

PATCH added on 890222 at 0059 by sdw.crHDLC.
     Starts at ldrp54-1a and is 6x bytes long
	Continues at PATCH1+596 and is 40x bytes long
<<< Only put HDLC CKSUM ERROR in Crypto log when line is bad >>>

PATCH added on 890707 at 1431 by sdw.XRAYGG.
     Starts at xggad4+8 and is 6x bytes long
	Continues at switch-0a and is 6x bytes long
	Continues at PATCH1+5BA and is 80x bytes long
<<< Patch to allow GG macro to have lowercase Xray usernames >>>

PATCH added on 890929 at 1100 by SHM.CpyInt.
     Starts at SIOIZ4 and is 6x bytes long
	Continues at PATCH1+626 and is 30x bytes long
<<< RESTORE SIOINT CCW >>>

PATCH added on 891009 at 1305 by sln.tdmask.
     Starts at TRCSUP+18 and is 6x bytes long
	Continues at PATCH1+646 and is 14x bytes long
<<< Set XRAY TA/TD/TE to properly mask cmd chnl msgs >>>

PATCH added on 870716 at 1220 by sln.fixta.
     Starts at TRCDUX+10 and is 1Ax bytes long
<<< Set XRAY TA command to output period for ascii-ctrl >>>
End of assembly
1;F   ND7004.N00

;X   (SOURCE)TIII05.WRT

SEG0,RSEG0;P
SEG1,S1SIZE;P
SEGD,SDSIZE;P
SEGF,SFSIZE;P
CTA,CTASIZ;P
%P
%Q
EXIT

!
!; Create the Engine code that runs in Slot 1 from NDxxxx.T01
!R (SYS)NAD
1.5
;X   ND7004.C01

;;      EBUS INTERFACE COMMAND FILE - SYSTEM #: 31  
;@   (SOURCE)EBUS02.I00

End of assembly
;@   ND7004.T01

End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SEG 2 SIZE = 1100

RING 0E0000 101BA 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
CRASH 101BA 103B8
STATUS 103B8 105EE
EBUS 105EE 10CA4
DEFAULT AREA PROTECTIONS ASSUMED.

SEGMENT 0-length 404d, requires 200x bytes of core.
SEGMENT 1-length 3364d, requires 0E00x bytes of core.
SEGMENT 2-length 4480d, requires 1200x bytes of core.
SEGMENT 3-length 65536d, requires 10000x bytes of core.
SEGMENT 4-length 65536d, requires 10000x bytes of core.
SEGMENT 5-length 65536d, requires 10000x bytes of core.
SEGMENT 6-length 65536d, requires 10000x bytes of core.
SEGMENT 0E-length 476d, requires 200x bytes of core.
       265d K-bytes of core
End of assembly
1;F   ND7004.N01

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!
!; Build BND file.  Note that the 68K code is the same in all bases.
!R (SYS)MERLIN
MERGE AND LINK ISIS SLOTS
VERSION  2.10
* ND7004.BND=ND7004.NIB,ND7004.N00,ND7004.N01,(EBUS)EBUS02.O02/S




         SLOT MAP

SLOT BEGINS ENDS
 0   16400  6DBFF
 1   6DC00  B03FF
 2   B0400  C93FF




    MAP OF SLOT  0

SEG  BEGINS ENDS
 0   17400  1E1FF
 1   1E200  2AEFF
 2   2AF00  3AEFF
 3   3AF00  4AEFF
 4   4AF00  5AEFF
 5   5AF00  65EFF
13   65F00  6DBFF
14   16400  173FF




    MAP OF SLOT  1

SEG  BEGINS ENDS
 0   6DE00  6DF93
 1   6E000  6ED23
 2   6EE00  6FF7F
 3   70000  7FFFF
 4   80000  8FFFF
 5   90000  9FFFF
 6   A0000  AFFFF
14   6DC00  6DDDB




    MAP OF SLOT  2   (S-RECORD)

BEGINS ENDS
B0400  B26AC

EXIT

!
!;The NIB files are not needed and can be deleted.
!DELETE ND7004.NIB,ND7004.N00,ND7004.N01


!R (SYS)CKSUM
INPUT: ND7004.*
RULVIM ND7004.LOG
VALMEH ND7004.C01
QEWJIF ND7004.CMD
MORTUM ND7004.C00
QUYGIR ND7004.BAK
YUFVUP ND7004.CTL
PABLIW ND7004.TYM
SUNNAR ND7004.T01
RIVCEW ND7004.BND
INPUT: 

!DIRECT ND7004.BND

ND7004  BND      70   9-NOV-89 2143    ALL RD  NO     35072          

!LOGOUT
1572.55 tru
terminal time: 0:06:57

[Job (EBUS)EBUS.CTL completed]
[Output recorded in file (EBUS)ND7004.LOG]
!PCOM ND7021.LOG=EBUS ND7021/LOG
!SYSNO
TYMSHARE F33-P035/E 3-2-89
!DAYTIME
9-NOV-1989 21:43:52 PST

!; This CTL file rebuilds the BND file for an EBUS base from scratch.
!; The following files must exist:
!DIRECT (EBUS)EBUS02.O02

EBUS02  O02       9   9-MAY-88 1336    ALL RD  NO      4096          

!DIRECT ND7021.TYM,ND7021.T01,ND7021.CMD,ND7021.C00,ND7021.C01

ND7021  T01       2   9-NOV-89 1809    ALL RD  NO        53          
ND7021  TYM       3   9-NOV-89 1717    ALL RD  NO       608          
ND7021  C00       2  26-AUG-88 1859    ALL RD  NO        42          
ND7021  CMD       2  26-AUG-88 1856    ALL RD  NO        43          
ND7021  C01       2  24-AUG-88 1720    ALL RD  NO        37          

!DIRECT ISXRAY.GGY,GOODGY.NQA

GOODGY  NQA       2  14-NOV-88  906    ALL RD  NO       362          
ISXRAY  GGY       2   2-JUL-87 1305    ALL RD  NO       128          

!
!; Create the ISIS Kernel from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND7021.CMD

;; ISIS-II Version 7.03 Sample Command File
;@   (SOURCE)I2IS07.I03

End of assembly
;@   ND7021.TYM

End of assembly
;@   (TYMNET)GOODGY.NQA

End of assembly
;@   (SOURCE)I2IS07.R03

SYNC specified but not assigned...(warning only, no change)
SYNC 1BD6 2442
CLOCKS 2442 2582
MBOARD 2582 26E8
IPI 26E8 2946
FLASH 2946 2DE6
KCAREA 2DE6 2FDC
TTY 2FDC 3300
KERNEL 3300 7B7C
DDT 7B7C 0AB00
   3273d bufferlets allocated to dispatcher
DISPAT 0AB00 16400
.............................................



    ***  ISIS-II  ***
      Version 7.3d

TYMNET-II Node 7021, Kernel Host 5270
Maximum slot number is 2

       >>> HARDWARE CONFIGURATION <<<

Expects enhanced sync microcode
Expects enhanced async microcode
Expects MAC II
Expects maximum baud rate of 1200
Expects 1 sync board(s)
Expects 1 SIO mother-board processor(s)
   Board 0 has 2 channel(s), device address 80
Expects 1 IPI processor(s)
   IPI device 0 has device address 88

       >>> SLOT CONFIGURATIONS <<<

SLOT 0, NODE CODE, has 350 K-bytes of core, from 16400 to 6DBFF
   2 logical unit(s)
   L.U. 0 is M.Board channel 0
   L.U. 1 is M.Board channel 1

SLOT 1 has 266 K-bytes of core, from 6DC00 to 0B03FF
   1 logical unit(s)
   L.U. 0 is M.Board channel 0

SLOT 2 has 100 K-bytes of core, from 0B0400 to 0C93FF
   no logical units

***Highest location used in this configuration is 0C9400

Requires 809d k-bytes of core


.............................................


Code Generated:  11/10/89  05:45:53 GMT

.............................................

End of assembly
;X   (SOURCE)I2IS07.P03

;; ISIS-II Version 7.03 Patch File

;@   (SOURCE)I2IS07.Q03

ISIS 7.03 PATCH 1
  Fixes reversed CTS and DSR on HDLC micro.

ISIS 7.03 PATCH 2
  This patch is superseded by patch 4.

ISIS 7.03 PATCH 3
  Causes ISIS to read memory error log before crashing.

ISIS 7.03 PATCH 4
  Refreshes CPU and MAC registers to avoid degradation.
  (Updated version of patch 2)

ISIS 7.03 PATCH 5
  Correctly initializes registers for checking newlog bit array

ISIS 7.03 PATCH 6
  Wraps around accounting char counts when count exceeds 28 bits

ISIS 7.03 PATCH 7
Patch to prevent disk from doing retries on a 
controller errror

ISIS 7.03 PATCH 8
  Corrects initialization order of Emulated Sync.
  Also it allows window for interrupts to be flushed
  during initialization.

ISIS 7.03 PATCH 9
have DCSLOT free channels for ports in time-out
or clean-up

ISIS 7.03 PATCH 10
Have KRASHI report crashes to dispatcher
and pause slot for 4 seconds

ISIS 7.03 PATCH 11
Keep DDT Mask command from crashing machine

ISIS 7.03 PATCH 12
Have restart SVC disable watch-frog timer

ISIS 7.03 PATCH 13
Crash ISIS on DMA parity error

ISIS 7.03 PATCH 14 
 CLEAR DHANG ON SYSTEM CRASH 

ISIS 7.03 PATCH 15 
THIS PATCH IS USED TO CORRECT  A TID RECOGNITION5 
FOR 300 BAUD WHEN USING HIGH SPEED INTERRUPTS.

ISIS 7.03 PATCH 16 
ISIS VERSION GREATER 6 ALLOWS WRITING PAST SEGMENT 
BOUNDARIES WITHOUT PROTECTION.  CHANGES MADE FOR  
MULTIMEG SUPPORT INDUCED THIS PROBLEM.  THIS PATCH 
PROTECTS ISIS FROM OVER WRITING BOUNDARIES. 
See NSR 1772 

ISIS 7.03 PATCH 17
This patch fixes timing problems associated
with the initialization of HDLC micro-engine
channels that are emulation TYMNET sync.

End of assembly


1;F   ND7021.NIB

70;T
0,SUMTBL;P
INTLEN,IEND-INTLEN;P
%P
SEGF,SFSIZE;P
%Q
EXIT

!
!; Create the node code for slot 0 from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND7021.C00

;; UPDATED 88/05/18 ND7021 ISIS-II T-II JOE SMITH
;A   (SOURCE)TII05.I22

End of assembly
;A   ND7021.TYM

End of assembly
;A   (TYMNET)ISXRAY.GGY

End of assembly
;A   (SOURCE)TII05.R22

End of assembly
;A   (SOURCE)TII05.F22


TYMNET-II Node Code, Version 5.22, ISIS Node

Node: 7021  Kernel Host: 5270

Ports:		Lines:		Links:
   128d Pthru	     0d Sync	     2d TIILNK
     3d Xray	     2d SIO	     0d XLNK
		     2d Total	     2d Total
   256d Disp
     3d Krnl

Maximum number of circuits =  431d 


Bufferlet storage space:

  5E48x bytes (  24d KB) for  431d circuit buffers ( 56d bytes per circuit)
 22112x bytes ( 137d KB) for  271d history buffers (514d bytes per termination)
 27F5Ax bytes ( 160d KB) for  431d total circuits  (379d bytes per circuit)


Memory used by this configuration = 57800x, 350d KB.

Optimal amount of memory for this configuration =   229d  KB.

End of assembly
;A   (SOURCE)TII05.P22


       NETID is 1d.  This is a TYMNET network node.




PATCH added on 870811 at 0900 by JLADEN.
     Starts at ATTLI0+20 and is 10x bytes long
<<< FIX RESET VERSION COMPATIBILTY PROBLEM >>>

PATCH added on 870907 at 0138 by SDW.
     Starts at RTBFA2+4 and is 6x bytes long
<<< PATCH TO FIX REGISTER USAGE BY IMPROVED REBUILD ROUTINE >>>

PATCH added on 870211 at 1800 by SDW.
     Starts at HSTDI4+0C and is 4x bytes long
<<< Patch to have XRAY HS U command display up hosts that have no ports >>>

PATCH added on 880121 at 1301 by sdw.RESET1.
     Starts at ATTL05-8 and is 6x bytes long
	Continues at PATCH1+0 and is 5Cx bytes long
<<< Make old style reset packet always have old style reset data >>>

PATCH added on 880829 at 1400 by sdw.RESET2.
     Starts at ATTLIN+8 and is 6x bytes long
	Continues at PATCH1+5C and is 54x bytes long
<<< Handle neighbor switching between old and expanded resets >>>

PATCH added on 880126 at 1756 by sdw.RES4M1.
     Starts at G04MIN and is 6x bytes long
	Continues at PATCH0+0 and is 0Ex bytes long
	Continues at PATCH1+96 and is 0D8x bytes long
<<< Send a old style reset every four minutes to help lines to come up >>>

PATCH added on 880126 at 1845 by sdw.RES4M2.
     Starts at G01SE3 and is 6x bytes long
	Continues at PATCH1+16E and is 8Ax bytes long
<<< Part 2 of patch to occasionally send old style resets. >>>

PATCH added on 880218 at 1600 by sdw.SIOCHN.
     Starts at siopt4+8 and is 2x bytes long
<<< Allow SIO to send more than 40 packets per second >>>

PATCH added on 880218 at 2330 by sdw.SIORSPC.
     Starts at SIORS and is 10x bytes long
	Continues at SIORR and is 6x bytes long
	Continues at PATCH0+12 and is 4x bytes long
	Continues at PATCH1+1F8 and is 28x bytes long
<<< Part 1 of patch to send only 1 SIO reset per second >>>

PATCH added on 880218 at 2356 by sdw.SIORSP2.
     Starts at G01PER and is 6x bytes long
	Continues at PATCH1+21E and is 1Ex bytes long
<<< Part 2 of patch to send only 1 SIO reset per second >>>

PATCH added on 880306 at 109 by sdw.FIX DB.
     Starts at DBEGIN and is 6x bytes long
	Continues at PATCH1+23C and is 1Cx bytes long
<<< Disable DB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 123 by sdw.FIX WB.
     Starts at XWRBUF and is 6x bytes long
	Continues at PATCH1+258 and is 30x bytes long
	Continues at xwrbuf+6 and is 12x bytes long
<<< Disable WB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 134 by sdw.REMZAP.
     Starts at REMZA6+2 and is 6x bytes long
	Continues at PATCH1+27A and is 10x bytes long
<<< Fix potential crash when Xray user zaps before clearing delay circuits >>>

PATCH added on 880307 at 0934 by sdw.NETIDBG.
     Starts at ATTNID and is 12x bytes long
	Continues at PATCH0+16 and is 8x bytes long
<<< Do not put neighbor with bad NETID on node's bad guy list >>>

PATCH added on 880317 at 1523 by sdw.XRAYIN.
     Starts at XRYIN7 and is 4x bytes long
<<< Fix local XRAY to have a dismiss when waiting for character >>>

PATCH added on 880408 at 1500 by SLN.FNDLNK.
     Starts at CRQZOG+6 and is 0Ex bytes long
	Continues at LEP9V2-20 and is 0Ex bytes long
	Continues at PATCH1+28A and is 4Cx bytes long
<<< Fix crash 0007 from Qexec corruption >>>

PATCH added on 880410 at 1525 by sdw.ATT.R2.
     Starts at ATTLDW and is 6x bytes long
	Continues at PATCH1+2D6 and is 14x bytes long
<<< Fix crash in line attach logic due to corrupted register >>>

PATCH added on 880405 at 2334 by sdw.WSZDWN.
     Starts at MCHD04+4 and is 6x bytes long
	Continues at TRLINZ and is 6x bytes long
	Continues at PATCH1+2EA and is 66x bytes long
	Continues at PATCH0+1E and is 10x bytes long
<<< Fix windowsize matchdown to restore to original when link goes down >>>

PATCH added on 880425 at 1713 by sdw.HSecNS.
     Starts at XSTMS0 and is 4Cx bytes long
<<< Fix NS to show proper time spent in H-SEC process >>>

PATCH added on 880426 at 2214 by sdw.KDCMTS.
     Starts at XNEI7B and is 6x bytes long
	Continues at PATCH1+350 and is 1Ax bytes long
<<< Fix Xray KD command to correctly count number of command circuits >>>

PATCH added on 880408 at 1000 by pk.siocopy.
     Starts at sioi5+8 and is 36x bytes long
<<< Remove SIO input problems with foreground/background collisions >>>

PATCH added on 880628 at 1500 by sdw.SIOCH2.
     Starts at siosnd-4 and is 4x bytes long
	Continues at sion4-6 and is 6x bytes long
	Continues at PATCH1+36A and is 12x bytes long
<<< Correct logic which flagged an unloaded line as saturated >>>

PATCH added on 880623 at 1330 by sdw.OOPS.
     Starts at SFAIL-0a and is 6x bytes long
	Continues at PATCH1+37C and is 10x bytes long
<<< Save R0 and R1 when doing software crashes >>>

PATCH added on 880706 at 1301 by CMR.XRDBRM.
     Starts at DBEGI8 and is 6x bytes long
	Continues at PATCH1+38C and is 20x bytes long
<<< Reset INTXRF flag when entering 'DB' command >>>

PATCH added on 880725 at 1500 by sdw.DBFILL.
     Starts at DBEGI5 and is 6x bytes long
	Continues at PATCH1+39C and is 1Ex bytes long
<<< Prevent crash caused by delay circuits using all bufferlets >>>

PATCH added on 880729 at 1600 by SDW.ZR7263.
     Starts at dsozw7 and is 6x bytes long
	Continues at PATCH1+3BA and is 1Cx bytes long
<<< Fix problem with Zap With Reason which leads to a 7263 crash >>>

PATCH added on 880930 at 115 by sdw.NI cmd.
     Starts at XNID+10 and is 6x bytes long
	Continues at qrychn-6 and is 6x bytes long
	Continues at PATCH1+3D6 and is 100x bytes long
<<< Change Xray NI command to also display the NETIDs for each line >>>

PATCH added on 881128 at 0113 by sdw.GETPWR.
     Starts at getpwr+18 and is 0Ex bytes long
<<< Fix Xray GP to work for all Node and Host numbers >>>

PATCH added on 890625 at 1645 by sdw.ExpOld.
     Starts at atl061+4 and is 6x bytes long
	Continues at PATCH1+4D0 and is 60x bytes long
<<< Don't let links between v5.20+ neighbors come up on old style resets >>>

PATCH added on 881202 at 2313 by sdw.?slot.
     Starts at 0e00a4 and is 6x bytes long
<<< Set up Segment E so that DDT ?SLOT command works properly >>>

PATCH added on 881202 at 2255 by sdw.W.SegE.
     Starts at write4+0a and is 6x bytes long
	Continues at writf4+0a and is 6x bytes long
	Continues at chkdat+0f*4 and is 4x bytes long
	Continues at PATCH1+522 and is 40x bytes long
<<< Prevent Xray W or WS command from writing to Seg E or Seg F >>>

PATCH added on 881213 at 1655 by sdw.FIX RB.
     Starts at xrdbu3+4 and is 6x bytes long
	Continues at PATCH1+552 and is 40x bytes long
<<< Put a range check on Xray RB command >>>

PATCH added on 881213 at 1655 by sdw.FIX SM.
     Starts at setme0+6 and is 6x bytes long
	Continues at PATCH1+572 and is 40x bytes long
<<< Put a range check on Xray SM command >>>

PATCH added on 881213 at 1655 by sdw.FIX AP.
     Starts at setpr0+6 and is 6x bytes long
	Continues at PATCH1+584 and is 40x bytes long
<<< Put a range check on Xray AP command >>>

PATCH added on 890207 at 250 by sdw.HSslot.
     Starts at hstdi5+8 and is 4x bytes long
<<< Fix Xray HS <value> S command to display all hosts for that slot >>>

PATCH added on 890222 at 141 by sdw.KD r8.
     Starts at xneig2-16 and is 12x bytes long
<<< Fix potential crash due to improperly orderred instructions >>>

PATCH added on 890222 at 0059 by sdw.crHDLC.
     Starts at ldrp54-1a and is 6x bytes long
	Continues at PATCH1+596 and is 40x bytes long
<<< Only put HDLC CKSUM ERROR in Crypto log when line is bad >>>

PATCH added on 890707 at 1431 by sdw.XRAYGG.
     Starts at xggad4+8 and is 6x bytes long
	Continues at switch-0a and is 6x bytes long
	Continues at PATCH1+5BA and is 80x bytes long
<<< Patch to allow GG macro to have lowercase Xray usernames >>>

PATCH added on 890929 at 1100 by SHM.CpyInt.
     Starts at SIOIZ4 and is 6x bytes long
	Continues at PATCH1+626 and is 30x bytes long
<<< RESTORE SIOINT CCW >>>

PATCH added on 891009 at 1305 by sln.tdmask.
     Starts at TRCSUP+18 and is 6x bytes long
	Continues at PATCH1+646 and is 14x bytes long
<<< Set XRAY TA/TD/TE to properly mask cmd chnl msgs >>>

PATCH added on 870716 at 1220 by sln.fixta.
     Starts at TRCDUX+10 and is 1Ax bytes long
<<< Set XRAY TA command to output period for ascii-ctrl >>>
End of assembly
1;F   ND7021.N00

;X   (SOURCE)TIII05.WRT

SEG0,RSEG0;P
SEG1,S1SIZE;P
SEGD,SDSIZE;P
SEGF,SFSIZE;P
CTA,CTASIZ;P
%P
%Q
EXIT

!
!; Create the Engine code that runs in Slot 1 from NDxxxx.T01
!R (SYS)NAD
1.5
;X   ND7021.C01

;;      EBUS INTERFACE COMMAND FILE - SYSTEM #: 38  
;@   (SOURCE)EBUS02.I00

End of assembly
;@   ND7021.T01

End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SEG 2 SIZE = 1100

RING 0E0000 101BA 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
CRASH 101BA 103B8
STATUS 103B8 105EE
EBUS 105EE 10CA4
DEFAULT AREA PROTECTIONS ASSUMED.

SEGMENT 0-length 404d, requires 200x bytes of core.
SEGMENT 1-length 3364d, requires 0E00x bytes of core.
SEGMENT 2-length 4480d, requires 1200x bytes of core.
SEGMENT 3-length 65536d, requires 10000x bytes of core.
SEGMENT 4-length 65536d, requires 10000x bytes of core.
SEGMENT 5-length 65536d, requires 10000x bytes of core.
SEGMENT 6-length 65536d, requires 10000x bytes of core.
SEGMENT 0E-length 476d, requires 200x bytes of core.
       265d K-bytes of core
End of assembly
1;F   ND7021.N01

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!
!; Build BND file.  Note that the 68K code is the same in all bases.
!R (SYS)MERLIN
MERGE AND LINK ISIS SLOTS
VERSION  2.10
* ND7021.BND=ND7021.NIB,ND7021.N00,ND7021.N01,(EBUS)EBUS02.O02/S




         SLOT MAP

SLOT BEGINS ENDS
 0   16400  6DBFF
 1   6DC00  B03FF
 2   B0400  C93FF




    MAP OF SLOT  0

SEG  BEGINS ENDS
 0   17400  1E1FF
 1   1E200  2AEFF
 2   2AF00  3AEFF
 3   3AF00  4AEFF
 4   4AF00  5AEFF
 5   5AF00  65EFF
13   65F00  6DBFF
14   16400  173FF




    MAP OF SLOT  1

SEG  BEGINS ENDS
 0   6DE00  6DF93
 1   6E000  6ED23
 2   6EE00  6FF7F
 3   70000  7FFFF
 4   80000  8FFFF
 5   90000  9FFFF
 6   A0000  AFFFF
14   6DC00  6DDDB




    MAP OF SLOT  2   (S-RECORD)

BEGINS ENDS
B0400  B26AC

EXIT

!
!;The NIB files are not needed and can be deleted.
!DELETE ND7021.NIB,ND7021.N00,ND7021.N01


!R (SYS)CKSUM
INPUT: ND7021.*
TUYJOS ND7021.LOG
RELNIK ND7021.BAK
MOVMIN ND7021.C01
RIJVIZ ND7021.CMD
SUHDIJ ND7021.C00
YEBSOV ND7021.TYM
DESDAK ND7021.T01
NOZLUD ND7021.BND
INPUT: 

!DIRECT ND7021.BND

ND7021  BND      70   9-NOV-89 2150    ALL RD  NO     35072          

!LOGOUT
1580.13 tru
terminal time: 0:06:56

[Job (EBUS)EBUS.CTL completed]
[Output recorded in file (EBUS)ND7021.LOG]
!PCOM ND7165.LOG=EBUS ND7165/LOG
!SYSNO
TYMSHARE F33-P035/E 3-2-89
!DAYTIME
9-NOV-1989 21:50:49 PST

!; This CTL file rebuilds the BND file for an EBUS base from scratch.
!; The following files must exist:
!DIRECT (EBUS)EBUS02.O02

EBUS02  O02       9   9-MAY-88 1336    ALL RD  NO      4096          

!DIRECT ND7165.TYM,ND7165.T01,ND7165.CMD,ND7165.C00,ND7165.C01

ND7165  T01       2   9-NOV-89 1809    ALL RD  NO        53          
ND7165  TYM       3   9-NOV-89 1721    ALL RD  NO       605          
ND7165  C00       2  26-AUG-88 1859    ALL RD  NO        42          
ND7165  CMD       2  26-AUG-88 1856    ALL RD  NO        43          
ND7165  C01       2  24-AUG-88 1720    ALL RD  NO        37          

!DIRECT ISXRAY.GGY,GOODGY.NQA

GOODGY  NQA       2  14-NOV-88  906    ALL RD  NO       362          
ISXRAY  GGY       2   2-JUL-87 1305    ALL RD  NO       128          

!
!; Create the ISIS Kernel from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND7165.CMD

;; ISIS-II Version 7.03 Sample Command File
;@   (SOURCE)I2IS07.I03

End of assembly
;@   ND7165.TYM

End of assembly
;@   (TYMNET)GOODGY.NQA

End of assembly
;@   (SOURCE)I2IS07.R03

SYNC specified but not assigned...(warning only, no change)
SYNC 1BD6 2442
CLOCKS 2442 2582
MBOARD 2582 26E8
IPI 26E8 2946
FLASH 2946 2DE6
KCAREA 2DE6 2FDC
TTY 2FDC 3300
KERNEL 3300 7B7C
DDT 7B7C 0AB00
   3273d bufferlets allocated to dispatcher
DISPAT 0AB00 16400
.............................................



    ***  ISIS-II  ***
      Version 7.3d

TYMNET-II Node 7165, Kernel Host 2546
Maximum slot number is 2

       >>> HARDWARE CONFIGURATION <<<

Expects enhanced sync microcode
Expects enhanced async microcode
Expects MAC II
Expects maximum baud rate of 1200
Expects 1 sync board(s)
Expects 1 SIO mother-board processor(s)
   Board 0 has 2 channel(s), device address 80
Expects 1 IPI processor(s)
   IPI device 0 has device address 88

       >>> SLOT CONFIGURATIONS <<<

SLOT 0, NODE CODE, has 350 K-bytes of core, from 16400 to 6DBFF
   2 logical unit(s)
   L.U. 0 is M.Board channel 0
   L.U. 1 is M.Board channel 1

SLOT 1 has 266 K-bytes of core, from 6DC00 to 0B03FF
   1 logical unit(s)
   L.U. 0 is M.Board channel 0

SLOT 2 has 100 K-bytes of core, from 0B0400 to 0C93FF
   no logical units

***Highest location used in this configuration is 0C9400

Requires 809d k-bytes of core


.............................................


Code Generated:  11/10/89  05:52:53 GMT

.............................................

End of assembly
;X   (SOURCE)I2IS07.P03

;; ISIS-II Version 7.03 Patch File

;@   (SOURCE)I2IS07.Q03

ISIS 7.03 PATCH 1
  Fixes reversed CTS and DSR on HDLC micro.

ISIS 7.03 PATCH 2
  This patch is superseded by patch 4.

ISIS 7.03 PATCH 3
  Causes ISIS to read memory error log before crashing.

ISIS 7.03 PATCH 4
  Refreshes CPU and MAC registers to avoid degradation.
  (Updated version of patch 2)

ISIS 7.03 PATCH 5
  Correctly initializes registers for checking newlog bit array

ISIS 7.03 PATCH 6
  Wraps around accounting char counts when count exceeds 28 bits

ISIS 7.03 PATCH 7
Patch to prevent disk from doing retries on a 
controller errror

ISIS 7.03 PATCH 8
  Corrects initialization order of Emulated Sync.
  Also it allows window for interrupts to be flushed
  during initialization.

ISIS 7.03 PATCH 9
have DCSLOT free channels for ports in time-out
or clean-up

ISIS 7.03 PATCH 10
Have KRASHI report crashes to dispatcher
and pause slot for 4 seconds

ISIS 7.03 PATCH 11
Keep DDT Mask command from crashing machine

ISIS 7.03 PATCH 12
Have restart SVC disable watch-frog timer

ISIS 7.03 PATCH 13
Crash ISIS on DMA parity error

ISIS 7.03 PATCH 14 
 CLEAR DHANG ON SYSTEM CRASH 

ISIS 7.03 PATCH 15 
THIS PATCH IS USED TO CORRECT  A TID RECOGNITION5 
FOR 300 BAUD WHEN USING HIGH SPEED INTERRUPTS.

ISIS 7.03 PATCH 16 
ISIS VERSION GREATER 6 ALLOWS WRITING PAST SEGMENT 
BOUNDARIES WITHOUT PROTECTION.  CHANGES MADE FOR  
MULTIMEG SUPPORT INDUCED THIS PROBLEM.  THIS PATCH 
PROTECTS ISIS FROM OVER WRITING BOUNDARIES. 
See NSR 1772 

ISIS 7.03 PATCH 17
This patch fixes timing problems associated
with the initialization of HDLC micro-engine
channels that are emulation TYMNET sync.

End of assembly


1;F   ND7165.NIB

70;T
0,SUMTBL;P
INTLEN,IEND-INTLEN;P
%P
SEGF,SFSIZE;P
%Q
EXIT

!
!; Create the node code for slot 0 from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND7165.C00

;; UPDATED 88/05/18 ND7165 ISIS-II T-II JOE SMITH
;A   (SOURCE)TII05.I22

End of assembly
;A   ND7165.TYM

End of assembly
;A   (TYMNET)ISXRAY.GGY

End of assembly
;A   (SOURCE)TII05.R22

End of assembly
;A   (SOURCE)TII05.F22


TYMNET-II Node Code, Version 5.22, ISIS Node

Node: 7165  Kernel Host: 2546

Ports:		Lines:		Links:
   128d Pthru	     0d Sync	     2d TIILNK
     3d Xray	     2d SIO	     0d XLNK
		     2d Total	     2d Total
   256d Disp
     3d Krnl

Maximum number of circuits =  431d 


Bufferlet storage space:

  5E48x bytes (  24d KB) for  431d circuit buffers ( 56d bytes per circuit)
 22112x bytes ( 137d KB) for  271d history buffers (514d bytes per termination)
 27F5Ax bytes ( 160d KB) for  431d total circuits  (379d bytes per circuit)


Memory used by this configuration = 57800x, 350d KB.

Optimal amount of memory for this configuration =   229d  KB.

End of assembly
;A   (SOURCE)TII05.P22


       NETID is 1d.  This is a TYMNET network node.




PATCH added on 870811 at 0900 by JLADEN.
     Starts at ATTLI0+20 and is 10x bytes long
<<< FIX RESET VERSION COMPATIBILTY PROBLEM >>>

PATCH added on 870907 at 0138 by SDW.
     Starts at RTBFA2+4 and is 6x bytes long
<<< PATCH TO FIX REGISTER USAGE BY IMPROVED REBUILD ROUTINE >>>

PATCH added on 870211 at 1800 by SDW.
     Starts at HSTDI4+0C and is 4x bytes long
<<< Patch to have XRAY HS U command display up hosts that have no ports >>>

PATCH added on 880121 at 1301 by sdw.RESET1.
     Starts at ATTL05-8 and is 6x bytes long
	Continues at PATCH1+0 and is 5Cx bytes long
<<< Make old style reset packet always have old style reset data >>>

PATCH added on 880829 at 1400 by sdw.RESET2.
     Starts at ATTLIN+8 and is 6x bytes long
	Continues at PATCH1+5C and is 54x bytes long
<<< Handle neighbor switching between old and expanded resets >>>

PATCH added on 880126 at 1756 by sdw.RES4M1.
     Starts at G04MIN and is 6x bytes long
	Continues at PATCH0+0 and is 0Ex bytes long
	Continues at PATCH1+96 and is 0D8x bytes long
<<< Send a old style reset every four minutes to help lines to come up >>>

PATCH added on 880126 at 1845 by sdw.RES4M2.
     Starts at G01SE3 and is 6x bytes long
	Continues at PATCH1+16E and is 8Ax bytes long
<<< Part 2 of patch to occasionally send old style resets. >>>

PATCH added on 880218 at 1600 by sdw.SIOCHN.
     Starts at siopt4+8 and is 2x bytes long
<<< Allow SIO to send more than 40 packets per second >>>

PATCH added on 880218 at 2330 by sdw.SIORSPC.
     Starts at SIORS and is 10x bytes long
	Continues at SIORR and is 6x bytes long
	Continues at PATCH0+12 and is 4x bytes long
	Continues at PATCH1+1F8 and is 28x bytes long
<<< Part 1 of patch to send only 1 SIO reset per second >>>

PATCH added on 880218 at 2356 by sdw.SIORSP2.
     Starts at G01PER and is 6x bytes long
	Continues at PATCH1+21E and is 1Ex bytes long
<<< Part 2 of patch to send only 1 SIO reset per second >>>

PATCH added on 880306 at 109 by sdw.FIX DB.
     Starts at DBEGIN and is 6x bytes long
	Continues at PATCH1+23C and is 1Cx bytes long
<<< Disable DB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 123 by sdw.FIX WB.
     Starts at XWRBUF and is 6x bytes long
	Continues at PATCH1+258 and is 30x bytes long
	Continues at xwrbuf+6 and is 12x bytes long
<<< Disable WB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 134 by sdw.REMZAP.
     Starts at REMZA6+2 and is 6x bytes long
	Continues at PATCH1+27A and is 10x bytes long
<<< Fix potential crash when Xray user zaps before clearing delay circuits >>>

PATCH added on 880307 at 0934 by sdw.NETIDBG.
     Starts at ATTNID and is 12x bytes long
	Continues at PATCH0+16 and is 8x bytes long
<<< Do not put neighbor with bad NETID on node's bad guy list >>>

PATCH added on 880317 at 1523 by sdw.XRAYIN.
     Starts at XRYIN7 and is 4x bytes long
<<< Fix local XRAY to have a dismiss when waiting for character >>>

PATCH added on 880408 at 1500 by SLN.FNDLNK.
     Starts at CRQZOG+6 and is 0Ex bytes long
	Continues at LEP9V2-20 and is 0Ex bytes long
	Continues at PATCH1+28A and is 4Cx bytes long
<<< Fix crash 0007 from Qexec corruption >>>

PATCH added on 880410 at 1525 by sdw.ATT.R2.
     Starts at ATTLDW and is 6x bytes long
	Continues at PATCH1+2D6 and is 14x bytes long
<<< Fix crash in line attach logic due to corrupted register >>>

PATCH added on 880405 at 2334 by sdw.WSZDWN.
     Starts at MCHD04+4 and is 6x bytes long
	Continues at TRLINZ and is 6x bytes long
	Continues at PATCH1+2EA and is 66x bytes long
	Continues at PATCH0+1E and is 10x bytes long
<<< Fix windowsize matchdown to restore to original when link goes down >>>

PATCH added on 880425 at 1713 by sdw.HSecNS.
     Starts at XSTMS0 and is 4Cx bytes long
<<< Fix NS to show proper time spent in H-SEC process >>>

PATCH added on 880426 at 2214 by sdw.KDCMTS.
     Starts at XNEI7B and is 6x bytes long
	Continues at PATCH1+350 and is 1Ax bytes long
<<< Fix Xray KD command to correctly count number of command circuits >>>

PATCH added on 880408 at 1000 by pk.siocopy.
     Starts at sioi5+8 and is 36x bytes long
<<< Remove SIO input problems with foreground/background collisions >>>

PATCH added on 880628 at 1500 by sdw.SIOCH2.
     Starts at siosnd-4 and is 4x bytes long
	Continues at sion4-6 and is 6x bytes long
	Continues at PATCH1+36A and is 12x bytes long
<<< Correct logic which flagged an unloaded line as saturated >>>

PATCH added on 880623 at 1330 by sdw.OOPS.
     Starts at SFAIL-0a and is 6x bytes long
	Continues at PATCH1+37C and is 10x bytes long
<<< Save R0 and R1 when doing software crashes >>>

PATCH added on 880706 at 1301 by CMR.XRDBRM.
     Starts at DBEGI8 and is 6x bytes long
	Continues at PATCH1+38C and is 20x bytes long
<<< Reset INTXRF flag when entering 'DB' command >>>

PATCH added on 880725 at 1500 by sdw.DBFILL.
     Starts at DBEGI5 and is 6x bytes long
	Continues at PATCH1+39C and is 1Ex bytes long
<<< Prevent crash caused by delay circuits using all bufferlets >>>

PATCH added on 880729 at 1600 by SDW.ZR7263.
     Starts at dsozw7 and is 6x bytes long
	Continues at PATCH1+3BA and is 1Cx bytes long
<<< Fix problem with Zap With Reason which leads to a 7263 crash >>>

PATCH added on 880930 at 115 by sdw.NI cmd.
     Starts at XNID+10 and is 6x bytes long
	Continues at qrychn-6 and is 6x bytes long
	Continues at PATCH1+3D6 and is 100x bytes long
<<< Change Xray NI command to also display the NETIDs for each line >>>

PATCH added on 881128 at 0113 by sdw.GETPWR.
     Starts at getpwr+18 and is 0Ex bytes long
<<< Fix Xray GP to work for all Node and Host numbers >>>

PATCH added on 890625 at 1645 by sdw.ExpOld.
     Starts at atl061+4 and is 6x bytes long
	Continues at PATCH1+4D0 and is 60x bytes long
<<< Don't let links between v5.20+ neighbors come up on old style resets >>>

PATCH added on 881202 at 2313 by sdw.?slot.
     Starts at 0e00a4 and is 6x bytes long
<<< Set up Segment E so that DDT ?SLOT command works properly >>>

PATCH added on 881202 at 2255 by sdw.W.SegE.
     Starts at write4+0a and is 6x bytes long
	Continues at writf4+0a and is 6x bytes long
	Continues at chkdat+0f*4 and is 4x bytes long
	Continues at PATCH1+522 and is 40x bytes long
<<< Prevent Xray W or WS command from writing to Seg E or Seg F >>>

PATCH added on 881213 at 1655 by sdw.FIX RB.
     Starts at xrdbu3+4 and is 6x bytes long
	Continues at PATCH1+552 and is 40x bytes long
<<< Put a range check on Xray RB command >>>

PATCH added on 881213 at 1655 by sdw.FIX SM.
     Starts at setme0+6 and is 6x bytes long
	Continues at PATCH1+572 and is 40x bytes long
<<< Put a range check on Xray SM command >>>

PATCH added on 881213 at 1655 by sdw.FIX AP.
     Starts at setpr0+6 and is 6x bytes long
	Continues at PATCH1+584 and is 40x bytes long
<<< Put a range check on Xray AP command >>>

PATCH added on 890207 at 250 by sdw.HSslot.
     Starts at hstdi5+8 and is 4x bytes long
<<< Fix Xray HS <value> S command to display all hosts for that slot >>>

PATCH added on 890222 at 141 by sdw.KD r8.
     Starts at xneig2-16 and is 12x bytes long
<<< Fix potential crash due to improperly orderred instructions >>>

PATCH added on 890222 at 0059 by sdw.crHDLC.
     Starts at ldrp54-1a and is 6x bytes long
	Continues at PATCH1+596 and is 40x bytes long
<<< Only put HDLC CKSUM ERROR in Crypto log when line is bad >>>

PATCH added on 890707 at 1431 by sdw.XRAYGG.
     Starts at xggad4+8 and is 6x bytes long
	Continues at switch-0a and is 6x bytes long
	Continues at PATCH1+5BA and is 80x bytes long
<<< Patch to allow GG macro to have lowercase Xray usernames >>>

PATCH added on 890929 at 1100 by SHM.CpyInt.
     Starts at SIOIZ4 and is 6x bytes long
	Continues at PATCH1+626 and is 30x bytes long
<<< RESTORE SIOINT CCW >>>

PATCH added on 891009 at 1305 by sln.tdmask.
     Starts at TRCSUP+18 and is 6x bytes long
	Continues at PATCH1+646 and is 14x bytes long
<<< Set XRAY TA/TD/TE to properly mask cmd chnl msgs >>>

PATCH added on 870716 at 1220 by sln.fixta.
     Starts at TRCDUX+10 and is 1Ax bytes long
<<< Set XRAY TA command to output period for ascii-ctrl >>>
End of assembly
1;F   ND7165.N00

;X   (SOURCE)TIII05.WRT

SEG0,RSEG0;P
SEG1,S1SIZE;P
SEGD,SDSIZE;P
SEGF,SFSIZE;P
CTA,CTASIZ;P
%P
%Q
EXIT

!
!; Create the Engine code that runs in Slot 1 from NDxxxx.T01
!R (SYS)NAD
1.5
;X   ND7165.C01

;;      EBUS INTERFACE COMMAND FILE - SYSTEM #: 25  
;@   (SOURCE)EBUS02.I00

End of assembly
;@   ND7165.T01

End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SEG 2 SIZE = 1100

RING 0E0000 101BA 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
CRASH 101BA 103B8
STATUS 103B8 105EE
EBUS 105EE 10CA4
DEFAULT AREA PROTECTIONS ASSUMED.

SEGMENT 0-length 404d, requires 200x bytes of core.
SEGMENT 1-length 3364d, requires 0E00x bytes of core.
SEGMENT 2-length 4480d, requires 1200x bytes of core.
SEGMENT 3-length 65536d, requires 10000x bytes of core.
SEGMENT 4-length 65536d, requires 10000x bytes of core.
SEGMENT 5-length 65536d, requires 10000x bytes of core.
SEGMENT 6-length 65536d, requires 10000x bytes of core.
SEGMENT 0E-length 476d, requires 200x bytes of core.
       265d K-bytes of core
End of assembly
1;F   ND7165.N01

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!
!; Build BND file.  Note that the 68K code is the same in all bases.
!R (SYS)MERLIN
MERGE AND LINK ISIS SLOTS
VERSION  2.10
* ND7165.BND=ND7165.NIB,ND7165.N00,ND7165.N01,(EBUS)EBUS02.O02/S




         SLOT MAP

SLOT BEGINS ENDS
 0   16400  6DBFF
 1   6DC00  B03FF
 2   B0400  C93FF




    MAP OF SLOT  0

SEG  BEGINS ENDS
 0   17400  1E1FF
 1   1E200  2AEFF
 2   2AF00  3AEFF
 3   3AF00  4AEFF
 4   4AF00  5AEFF
 5   5AF00  65EFF
13   65F00  6DBFF
14   16400  173FF




    MAP OF SLOT  1

SEG  BEGINS ENDS
 0   6DE00  6DF93
 1   6E000  6ED23
 2   6EE00  6FF7F
 3   70000  7FFFF
 4   80000  8FFFF
 5   90000  9FFFF
 6   A0000  AFFFF
14   6DC00  6DDDB




    MAP OF SLOT  2   (S-RECORD)

BEGINS ENDS
B0400  B26AC

EXIT

!
!;The NIB files are not needed and can be deleted.
!DELETE ND7165.NIB,ND7165.N00,ND7165.N01


!R (SYS)CKSUM
INPUT: ND7165.*
DUSCOR ND7165.LOG
ZEBPES ND7165.BAK
DIKJOX ND7165.C01
NUFXEN ND7165.CMD
YACFOQ ND7165.C00
ZOQYUK ND7165.TYM
BEHBOZ ND7165.T01
YASGAK ND7165.BND
INPUT: 

!DIRECT ND7165.BND

ND7165  BND      70   9-NOV-89 2157    ALL RD  NO     35072          

!LOGOUT
1599.71 tru
terminal time: 0:06:57

[Job (EBUS)EBUS.CTL completed]
[Output recorded in file (EBUS)ND7165.LOG]
!PCOM ND0350.LOG=EBUS ND0350/LOG
!SYSNO
TYMSHARE F33-P035/E 3-2-89
!DAYTIME
9-NOV-1989 21:57:49 PST

!; This CTL file rebuilds the BND file for an EBUS base from scratch.
!; The following files must exist:
!DIRECT (EBUS)EBUS02.O02

EBUS02  O02       9   9-MAY-88 1336    ALL RD  NO      4096          

!DIRECT ND0350.TYM,ND0350.T01,ND0350.CMD,ND0350.C00,ND0350.C01

ND0350  T01       2   9-NOV-89 1819    ALL RD  NO        53          
ND0350  TYM       3   9-NOV-89 1713    ALL RD  NO       607          
ND0350  C01       2   9-FEB-89 1431    ALL RD  NO        37          
ND0350  C00       2  26-AUG-88 1859    ALL RD  NO        42          
ND0350  CMD       2  26-AUG-88 1856    ALL RD  NO        43          

!DIRECT ISXRAY.GGY,GOODGY.NQA

GOODGY  NQA       2  14-NOV-88  906    ALL RD  NO       362          
ISXRAY  GGY       2   2-JUL-87 1305    ALL RD  NO       128          

!
!; Create the ISIS Kernel from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND0350.CMD

;; ISIS-II Version 7.03 Sample Command File
;@   (SOURCE)I2IS07.I03

End of assembly
;@   ND0350.TYM

End of assembly
;@   (TYMNET)GOODGY.NQA

End of assembly
;@   (SOURCE)I2IS07.R03

SYNC specified but not assigned...(warning only, no change)
SYNC 1BD6 2442
CLOCKS 2442 2582
MBOARD 2582 26E8
IPI 26E8 2946
FLASH 2946 2DE6
KCAREA 2DE6 2FDC
TTY 2FDC 3300
KERNEL 3300 7B7C
DDT 7B7C 0AB00
   3273d bufferlets allocated to dispatcher
DISPAT 0AB00 16400
.............................................



    ***  ISIS-II  ***
      Version 7.3d

TYMNET-II Node 10350, Kernel Host 8671
Maximum slot number is 2

       >>> HARDWARE CONFIGURATION <<<

Expects enhanced sync microcode
Expects enhanced async microcode
Expects MAC II
Expects maximum baud rate of 1200
Expects 1 sync board(s)
Expects 1 SIO mother-board processor(s)
   Board 0 has 2 channel(s), device address 80
Expects 1 IPI processor(s)
   IPI device 0 has device address 88

       >>> SLOT CONFIGURATIONS <<<

SLOT 0, NODE CODE, has 350 K-bytes of core, from 16400 to 6DBFF
   2 logical unit(s)
   L.U. 0 is M.Board channel 0
   L.U. 1 is M.Board channel 1

SLOT 1 has 266 K-bytes of core, from 6DC00 to 0B03FF
   1 logical unit(s)
   L.U. 0 is M.Board channel 0

SLOT 2 has 100 K-bytes of core, from 0B0400 to 0C93FF
   no logical units

***Highest location used in this configuration is 0C9400

Requires 809d k-bytes of core


.............................................


Code Generated:  11/10/89  05:59:54 GMT

.............................................

End of assembly
;X   (SOURCE)I2IS07.P03

;; ISIS-II Version 7.03 Patch File

;@   (SOURCE)I2IS07.Q03

ISIS 7.03 PATCH 1
  Fixes reversed CTS and DSR on HDLC micro.

ISIS 7.03 PATCH 2
  This patch is superseded by patch 4.

ISIS 7.03 PATCH 3
  Causes ISIS to read memory error log before crashing.

ISIS 7.03 PATCH 4
  Refreshes CPU and MAC registers to avoid degradation.
  (Updated version of patch 2)

ISIS 7.03 PATCH 5
  Correctly initializes registers for checking newlog bit array

ISIS 7.03 PATCH 6
  Wraps around accounting char counts when count exceeds 28 bits

ISIS 7.03 PATCH 7
Patch to prevent disk from doing retries on a 
controller errror

ISIS 7.03 PATCH 8
  Corrects initialization order of Emulated Sync.
  Also it allows window for interrupts to be flushed
  during initialization.

ISIS 7.03 PATCH 9
have DCSLOT free channels for ports in time-out
or clean-up

ISIS 7.03 PATCH 10
Have KRASHI report crashes to dispatcher
and pause slot for 4 seconds

ISIS 7.03 PATCH 11
Keep DDT Mask command from crashing machine

ISIS 7.03 PATCH 12
Have restart SVC disable watch-frog timer

ISIS 7.03 PATCH 13
Crash ISIS on DMA parity error

ISIS 7.03 PATCH 14 
 CLEAR DHANG ON SYSTEM CRASH 

ISIS 7.03 PATCH 15 
THIS PATCH IS USED TO CORRECT  A TID RECOGNITION5 
FOR 300 BAUD WHEN USING HIGH SPEED INTERRUPTS.

ISIS 7.03 PATCH 16 
ISIS VERSION GREATER 6 ALLOWS WRITING PAST SEGMENT 
BOUNDARIES WITHOUT PROTECTION.  CHANGES MADE FOR  
MULTIMEG SUPPORT INDUCED THIS PROBLEM.  THIS PATCH 
PROTECTS ISIS FROM OVER WRITING BOUNDARIES. 
See NSR 1772 

ISIS 7.03 PATCH 17
This patch fixes timing problems associated
with the initialization of HDLC micro-engine
channels that are emulation TYMNET sync.

End of assembly


1;F   ND0350.NIB

70;T
0,SUMTBL;P
INTLEN,IEND-INTLEN;P
%P
SEGF,SFSIZE;P
%Q
EXIT

!
!; Create the node code for slot 0 from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND0350.C00

;; UPDATED 88/05/18 ND0350 ISIS-II T-II JOE SMITH
;A   (SOURCE)TII05.I22

End of assembly
;A   ND0350.TYM

End of assembly
;A   (TYMNET)ISXRAY.GGY

End of assembly
;A   (SOURCE)TII05.R22

End of assembly
;A   (SOURCE)TII05.F22


TYMNET-II Node Code, Version 5.22, ISIS Node

Node: 10350  Kernel Host: 8671

Ports:		Lines:		Links:
   128d Pthru	     0d Sync	     2d TIILNK
     3d Xray	     2d SIO	     0d XLNK
		     2d Total	     2d Total
   256d Disp
     3d Krnl

Maximum number of circuits =  431d 


Bufferlet storage space:

  5E48x bytes (  24d KB) for  431d circuit buffers ( 56d bytes per circuit)
 22112x bytes ( 137d KB) for  271d history buffers (514d bytes per termination)
 27F5Ax bytes ( 160d KB) for  431d total circuits  (379d bytes per circuit)


Memory used by this configuration = 57800x, 350d KB.

Optimal amount of memory for this configuration =   229d  KB.

End of assembly
;A   (SOURCE)TII05.P22


       NETID is 1d.  This is a TYMNET network node.




PATCH added on 870811 at 0900 by JLADEN.
     Starts at ATTLI0+20 and is 10x bytes long
<<< FIX RESET VERSION COMPATIBILTY PROBLEM >>>

PATCH added on 870907 at 0138 by SDW.
     Starts at RTBFA2+4 and is 6x bytes long
<<< PATCH TO FIX REGISTER USAGE BY IMPROVED REBUILD ROUTINE >>>

PATCH added on 870211 at 1800 by SDW.
     Starts at HSTDI4+0C and is 4x bytes long
<<< Patch to have XRAY HS U command display up hosts that have no ports >>>

PATCH added on 880121 at 1301 by sdw.RESET1.
     Starts at ATTL05-8 and is 6x bytes long
	Continues at PATCH1+0 and is 5Cx bytes long
<<< Make old style reset packet always have old style reset data >>>

PATCH added on 880829 at 1400 by sdw.RESET2.
     Starts at ATTLIN+8 and is 6x bytes long
	Continues at PATCH1+5C and is 54x bytes long
<<< Handle neighbor switching between old and expanded resets >>>

PATCH added on 880126 at 1756 by sdw.RES4M1.
     Starts at G04MIN and is 6x bytes long
	Continues at PATCH0+0 and is 0Ex bytes long
	Continues at PATCH1+96 and is 0D8x bytes long
<<< Send a old style reset every four minutes to help lines to come up >>>

PATCH added on 880126 at 1845 by sdw.RES4M2.
     Starts at G01SE3 and is 6x bytes long
	Continues at PATCH1+16E and is 8Ax bytes long
<<< Part 2 of patch to occasionally send old style resets. >>>

PATCH added on 880218 at 1600 by sdw.SIOCHN.
     Starts at siopt4+8 and is 2x bytes long
<<< Allow SIO to send more than 40 packets per second >>>

PATCH added on 880218 at 2330 by sdw.SIORSPC.
     Starts at SIORS and is 10x bytes long
	Continues at SIORR and is 6x bytes long
	Continues at PATCH0+12 and is 4x bytes long
	Continues at PATCH1+1F8 and is 28x bytes long
<<< Part 1 of patch to send only 1 SIO reset per second >>>

PATCH added on 880218 at 2356 by sdw.SIORSP2.
     Starts at G01PER and is 6x bytes long
	Continues at PATCH1+21E and is 1Ex bytes long
<<< Part 2 of patch to send only 1 SIO reset per second >>>

PATCH added on 880306 at 109 by sdw.FIX DB.
     Starts at DBEGIN and is 6x bytes long
	Continues at PATCH1+23C and is 1Cx bytes long
<<< Disable DB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 123 by sdw.FIX WB.
     Starts at XWRBUF and is 6x bytes long
	Continues at PATCH1+258 and is 30x bytes long
	Continues at xwrbuf+6 and is 12x bytes long
<<< Disable WB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 134 by sdw.REMZAP.
     Starts at REMZA6+2 and is 6x bytes long
	Continues at PATCH1+27A and is 10x bytes long
<<< Fix potential crash when Xray user zaps before clearing delay circuits >>>

PATCH added on 880307 at 0934 by sdw.NETIDBG.
     Starts at ATTNID and is 12x bytes long
	Continues at PATCH0+16 and is 8x bytes long
<<< Do not put neighbor with bad NETID on node's bad guy list >>>

PATCH added on 880317 at 1523 by sdw.XRAYIN.
     Starts at XRYIN7 and is 4x bytes long
<<< Fix local XRAY to have a dismiss when waiting for character >>>

PATCH added on 880408 at 1500 by SLN.FNDLNK.
     Starts at CRQZOG+6 and is 0Ex bytes long
	Continues at LEP9V2-20 and is 0Ex bytes long
	Continues at PATCH1+28A and is 4Cx bytes long
<<< Fix crash 0007 from Qexec corruption >>>

PATCH added on 880410 at 1525 by sdw.ATT.R2.
     Starts at ATTLDW and is 6x bytes long
	Continues at PATCH1+2D6 and is 14x bytes long
<<< Fix crash in line attach logic due to corrupted register >>>

PATCH added on 880405 at 2334 by sdw.WSZDWN.
     Starts at MCHD04+4 and is 6x bytes long
	Continues at TRLINZ and is 6x bytes long
	Continues at PATCH1+2EA and is 66x bytes long
	Continues at PATCH0+1E and is 10x bytes long
<<< Fix windowsize matchdown to restore to original when link goes down >>>

PATCH added on 880425 at 1713 by sdw.HSecNS.
     Starts at XSTMS0 and is 4Cx bytes long
<<< Fix NS to show proper time spent in H-SEC process >>>

PATCH added on 880426 at 2214 by sdw.KDCMTS.
     Starts at XNEI7B and is 6x bytes long
	Continues at PATCH1+350 and is 1Ax bytes long
<<< Fix Xray KD command to correctly count number of command circuits >>>

PATCH added on 880408 at 1000 by pk.siocopy.
     Starts at sioi5+8 and is 36x bytes long
<<< Remove SIO input problems with foreground/background collisions >>>

PATCH added on 880628 at 1500 by sdw.SIOCH2.
     Starts at siosnd-4 and is 4x bytes long
	Continues at sion4-6 and is 6x bytes long
	Continues at PATCH1+36A and is 12x bytes long
<<< Correct logic which flagged an unloaded line as saturated >>>

PATCH added on 880623 at 1330 by sdw.OOPS.
     Starts at SFAIL-0a and is 6x bytes long
	Continues at PATCH1+37C and is 10x bytes long
<<< Save R0 and R1 when doing software crashes >>>

PATCH added on 880706 at 1301 by CMR.XRDBRM.
     Starts at DBEGI8 and is 6x bytes long
	Continues at PATCH1+38C and is 20x bytes long
<<< Reset INTXRF flag when entering 'DB' command >>>

PATCH added on 880725 at 1500 by sdw.DBFILL.
     Starts at DBEGI5 and is 6x bytes long
	Continues at PATCH1+39C and is 1Ex bytes long
<<< Prevent crash caused by delay circuits using all bufferlets >>>

PATCH added on 880729 at 1600 by SDW.ZR7263.
     Starts at dsozw7 and is 6x bytes long
	Continues at PATCH1+3BA and is 1Cx bytes long
<<< Fix problem with Zap With Reason which leads to a 7263 crash >>>

PATCH added on 880930 at 115 by sdw.NI cmd.
     Starts at XNID+10 and is 6x bytes long
	Continues at qrychn-6 and is 6x bytes long
	Continues at PATCH1+3D6 and is 100x bytes long
<<< Change Xray NI command to also display the NETIDs for each line >>>

PATCH added on 881128 at 0113 by sdw.GETPWR.
     Starts at getpwr+18 and is 0Ex bytes long
<<< Fix Xray GP to work for all Node and Host numbers >>>

PATCH added on 890625 at 1645 by sdw.ExpOld.
     Starts at atl061+4 and is 6x bytes long
	Continues at PATCH1+4D0 and is 60x bytes long
<<< Don't let links between v5.20+ neighbors come up on old style resets >>>

PATCH added on 881202 at 2313 by sdw.?slot.
     Starts at 0e00a4 and is 6x bytes long
<<< Set up Segment E so that DDT ?SLOT command works properly >>>

PATCH added on 881202 at 2255 by sdw.W.SegE.
     Starts at write4+0a and is 6x bytes long
	Continues at writf4+0a and is 6x bytes long
	Continues at chkdat+0f*4 and is 4x bytes long
	Continues at PATCH1+522 and is 40x bytes long
<<< Prevent Xray W or WS command from writing to Seg E or Seg F >>>

PATCH added on 881213 at 1655 by sdw.FIX RB.
     Starts at xrdbu3+4 and is 6x bytes long
	Continues at PATCH1+552 and is 40x bytes long
<<< Put a range check on Xray RB command >>>

PATCH added on 881213 at 1655 by sdw.FIX SM.
     Starts at setme0+6 and is 6x bytes long
	Continues at PATCH1+572 and is 40x bytes long
<<< Put a range check on Xray SM command >>>

PATCH added on 881213 at 1655 by sdw.FIX AP.
     Starts at setpr0+6 and is 6x bytes long
	Continues at PATCH1+584 and is 40x bytes long
<<< Put a range check on Xray AP command >>>

PATCH added on 890207 at 250 by sdw.HSslot.
     Starts at hstdi5+8 and is 4x bytes long
<<< Fix Xray HS <value> S command to display all hosts for that slot >>>

PATCH added on 890222 at 141 by sdw.KD r8.
     Starts at xneig2-16 and is 12x bytes long
<<< Fix potential crash due to improperly orderred instructions >>>

PATCH added on 890222 at 0059 by sdw.crHDLC.
     Starts at ldrp54-1a and is 6x bytes long
	Continues at PATCH1+596 and is 40x bytes long
<<< Only put HDLC CKSUM ERROR in Crypto log when line is bad >>>

PATCH added on 890707 at 1431 by sdw.XRAYGG.
     Starts at xggad4+8 and is 6x bytes long
	Continues at switch-0a and is 6x bytes long
	Continues at PATCH1+5BA and is 80x bytes long
<<< Patch to allow GG macro to have lowercase Xray usernames >>>

PATCH added on 890929 at 1100 by SHM.CpyInt.
     Starts at SIOIZ4 and is 6x bytes long
	Continues at PATCH1+626 and is 30x bytes long
<<< RESTORE SIOINT CCW >>>

PATCH added on 891009 at 1305 by sln.tdmask.
     Starts at TRCSUP+18 and is 6x bytes long
	Continues at PATCH1+646 and is 14x bytes long
<<< Set XRAY TA/TD/TE to properly mask cmd chnl msgs >>>

PATCH added on 870716 at 1220 by sln.fixta.
     Starts at TRCDUX+10 and is 1Ax bytes long
<<< Set XRAY TA command to output period for ascii-ctrl >>>
End of assembly
1;F   ND0350.N00

;X   (SOURCE)TIII05.WRT

SEG0,RSEG0;P
SEG1,S1SIZE;P
SEGD,SDSIZE;P
SEGF,SFSIZE;P
CTA,CTASIZ;P
%P
%Q
EXIT

!
!; Create the Engine code that runs in Slot 1 from NDxxxx.T01
!R (SYS)NAD
1.5
;X   ND0350.C01

;;      EBUS INTERFACE COMMAND FILE - SYSTEM #: 32
;@   (SOURCE)EBUS02.I00

End of assembly
;@   ND0350.T01

End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SEG 2 SIZE = 1100

RING 0E0000 101BA 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
CRASH 101BA 103B8
STATUS 103B8 105EE
EBUS 105EE 10CA4
DEFAULT AREA PROTECTIONS ASSUMED.

SEGMENT 0-length 404d, requires 200x bytes of core.
SEGMENT 1-length 3364d, requires 0E00x bytes of core.
SEGMENT 2-length 4480d, requires 1200x bytes of core.
SEGMENT 3-length 65536d, requires 10000x bytes of core.
SEGMENT 4-length 65536d, requires 10000x bytes of core.
SEGMENT 5-length 65536d, requires 10000x bytes of core.
SEGMENT 6-length 65536d, requires 10000x bytes of core.
SEGMENT 0E-length 476d, requires 200x bytes of core.
       265d K-bytes of core
End of assembly
1;F   ND0350.N01

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!
!; Build BND file.  Note that the 68K code is the same in all bases.
!R (SYS)MERLIN
MERGE AND LINK ISIS SLOTS
VERSION  2.10
* ND0350.BND=ND0350.NIB,ND0350.N00,ND0350.N01,(EBUS)EBUS02.O02/S




         SLOT MAP

SLOT BEGINS ENDS
 0   16400  6DBFF
 1   6DC00  B03FF
 2   B0400  C93FF




    MAP OF SLOT  0

SEG  BEGINS ENDS
 0   17400  1E1FF
 1   1E200  2AEFF
 2   2AF00  3AEFF
 3   3AF00  4AEFF
 4   4AF00  5AEFF
 5   5AF00  65EFF
13   65F00  6DBFF
14   16400  173FF




    MAP OF SLOT  1

SEG  BEGINS ENDS
 0   6DE00  6DF93
 1   6E000  6ED23
 2   6EE00  6FF7F
 3   70000  7FFFF
 4   80000  8FFFF
 5   90000  9FFFF
 6   A0000  AFFFF
14   6DC00  6DDDB




    MAP OF SLOT  2   (S-RECORD)

BEGINS ENDS
B0400  B26AC

EXIT

!
!;The NIB files are not needed and can be deleted.
!DELETE ND0350.NIB,ND0350.N00,ND0350.N01


!R (SYS)CKSUM
INPUT: ND0350.*
BAPXOD ND0350.LOG
KIQZAN ND0350.CMD
JUDTUF ND0350.C00
TAGYOB ND0350.BAK
MUYDAS ND0350.C01
COKDEL ND0350.TYM
XUCYOG ND0350.T01
GEZXIW ND0350.BND
INPUT: 

!DIRECT ND0350.BND

ND0350  BND      70   9-NOV-89 2204    ALL RD  NO     35072          

!LOGOUT
1575.08 tru
terminal time: 0:07:18

[Job (EBUS)EBUS.CTL completed]
[Output recorded in file (EBUS)ND0350.LOG]
!SEND JMS
Type letter:
; PCOM v1.63 - processed: (EBUS)BND.LOG = (EBUS)BND.CTL
; Options: DETACH  LOG NOAPPEND SUPERSEDE LICENSE 
; Limits: TIME:0 TRULIMIT:0 
; Status: completed.
; Output recorded in file (EBUS)BND.LOG.

End of SAIL execution
!LOGOUT
[inferiors will be disowned]
1457.44 tru
terminal time: 2:02:25
3 I